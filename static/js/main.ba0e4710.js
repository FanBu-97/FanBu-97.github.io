/*! For license information please see main.ba0e4710.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},8584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6190),a="manifest.json",o=function(){function e(e){this.urlPath=e,"/"!==this.urlPath.charAt(this.urlPath.length-1)&&(this.urlPath+="/")}return e.prototype.loadManifest=function(){var e=this;return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e.urlPath+a),r.onload=function(){e.checkpointManifest=JSON.parse(r.responseText),t()},r.onerror=function(t){throw new Error("manifest.json not found at "+e.urlPath+". "+t)},r.send()}))},e.prototype.getCheckpointManifest=function(){var e=this;return null==this.checkpointManifest?new Promise((function(t,n){e.loadManifest().then((function(){t(e.checkpointManifest)}))})):new Promise((function(t,n){t(e.checkpointManifest)}))},e.prototype.getAllVariables=function(){var e=this;return null!=this.variables?new Promise((function(t,n){t(e.variables)})):new Promise((function(t,n){e.getCheckpointManifest().then((function(n){for(var r=Object.keys(e.checkpointManifest),a=[],o=0;o<r.length;o++)a.push(e.getVariable(r[o]));Promise.all(a).then((function(n){e.variables={};for(var a=0;a<n.length;a++)e.variables[r[a]]=n[a];t(e.variables)}))}))}))},e.prototype.getVariable=function(e){var t=this;if(!(e in this.checkpointManifest))throw new Error("Cannot load non-existant variable "+e);var n=function(n,a){var o=new XMLHttpRequest;o.responseType="arraybuffer";var i=t.checkpointManifest[e].filename;o.open("GET",t.urlPath+i),o.onload=function(){if(404===o.status)throw new Error("Not found variable "+e);var a=new Float32Array(o.response),i=r.NDArray.make(t.checkpointManifest[e].shape,{values:a});n(i)},o.onerror=function(t){throw new Error("Could not fetch variable "+e+": "+t)},o.send()};return null==this.checkpointManifest?new Promise((function(e,r){t.loadManifest().then((function(){new Promise(n).then(e)}))})):new Promise(n)},e}();t.CheckpointLoader=o},1635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6190),a=n(6008),o=function(){function e(e){this.dataShapes=e,this.normalizationInfo={}}return e.prototype.getDataShape=function(e){return this.dataShapes[e]},e.prototype.getData=function(){return this.dataset},e.prototype.getStats=function(){var e=this;if(null==this.dataset)throw new Error("Data is null.");return this.dataset.map((function(t){return e.getStatsForData(t)}))},e.prototype.getStatsForData=function(e){var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=e.map((function(e,t){return t}));a.shuffle(r),r=r.slice(.1*r.length);for(var o=0;o<r.length;o++)for(var i=e[r[o]].dataSync(),s=0;s<i.length;s++)t=Math.min(t,i[s]),n=Math.max(n,i[s]);return{inputMin:t,inputMax:n,exampleCount:e.length,shape:e[0].shape}},e.prototype.normalizeExamplesToRange=function(e,t,n,o,i){var s=n instanceof Float32Array&&t instanceof Float32Array,u=o instanceof Float32Array&&i instanceof Float32Array,l=a.sizeFromShape(e[0].shape),c=[];return e.forEach((function(e){for(var a=e.dataSync(),p=new Float32Array(l),f=0;f<l;f++){var d=s?t[f]:t,h=(s?n[f]:n)-d,v=u?o[f]:o,m=(u?i[f]:i)-v;p[f]=0===h?v:v+m*(a[f]-d)/h}c.push(r.NDArray.make(e.shape,{values:p},"float32"))})),c},e.prototype.computeBounds=function(e){var t=this;if(null==this.dataset)throw new Error("Data is null.");var n=a.sizeFromShape(this.dataset[e][0].shape);this.normalizationInfo[e]={isNormalized:!1,minValues:new Float32Array(n),maxValues:new Float32Array(n)};for(var r=0;r<n;r++)this.normalizationInfo[e].minValues[r]=Number.POSITIVE_INFINITY,this.normalizationInfo[e].maxValues[r]=Number.NEGATIVE_INFINITY;this.dataset[e].forEach((function(r){for(var a=r.dataSync(),o=0;o<n;o++)t.normalizationInfo[e].minValues[o]=Math.min(t.normalizationInfo[e].minValues[o],a[o]),t.normalizationInfo[e].maxValues[o]=Math.max(t.normalizationInfo[e].maxValues[o],a[o])}))},e.prototype.normalizeWithinBounds=function(e,t,n){if(null==this.dataset)throw new Error("Data is null.");if(e>=this.dataset.length)throw new Error("dataIndex out of bounds.");var r,a;null==this.normalizationInfo[e]&&this.computeBounds(e),this.normalizationInfo[e].isNormalized?(r=this.normalizationInfo[e].lowerBound,a=this.normalizationInfo[e].upperBound):(r=this.normalizationInfo[e].minValues,a=this.normalizationInfo[e].maxValues),this.dataset[e]=this.normalizeExamplesToRange(this.dataset[e],r,a,t,n),this.normalizationInfo[e].isNormalized=!0,this.normalizationInfo[e].lowerBound=t,this.normalizationInfo[e].upperBound=n},e.prototype.isNormalized=function(e){return null!=this.normalizationInfo&&this.normalizationInfo[e].isNormalized},e.prototype.removeNormalization=function(e){if(null==this.dataset)throw new Error("Training or test data is null.");this.isNormalized(e)&&(this.dataset[e]=this.normalizeExamplesToRange(this.dataset[e],this.normalizationInfo[e].lowerBound,this.normalizationInfo[e].upperBound,this.normalizationInfo[e].minValues,this.normalizationInfo[e].maxValues),this.normalizationInfo[e].isNormalized=!1)},e.prototype.unnormalizeExamples=function(e,t){return this.isNormalized(t)?this.normalizeExamplesToRange(e,this.normalizationInfo[t].lowerBound,this.normalizationInfo[t].upperBound,this.normalizationInfo[t].minValues,this.normalizationInfo[t].maxValues):e},e.prototype.dispose=function(){if(null!=this.dataset){for(var e=0;e<this.dataset.length;e++)for(var t=0;t<this.dataset[e].length;t++)this.dataset[e][t].dispose();this.dataset=[]}},e}();t.InMemoryDataset=o},3648:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(6008),i=function(){function e(e){this.inputs=e,this.idx=0,this.inputCounter=0,this.epoch=0,this.shuffledIndices=o.createShuffledIndices(e[0].length),this.numInputs=e.length;for(var t=this.inputs[0].length,n=0;n<this.numInputs;n++)o.assert(this.inputs[n].length===t,"Number of examples must match across different inputs.");for(n=0;n<this.numInputs;n++)for(var r=this.inputs[n][0].shape,a=0;a<this.inputs[n].length;a++)o.assertShapesMatch(r,this.inputs[n][a].shape)}return e.prototype.getCurrentExampleIndex=function(){var e=this.idx;return this.inputCounter++,this.inputCounter>=this.numInputs&&(this.idx++,this.inputCounter=0,this.idx>=this.inputs[0].length&&(this.idx=0,this.epoch++)),e},e.prototype.getNextInput=function(e){var t=this.getCurrentExampleIndex();return this.inputs[e][this.shuffledIndices[t]]},e.prototype.getEpoch=function(){return this.epoch},e.prototype.getInputProviders=function(){for(var e=[],t=0;t<this.numInputs;t++)e.push(this.getInputProvider(t));return e},e}();t.InMemoryShuffledInputProviderBuilder=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getInputProvider=function(e){var t=this;return{getNextCopy:function(n){return a.NDArray.like(t.getNextInput(e))},disposeCopy:function(e,t){t.dispose()}}},t}(i);t.InCPUMemoryShuffledInputProviderBuilder=s;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getInputProvider=function(e){var t=this;return{getNextCopy:function(n){return n.clone(t.getNextInput(e))},disposeCopy:function(e,t){t.dispose()}}},t}(i);t.InGPUMemoryShuffledInputProviderBuilder=u},5705:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(6008),i=n(1635);t.getXhrDatasetConfig=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){t(JSON.parse(r.responseText))},r.onerror=function(e){n(e)},r.send()}))};var s=function(e){function t(t){var n=e.call(this,t.data.map((function(e){return e.shape})))||this;return n.xhrDatasetConfig=t,n}return r(t,e),t.prototype.getNDArray=function(e){var t="png"===e.dataType?function(e,t){return new Promise((function(n,r){var a=new Image;a.setAttribute("crossOrigin",""),a.onload=function(){var e=function(e,t){var n=document.createElement("canvas"),r=n.getContext("2d"),a=e.height,i=o.sizeFromShape(t),s=new Uint8Array(a*i);if(e.width!==t[0]*t[1])throw new Error("Image width ("+e.width+") must be multiple of rows*columns ("+t[0]+"*"+t[1]+") of the ndarray");n.width=e.width,n.height=1e3;for(var c=0,p=n.width,f=n.height,d=0,h=0,v=p,m=f,y=t[2],g=0,b=Math.ceil(a/n.height),x=0;x<b;++x){var w=x*n.height;x===b-1&&a%n.height>0&&(n.height=a%n.height,m=f=n.height),r.drawImage(e,c,w,p,f,d,h,v,m);var E=r.getImageData(0,0,n.width,n.height).data;1===y?u(E,s,g):l(E,s,g),g+=n.height*i}return s}(a,t);a.src="",a=null,n(e)},a.src=e.path}))}(e,e.shape):function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e.path),r.responseType="arraybuffer",r.onload=function(n){var a="float32"===e.dataType?new Float32Array(r.response):new Uint8Array(r.response);t(a)},r.onerror=function(e){return n(e)},r.send()}))}(e),n=o.sizeFromShape(e.shape);return t.then((function(t){for(var r=[],o=0;o<t.length/n;o++){var i=t.subarray(o*n,(o+1)*n),s=a.NDArray.make(e.shape,{values:new Float32Array(i)},"float32");r.push(s)}return r}))},t.prototype.fetchData=function(){var e=this;return new Promise((function(t,n){var r=e.xhrDatasetConfig.data.map((function(t){return e.getNDArray(t)}));Promise.all(r).then((function(n){e.dataset=n,t()}))}))},t}(i.InMemoryDataset);function u(e,t,n){for(var r=n,a=0;a<e.length;a+=4)t[r++]=e[a]}function l(e,t,n){for(var r=n,a=0;a<e.length;a+=4)t[r]=e[a],t[r+1]=e[a+1],t[r+2]=e[a+2],r+=3}t.XhrDataset=s},5285:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}},4873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(5285),o=n(9104),i=n(6008);function s(e){if(0===e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=document.createElement("canvas");return 1===e?t.getContext("webgl")||t.getContext("experimental-webgl"):t.getContext("webgl2")}function u(e){if(null!=e){var t=e.getExtension("WEBGL_lose_context");if(null==t)throw new Error("Extension WEBGL_lose_context not supported on this browser.");t.loseContext()}}function l(e){var t=s(e);return null!=t&&(u(t),!0)}!function(e){e[e.NUMBER=0]="NUMBER",e[e.BOOLEAN=1]="BOOLEAN"}(r=t.Type||(t.Type={})),t.URL_PROPERTIES=[{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED",type:r.BOOLEAN},{name:"WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",type:r.BOOLEAN},{name:"WEBGL_VERSION",type:r.NUMBER},{name:"WEBGL_FLOAT_TEXTURE_ENABLED",type:r.BOOLEAN},{name:"WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED",type:r.BOOLEAN}];var c=function(){function e(e){this.features={},this.globalMath=null,this.backendRegistry={},this.prevBackendRegistry=this.backendRegistry,null!=e&&(this.features=e)}return e.prototype.get=function(e){return e in this.features||(this.features[e]=this.evaluateFeature(e)),this.features[e]},e.prototype.getBestBackend=function(){for(var e=["webgl","cpu"],t=0;t<e.length;++t){var n=e[t];if(n in this.backendRegistry)return this.backendRegistry[n]}throw new Error("No backend found in registry.")},e.prototype.evaluateFeature=function(e){if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED"===e){var t=this.get("WEBGL_VERSION");return 0!==t&&function(e){var t=s(e),n=1===e?"EXT_disjoint_timer_query":"EXT_disjoint_timer_query_webgl2",r=null!=t.getExtension(n);return null!=t&&u(t),r}(t)}if("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE"===e)return this.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED")&&!a.isMobile();if("WEBGL_VERSION"===e)return l(2)?2:l(1)?1:0;if("WEBGL_FLOAT_TEXTURE_ENABLED"===e)return function(e){if(0===e)return!1;var t=s(e);if(1===e){if(null==t.getExtension("OES_texture_float"))return!1}else if(null==t.getExtension("EXT_color_buffer_float"))return!1;var n=t.createFramebuffer(),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);var a=2===e?t.RGBA32F:t.RGBA;t.texImage2D(t.TEXTURE_2D,0,a,1,1,0,t.RGBA,t.FLOAT,null),t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;t.readPixels(0,0,1,1,t.RGBA,t.FLOAT,new Float32Array(4));var i=t.getError()===t.NO_ERROR;return u(t),o&&i}(this.get("WEBGL_VERSION"));if("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED"===e)return function(e){if(2!==e)return!1;var t=s(e),n=null!=t.getExtension("WEBGL_get_buffer_sub_data_async");return u(t),n}(this.get("WEBGL_VERSION"));throw new Error("Unknown feature "+e+".")},e.prototype.setFeatures=function(e){this.empty(),this.features=e},e.prototype.reset=function(){this.globalMath=null,this.backendRegistry=this.prevBackendRegistry,this.features=f()},e.prototype.setMath=function(e){this.globalMath=e},e.prototype.getBackend=function(e){return this.backendRegistry[e]},e.prototype.registerBackend=function(e,t){if(e in this.backendRegistry)throw new Error(e+" backend was already registered");try{var n=t();return this.backendRegistry[e]=n,!0}catch(r){return!1}},Object.defineProperty(e.prototype,"math",{get:function(){if(null==this.globalMath){var e=this.getBestBackend();this.globalMath=new o.NDArrayMath(e,!1)}return this.globalMath},enumerable:!0,configurable:!0}),e.prototype.empty=function(){this.globalMath=null,this.prevBackendRegistry=this.backendRegistry,this.backendRegistry={},this.features=null},e}();t.Environment=c;var p="dljsflags";function f(){var e={};if("undefined"===typeof window)return e;var n=i.getQueryParams(window.location.search);if(p in n){var a={};n.dljsflags.split(",").forEach((function(e){var t=e.split(":"),n=t[0],r=t[1];a[n]=r})),t.URL_PROPERTIES.forEach((function(t){t.name in a&&(console.log("Setting feature override from URL "+t.name+": "+a[t.name]),t.type===r.NUMBER?e[t.name]=+a[t.name]:t.type===r.BOOLEAN?e[t.name]="true"===a[t.name]:console.warn("Unknown URL param: "+t.name+"."))}))}return e}t.ENV=function(){var e=function(){var e;if("undefined"!==typeof window)e=window;else{if("undefined"===typeof n.g)throw new Error("Could not find a global object");e=n.g}return e}();return e.ENV=e.ENV||new c(f()),e.ENV}()},6518:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1732),o=n(8038),i=n(9239),s=n(6190),u=n(6008),l=function(){function e(e){this.g=e}return e.prototype.dense=function(e,t,n,r,o,i,s){void 0===r&&(r=null),void 0===o&&(o=!0),void 0===i&&(i=new a.VarianceScalingInitializer),void 0===s&&(s=new a.ZerosInitializer);var u=this.g.variable(e+"-weights",i.initialize([t.shape[0],n],t.shape[0],n)),l=this.g.matmul(t,u);if(o){var c=this.g.variable(e+"-bias",s.initialize([n],t.shape[0],n));l=this.g.add(l,c)}return null!=r&&(l=r(l)),l},e}();t.GraphLayers=l;var c=function(){function e(){this.nodes=[],this.layers=new l(this)}return e.prototype.variable=function(e,t){return this.addNodeAndReturnOutput(new d(this,e,t))},e.prototype.placeholder=function(e,t){return this.addNodeAndReturnOutput(new h(this,e,t))},e.prototype.constant=function(e){var t;if("number"===typeof e)t=s.Scalar.new(e);else if(e instanceof s.NDArray)t=e;else{if(!(e instanceof Array))throw new Error("unimplemented constant type.");var n=u.flatten(e),r=new Float32Array(n);t=s.NDArray.make(u.inferShape(e),{values:r})}return this.addNodeAndReturnOutput(new v(this,t))},e.prototype.reshape=function(e,t){return this.addNodeAndReturnOutput(new m(this,"Reshape",e,t))},e.prototype.fusedLinearCombination=function(e,t,n,r){return this.addNodeAndReturnOutput(new y(this,e,t,n,r))},e.prototype.add=function(e,t){return this.addNodeAndReturnOutput(new g(this,e,t))},e.prototype.subtract=function(e,t){return this.addNodeAndReturnOutput(new b(this,e,t))},e.prototype.multiply=function(e,t){return this.addNodeAndReturnOutput(new x(this,e,t))},e.prototype.divide=function(e,t){return this.addNodeAndReturnOutput(new w(this,e,t))},e.prototype.reduceSum=function(e){return this.addNodeAndReturnOutput(new E(this,e))},e.prototype.concat3d=function(e,t,n){return this.addNodeAndReturnOutput(new k(this,e,t,n))},e.prototype.matmul=function(e,t){return this.addNodeAndReturnOutput(new S(this,e,t))},e.prototype.conv2d=function(e,t,n,r,a,o,i){return void 0===o&&(o=1),this.addNodeAndReturnOutput(new C(this,e,t,n,r,a,o,i))},e.prototype.maxPool=function(e,t,n,r){return void 0===n&&(n=1),this.addNodeAndReturnOutput(new T(this,e,t,n,r))},e.prototype.exp=function(e){return this.addNodeAndReturnOutput(new P(this,e))},e.prototype.log=function(e){return this.addNodeAndReturnOutput(new M(this,e))},e.prototype.relu=function(e){return this.addNodeAndReturnOutput(new A(this,e))},e.prototype.leakyRelu=function(e,t){return this.addNodeAndReturnOutput(new N(this,e,t))},e.prototype.prelu=function(e,t){return this.addNodeAndReturnOutput(new _(this,e,t))},e.prototype.elu=function(e){return this.addNodeAndReturnOutput(new O(this,e))},e.prototype.tanh=function(e){return this.addNodeAndReturnOutput(new D(this,e))},e.prototype.sigmoid=function(e){return this.addNodeAndReturnOutput(new R(this,e))},e.prototype.square=function(e){return this.addNodeAndReturnOutput(new I(this,e))},e.prototype.softmax=function(e){return this.addNodeAndReturnOutput(new F(this,e))},e.prototype.softmaxCrossEntropyCost=function(e,t){return this.addNodeAndReturnOutput(new L(this,e,t))},e.prototype.meanSquaredCost=function(e,t){return this.addNodeAndReturnOutput(new z(this,e,t))},e.prototype.argmax=function(e){return this.addNodeAndReturnOutput(new U(this,e))},e.prototype.argmaxEquals=function(e,t){return this.addNodeAndReturnOutput(new B(this,e,t))},e.prototype.addNodeAndReturnOutput=function(e){return this.nodes.push(e),e.validate(),e.output},e.prototype.getNodes=function(){return this.nodes},e}();t.Graph=c;var p=function(){function e(t){this.shape=t,this.id=e.nextID++}return e.nextID=0,e}();t.Tensor=p;var f=function(){function e(t,n,r,a){this.graph=t,this.name=n,this.inputs=r,this.output=a,this.id=e.nextID++,a.node=this}return e.nextID=0,e}();t.Node=f;var d=function(e){function t(t,n,r){var a=e.call(this,t,n,{},new p(r.shape))||this;return a.data=r,a}return r(t,e),t.prototype.validate=function(){u.assert(null!=this.data,"Error adding variable op: Data for variable '"+this.name+"' is null or undefined")},t}(f);t.VariableNode=d;var h=function(e){function t(t,n,r){return e.call(this,t,n,{},new p(r))||this}return r(t,e),t.prototype.validate=function(){},t}(f);t.PlaceholderNode=h;var v=function(e){function t(t,n){var r=e.call(this,t,"Constant",{},new p(n.shape))||this;return r.data=n,r}return r(t,e),t.prototype.validate=function(){u.assert(null!=this.data,"Error adding constant: data for placeholder '"+this.name+"' is null or undefined")},t}(f);t.ConstantNode=v;var m=function(e){function t(t,n,r,a){var o=e.call(this,t,n,{x:r},new p(a))||this;return o.name=n,o.x=r,o.shape=a,o}return r(t,e),t.prototype.validate=function(){var e=u.sizeFromShape(this.x.shape),t=u.sizeFromShape(this.shape);u.assert(e===t,"Error making reshape operation: input to reshape '"+this.name+"' of shape ("+this.x.shape+") does not match size of requested shape "+this.shape+".")},t.X="x",t}(f);t.ReshapeNode=m;var y=function(e){function t(t,n,r,a,o){var i=e.call(this,t,"Linear Combination",{t1:n,t2:r,c1:a,c2:o},new p(n.shape))||this;return i.t1=n,i.t2=r,i.c1=a,i.c2=o,i}return r(t,e),t.prototype.validate=function(){if(u.assertShapesMatch(this.t1.shape,this.t2.shape),!u.isScalarShape(this.c1.shape))throw new Error("Error adding fusedLinearCombination: c1 is not a scalar, got shape: "+this.c1.shape);if(!u.isScalarShape(this.c2.shape))throw new Error("Error adding fusedLinearCombination: c2 is not a scalar, got shape: "+this.c2.shape)},t.T1="t1",t.T2="t2",t.C1="c1",t.C2="c2",t}(f);t.FusedLinearCombinationNode=y;var g=function(e){function t(t,n,r){var a=e.call(this,t,"Add",{t1:n,t2:r},new p(1===u.sizeFromShape(n.shape)||n.shape.length<r.shape.length?r.shape:n.shape))||this;return a.t1=n,a.t2=r,a}return r(t,e),t.prototype.validate=function(){u.assert(1===u.sizeFromShape(this.t1.shape)||1===u.sizeFromShape(this.t2.shape)||u.arraysEqual(this.t1.shape,this.t2.shape)||2===this.t1.shape.length&&1===this.t2.shape.length&&this.t1.shape[1]===this.t2.shape[0]||1===this.t1.shape.length&&2===this.t2.shape.length&&this.t1.shape[0]===this.t2.shape[1],"Error adding add operation op: one of inputs must be scalar, shapes "+this.t1.shape+" and "+this.t2.shape+" must match,or one of them can be broadcasted (2D and 1D).")},t.T1="t1",t.T2="t2",t}(f);t.AddNode=g;var b=function(e){function t(t,n,r){var a=e.call(this,t,"Subtract",{t1:n,t2:r},new p(1===u.sizeFromShape(n.shape)?r.shape:n.shape))||this;return a.t1=n,a.t2=r,a}return r(t,e),t.prototype.validate=function(){u.assert(1===u.sizeFromShape(this.t1.shape)||1===u.sizeFromShape(this.t2.shape)||u.arraysEqual(this.t1.shape,this.t2.shape),"Error adding subtract op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},t.T1="t1",t.T2="t2",t}(f);t.SubtractNode=b;var x=function(e){function t(t,n,r){var a=e.call(this,t,"Multiply",{t1:n,t2:r},new p(1===u.sizeFromShape(n.shape)?r.shape:n.shape))||this;return a.t1=n,a.t2=r,a}return r(t,e),t.prototype.validate=function(){u.assert(1===u.sizeFromShape(this.t1.shape)||1===u.sizeFromShape(this.t2.shape)||u.arraysEqual(this.t1.shape,this.t2.shape),"Error adding multiply op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},t.T1="t1",t.T2="t2",t}(f);t.MultiplyNode=x;var w=function(e){function t(t,n,r){var a=e.call(this,t,"Divide",{t1:n,t2:r},new p(1===u.sizeFromShape(n.shape)?r.shape:n.shape))||this;return a.t1=n,a.t2=r,a}return r(t,e),t.prototype.validate=function(){u.assert(1===u.sizeFromShape(this.t1.shape)||1===u.sizeFromShape(this.t2.shape)||u.arraysEqual(this.t1.shape,this.t2.shape),"Error adding divide op: one of inputs must be scalar or the shapes "+this.t1.shape+" and "+this.t2.shape+" must match.")},t.T1="t1",t.T2="t2",t}(f);t.DivideNode=w;var E=function(e){function t(t,n){return e.call(this,t,"ReduceSum",{x:n},new p([]))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.ReduceSumNode=E;var k=function(e){function t(t,n,r,a){var i=e.call(this,t,"Concat3D",{x1:n,x2:r},new p(o.computeOutShape(n.shape,r.shape,a)))||this;return i.x1=n,i.x2=r,i.axis=a,i}return r(t,e),t.prototype.validate=function(){o.assertParams(this.x1.shape,this.x2.shape,this.axis)},t.X1="x1",t.X2="x2",t.AXIS="axis",t}(f);t.Concat3DNode=k;var S=function(e){function t(t,n,r){var a,o,i=e.call(this,t,"MatMul",{x1:n,x2:r},new p((a=n.shape,o=r.shape,1===a.length&&1===o.length?[1]:1===a.length&&2===o.length?[o[1]]:2===a.length&&1===o.length?[a[0]]:[a[0],o[1]])))||this;return i.x1=n,i.x2=r,i}return r(t,e),t.prototype.validate=function(){if(2===this.x1.shape.length&&2===this.x2.shape.length)u.assert(this.x1.shape[1]===this.x2.shape[0],"Error adding matmul op: inner shapes of matrices with shapes "+this.x1.shape+" and "+this.x2.shape+" must match.");else if(2===this.x1.shape.length&&1===this.x2.shape.length)u.assert(this.x1.shape[1]===this.x2.shape[0],"Error adding matmul op: second dimension of matrix with shape "+this.x1.shape.toString()+" must match size of vector with shape "+this.x2.shape+".");else{if(1!==this.x1.shape.length||2!==this.x2.shape.length)throw new Error("Error adding matmul op: inputs must be vectors or matrices.");u.assert(this.x1.shape[0]===this.x2.shape[0],"Error adding matmul op: size of vector with shape "+this.x1.shape+" must match first dimension of matrix with shape "+this.x2.shape+".")}},t.X1="x1",t.X2="x2",t}(f);t.MatMulNode=S;var C=function(e){function t(t,n,r,a,o,s,u,l){void 0===u&&(u=1);var c=e.call(this,t,"Convolution 2D",{x:n,w:r,b:a},new p(i.computeOutputShape3D(n.shape,o,s,u,l)))||this;return c.x=n,c.w=r,c.b=a,c.fieldSize=o,c.outputDepth=s,c.stride=u,c.zeroPad=l,c}return r(t,e),t.prototype.validate=function(){u.assert(3===this.x.shape.length,"Error adding conv2d op: input must be of rank 3, but got shape: "+this.x.shape+"."),u.assert(4===this.w.shape.length,"Error adding conv2d op: weights must be of rank 4, but got shape: "+this.w.shape+"."),u.assert(1===this.b.shape.length,"Error adding conv2d op: biases must be of rank 1, but got shape: "+this.b.shape+"."),u.assert(this.x.shape[2]===this.w.shape[2],"Error adding conv2d op: depth of input ("+this.x.shape[2]+") must match input depth for weights ("+this.w.shape[2]+").")},t.X="x",t.W="w",t.B="b",t}(f);t.Convolution2DNode=C;var T=function(e){function t(t,n,r,a,o){void 0===a&&(a=1);var s=e.call(this,t,"Max pool",{x:n},new p(i.computeOutputShape3D(n.shape,r,n.shape[2],a,o)))||this;return s.x=n,s.fieldSize=r,s.stride=a,s.zeroPad=o,s}return r(t,e),t.prototype.validate=function(){u.assert(3===this.x.shape.length,"Error adding maxPool op: input must be of rank 3, but got shape: "+this.x.shape+".")},t.X="x",t}(f);t.MaxPoolNode=T;var A=function(e){function t(t,n){return e.call(this,t,"ReLU",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.ReLUNode=A;var N=function(e){function t(t,n,r){var a=e.call(this,t,"LeakyReLU",{x:n},new p(n.shape))||this;return a.alpha=r,a}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.LeakyReLUNode=N;var _=function(e){function t(t,n,r){var a=e.call(this,t,"PReLU",{x:n,alpha:r},new p(n.shape))||this;return a.x=n,a.alpha=r,a}return r(t,e),t.prototype.validate=function(){u.assert(u.arraysEqual(this.x.shape,this.alpha.shape),"Error adding pRelu op: the shapes x: "+this.x.shape+" and alpha: "+this.alpha.shape+" must match.")},t.X="x",t.ALPHA="alpha",t}(f);t.PReLUNode=_;var O=function(e){function t(t,n){return e.call(this,t,"Elu",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.EluNode=O;var P=function(e){function t(t,n){return e.call(this,t,"Exp",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.ExpNode=P;var M=function(e){function t(t,n){return e.call(this,t,"Log",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.LogNode=M;var D=function(e){function t(t,n){return e.call(this,t,"TanH",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.TanHNode=D;var R=function(e){function t(t,n){return e.call(this,t,"Sigmoid",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.SigmoidNode=R;var I=function(e){function t(t,n){return e.call(this,t,"Square",{x:n},new p(n.shape))||this}return r(t,e),t.prototype.validate=function(){},t.X="x",t}(f);t.SquareNode=I;var L=function(e){function t(t,n,r){var a=e.call(this,t,"SoftmaxCrossEntropyCost",{x:n,target:r},new p([]))||this;return a.x=n,a.target=r,a}return r(t,e),t.prototype.validate=function(){u.assert(u.arraysEqual(this.x.shape,this.target.shape),"Error adding softmaxCrossEntropyCost op: x shape ("+this.x.shape+") must match target shape ("+this.target.shape+").")},t.X="x",t.TARGET="target",t}(f);t.SoftmaxCrossEntropyCostNode=L;var F=function(e){function t(t,n){var r=e.call(this,t,"Softmax",{x:n},new p(n.shape))||this;return r.x=n,r}return r(t,e),t.prototype.validate=function(){u.assert(1===this.x.shape.length,"The input to a softmax must be a 1-D tensor"),u.assert(this.x.shape[0]>=2,"The input to a softmax must have at least 2 values")},t.X="x",t}(f);t.SoftmaxNode=F;var z=function(e){function t(t,n,r){var a=e.call(this,t,"Mean Squared Cost",{label:n,prediction:r},new p([]))||this;return a.label=n,a.prediction=r,a}return r(t,e),t.prototype.validate=function(){u.assert(u.arraysEqual(this.label.shape,this.prediction.shape),"Error adding meanSquaredCost op: label shape ("+this.label.shape+") must match prediction shape ("+this.prediction.shape+").")},t.LABEL="label",t.PREDICTION="prediction",t}(f);t.MeanSquaredCostNode=z;var U=function(e){function t(t,n){var r=e.call(this,t,"ArgMax",{x:n},new p([1]))||this;return r.x=n,r}return r(t,e),t.prototype.validate=function(){u.assert(u.sizeFromShape(this.x.shape)>0,"Error adding argmax op: input tensor must have at least one entry.")},t.X="x",t}(f);t.ArgMaxNode=U;var B=function(e){function t(t,n,r){var a=e.call(this,t,"ArgMaxEquals",{x1:n,x2:r},new p([1]))||this;return a.x1=n,a.x2=r,a}return r(t,e),t.prototype.validate=function(){u.assert(u.arraysEqual(this.x1.shape,this.x2.shape),"Error adding ArgMaxEquals op: x1 shape ("+this.x1.shape+") must match x2 shape ("+this.x2.shape+").")},t.X1="x1",t.X2="x2",t}(f);t.ArgMaxEqualsNode=B},6044:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6518),a=n(2604),o=n(2604);t.getUnorderedEvaluationSet=function(e,t){var n={},r={},a=[],o=e.slice();t.forEach((function(e){return n[e.id]=e}));for(var i=function(){var e=o.pop();null==r[e.id]&&(null==n[e.id]&&Object.keys(e.inputs).map((function(t){return e.inputs[t]})).forEach((function(e){return o.push(e.node)})),a.push(e),r[e.id]=e)};0!==o.length;)i();return a},t.getOrderedEvaluationSet=function(e){var t=[],n={},r={},i=new o.PriorityQueue((function(e,t){return a.defaultCompare(r[e.id],r[t.id])}),(function(e,t){return n[e.id]=t}));for(e.forEach((function(e){return r[e.id]=0})),e.forEach((function(t){return Object.keys(t.inputs).map((function(e){return t.inputs[e]})).forEach((function(t){-1!==e.indexOf(t.node)&&r[t.node.id]++}))})),e.forEach((function(e){return i.enqueue(e)}));!i.empty();)t.unshift(i.dequeue()),Object.keys(t[0].inputs).map((function(e){return t[0].inputs[e]})).forEach((function(t){-1!==e.indexOf(t.node)&&(r[t.node.id]--,i.update(t.node,n[t.node.id]))}));return t},t.isInputNode=function(e){return 0===Object.keys(e.inputs).length},t.shouldBackProp=function(e){return!(e.node instanceof r.ConstantNode)},t.isPassthroughNode=function(e,t){for(var n=Object.keys(e.inputs),r=0;r<n.length;r++){var a=e.inputs[n[r]];if(t.get(a,!0)===t.get(e.output,!0))return!0}return!1}},8628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6518),a=n(6044),o=n(8574),i=n(9346),s=n(5092),u=n(2387),l=n(5399),c=n(5412),p=n(9003),f=n(6603),d=n(7380),h=n(3979),v=n(9703),m=n(83),y=n(7920),g=n(886),b=n(6033),x=n(5827),w=n(8555),E=n(2214);t.emitFromGraphNodes=function(e){var t=[];return e.forEach((function(e){return Array.prototype.push.apply(t,function(e){if(e instanceof r.ReshapeNode)return[new x.Reshape(e.inputs[r.ReshapeNode.X],e.output)];if(e instanceof r.MatMulNode){var t=e.inputs[r.MatMulNode.X1],n=e.inputs[r.MatMulNode.X2];return[new m.MatMul(t,n,e.output)]}if(e instanceof r.Convolution2DNode){var k=e.inputs[r.Convolution2DNode.W],S=e.inputs[r.Convolution2DNode.X],C=e.inputs[r.Convolution2DNode.B];return[new l.Convolution2D(k,S,C,e.output,e.fieldSize,e.outputDepth,e.stride,e.zeroPad)]}if(e instanceof r.MaxPoolNode){S=e.inputs[r.MaxPoolNode.X];return[new y.MaxPool(S,e.output,e.fieldSize,e.stride,e.zeroPad)]}if(e instanceof r.ExpNode)return[new d.Exp(e.inputs[r.ExpNode.X],e.output)];if(e instanceof r.LogNode)return[new v.Log(e.inputs[r.LogNode.X],e.output)];if(e instanceof r.ReLUNode)return[new p.ReLU(e.inputs[r.ReLUNode.X],e.output)];if(e instanceof r.LeakyReLUNode)return[new p.LeakyReLU(e.inputs[r.LeakyReLUNode.X],e.output,e.alpha)];if(e instanceof r.PReLUNode)return[new p.PReLU(e.inputs[r.PReLUNode.X],e.inputs[r.PReLUNode.ALPHA],e.output)];if(e instanceof r.EluNode)return[new p.Elu(e.inputs[r.EluNode.X],e.output)];if(e instanceof r.TanHNode)return[new p.TanH(e.inputs[r.TanHNode.X],e.output)];if(e instanceof r.SigmoidNode)return[new p.Sigmoid(e.inputs[r.SigmoidNode.X],e.output)];if(e instanceof r.SoftmaxCrossEntropyCostNode){S=e.inputs[r.SoftmaxCrossEntropyCostNode.X];var T=e.inputs[r.SoftmaxCrossEntropyCostNode.TARGET];return[new w.SoftmaxCrossEntropyCost(S,T,e.output)]}if(e instanceof r.SoftmaxNode)return[new w.Softmax(e.inputs[r.SoftmaxNode.X],e.output)];if(e instanceof r.MeanSquaredCostNode){var A=e.inputs[r.MeanSquaredCostNode.LABEL],N=e.inputs[r.MeanSquaredCostNode.PREDICTION];return[new f.MeanSquaredCost(A,N,e.output)]}if(e instanceof r.ArgMaxEqualsNode)return[new s.ArgMaxEquals(e.inputs[r.ArgMaxEqualsNode.X1],e.inputs[r.ArgMaxEqualsNode.X2],e.output)];if(e instanceof r.ArgMaxNode)return[new i.ArgMax(e.x,e.output)];if(e instanceof r.FusedLinearCombinationNode)return[new h.LinearCombination(e.inputs[r.FusedLinearCombinationNode.T1],e.inputs[r.FusedLinearCombinationNode.T2],e.inputs[r.FusedLinearCombinationNode.C1],e.inputs[r.FusedLinearCombinationNode.C2],e.output)];if(e instanceof r.Concat3DNode)return[new u.Concat3D(e.inputs[r.Concat3DNode.X1],e.inputs[r.Concat3DNode.X2],e.axis,e.output)];if(e instanceof r.SquareNode)return[new p.Square(e.inputs[r.SquareNode.X],e.output)];if(e instanceof r.AddNode)return[new o.Add(e.inputs[r.AddNode.T1],e.inputs[r.AddNode.T2],e.output)];if(e instanceof r.SubtractNode)return[new E.Subtract(e.inputs[r.SubtractNode.T1],e.inputs[r.SubtractNode.T2],e.output)];if(e instanceof r.MultiplyNode)return[new g.Multiply(e.inputs[r.MultiplyNode.T1],e.inputs[r.MultiplyNode.T2],e.output)];if(e instanceof r.DivideNode)return[new c.Divide(e.inputs[r.DivideNode.T1],e.inputs[r.DivideNode.T2],e.output)];if(e instanceof r.ReduceSumNode)return[new b.ReduceSum(e.inputs[r.ReduceSumNode.X],e.output)];if(a.isInputNode(e))return[];throw Error("Unsupported node type: "+e.constructor.name)}(e))})),t}},8574:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6008),o=n(6044),i=function(e){function t(t,n,r){var o=e.call(this)||this;return o.x1Tensor=t,o.x2Tensor=n,o.yTensor=r,a.assert(1===a.sizeFromShape(t.shape)||1===a.sizeFromShape(n.shape)||a.arraysEqual(t.shape,n.shape)||2===t.shape.length&&1===n.shape.length&&t.shape[1]===n.shape[0]||1===t.shape.length&&2===n.shape.length&&t.shape[0]===n.shape[1],"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape, or one of them can be broadcasted (2D and 1D)."),o}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),o=t.get(this.x2Tensor);e.scope((function(i){var s;s=a.isScalarShape(r.shape)?e.scalarPlusArray(r,o):a.isScalarShape(o.shape)?e.scalarPlusArray(o,r):e.add(r,o),t.set(n.yTensor,i(s))}))},t.prototype.backProp=function(e,t,n){var r=this,i=n.get(this.yTensor);e.scope((function(){if(o.shouldBackProp(r.x1Tensor))if(1===r.x1Tensor.shape.length&&2===r.x2Tensor.shape.length&&r.x1Tensor.shape[0]===r.x2Tensor.shape[1]){var t=e.sum(i,0);n.add(r.x1Tensor,t)}else if(a.isScalarShape(r.x1Tensor.shape)){t=e.sum(i);n.add(r.x1Tensor,t)}else n.add(r.x1Tensor,e.clone(i));if(o.shouldBackProp(r.x2Tensor))if(2===r.x1Tensor.shape.length&&1===r.x2Tensor.shape.length&&r.x1Tensor.shape[1]===r.x2Tensor.shape[0]){t=e.sum(i,0);n.add(r.x2Tensor,t)}else if(a.isScalarShape(r.x2Tensor.shape)){t=e.sum(i);n.add(r.x2Tensor,t)}else n.add(r.x2Tensor,e.clone(i))}))},t.prototype.dispose=function(){null!=this.dySizeScalar&&this.dySizeScalar.dispose()},t}(n(6382).Operation);t.Add=i},9346:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var r=e.call(this)||this;return r.xTensor=t,r.yTensor=n,r}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor);e.scope((function(a){t.set(n.yTensor,a(e.argMax(r)))}))},t.prototype.backProp=function(e,t,n){throw new Error("ArgMax backprop unimplemented")},t}(n(6382).Operation);t.ArgMax=a},5092:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n,r){var a=e.call(this)||this;return a.x1Tensor=t,a.x2Tensor=n,a.yTensor=r,a}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),a=t.get(this.x2Tensor);e.scope((function(o){t.set(n.yTensor,o(e.argMaxEquals(r,a)))}))},t.prototype.backProp=function(e,t,n){throw new Error("ArgMaxEquals backprop unimplemented")},t}(n(6382).Operation);t.ArgMaxEquals=a},2387:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(8038),o=function(e){function t(t,n,r,o){var i=e.call(this)||this;return i.x1Tensor=t,i.x2Tensor=n,i.axis=r,i.yTensor=o,a.assertParams(t.shape,n.shape,r),i}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),a=t.get(this.x2Tensor);e.scope((function(o){var i=e.concat3D(r,a,n.axis);t.set(n.yTensor,o(i))}))},t.prototype.backProp=function(e,t,n){throw new Error("Concat3D backprop not implemented.")},t}(n(6382).Operation);t.Concat3D=o},5399:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(9239),o=n(6008),i=function(e){function t(t,n,r,i,s,u,l,c){void 0===l&&(l=1);var p=e.call(this)||this;return p.wTensor=t,p.xTensor=n,p.bTensor=r,p.yTensor=i,p.fieldSize=s,p.outputDepth=u,p.stride=l,p.assertWeightsShape(t.shape),p.zeroPad=null!=c?c:a.computeDefaultPad(p.xTensor.shape,p.fieldSize,p.stride),o.assert(o.isInt(p.zeroPad),"The zero padding ("+p.zeroPad+") must be an integer. Change the stride and/or zero pad parameters"),p}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.wTensor),a=t.get(this.bTensor),o=t.get(this.xTensor);e.scope((function(i){t.set(n.yTensor,i(e.conv2d(o,r,a,n.stride,n.zeroPad)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.wTensor),o=t.get(this.xTensor),i=n.get(this.yTensor);e.scope((function(){var t=e.conv2dDerFilter(o,i,a.shape,r.stride,r.zeroPad),s=e.conv2dDerBias(i),u=e.conv2dDerInput(o.shape,i,a,r.stride,r.zeroPad);n.add(r.wTensor,t),n.add(r.bTensor,s),n.add(r.xTensor,u)}))},t.prototype.assertWeightsShape=function(e){o.assert(e[0]===this.fieldSize&&e[1]===this.fieldSize&&e[2]===this.xTensor.shape[2]&&e[3]===this.outputDepth,"weights must be of shape ["+this.fieldSize+","+this.fieldSize+","+this.xTensor.shape[2]+","+this.outputDepth+"] but they are ofshape ["+e+"]")},t}(n(6382).Operation);t.Convolution2D=i},5412:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6008),o=n(6044),i=function(e){function t(t,n,r){var o=e.call(this)||this;return o.x1Tensor=t,o.x2Tensor=n,o.yTensor=r,a.assert(1===a.sizeFromShape(t.shape)||1===a.sizeFromShape(n.shape)||a.arraysEqual(t.shape,n.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),o}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),o=t.get(this.x2Tensor);e.scope((function(i){var s;s=a.isScalarShape(r.shape)?e.scalarDividedByArray(r,o):a.isScalarShape(o.shape)?e.arrayDividedByScalar(r,o):e.divide(r,o),t.set(n.yTensor,i(s))}))},t.prototype.backProp=function(e,t,n){var r=this,i=t.get(this.x1Tensor),s=t.get(this.x2Tensor),u=n.get(this.yTensor),l=a.isScalarShape(i.shape),c=a.isScalarShape(s.shape);e.scope((function(){if(o.shouldBackProp(r.x1Tensor))if(l){var t=e.divide(u,s);n.add(r.x1Tensor,e.sum(t)),t.dispose()}else c?n.add(r.x1Tensor,e.arrayDividedByScalar(u,s)):n.add(r.x1Tensor,e.divide(u,s));if(o.shouldBackProp(r.x2Tensor)){var a=e.elementWiseMul(s,s),p=void 0;p=c?e.arrayDividedByScalar(i,a):l?e.scalarDividedByArray(i,a):e.divide(i,a);var f=e.neg(p),d=e.elementWiseMul(u,f);c?n.add(r.x2Tensor,e.sum(d)):n.add(r.x2Tensor,d)}}))},t}(n(6382).Operation);t.Divide=i},9003:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(7104),o=n(6382),i=function(e){function t(t,n,r){var a=e.call(this)||this;return a.xTensor=t,a.yTensor=n,a.func=r,a}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor);e.scope((function(a){t.set(n.yTensor,a(n.func.output(e,r)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.xTensor),o=t.get(this.yTensor),i=n.get(this.yTensor);e.scope((function(){var t=r.func.der(e,a,o);n.add(r.xTensor,e.elementWiseMul(i,t)),t.dispose()}))},t.prototype.dispose=function(){this.func.dispose()},t}(o.Operation);t.ElementWiseActivation=i;var s=function(e){function t(t,n){return e.call(this,t,n,new a.ReLUFunc)||this}return r(t,e),t}(i);t.ReLU=s;var u=function(e){function t(t,n,r){return e.call(this,t,n,new a.LeakyReluFunc(r))||this}return r(t,e),t}(i);t.LeakyReLU=u;var l=function(e){function t(t,n){return e.call(this,t,n,new a.TanHFunc)||this}return r(t,e),t}(i);t.TanH=l;var c=function(e){function t(t,n){return e.call(this,t,n,new a.SigmoidFunc)||this}return r(t,e),t}(i);t.Sigmoid=c;var p=function(e){function t(t,n){return e.call(this,t,n,new a.SquareFunc)||this}return r(t,e),t}(i);t.Square=p;var f=function(e){function t(t,n){return e.call(this,t,n,new a.EluFunc)||this}return r(t,e),t}(i);t.Elu=f;var d=function(e){function t(t,n,r){var a=e.call(this)||this;return a.xTensor=t,a.alphaTensor=n,a.yTensor=r,a}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor),a=t.get(this.alphaTensor);e.scope((function(o){t.set(n.yTensor,o(e.prelu(r,a)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.xTensor),o=t.get(this.alphaTensor),i=n.get(this.yTensor);e.scope((function(){var t=e.preluDer(a,o);n.add(r.xTensor,e.elementWiseMul(i,t))}))},t}(o.Operation);t.PReLU=d},6603:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(4873),o=n(3378),i=n(6190),s=n(6008),u=n(6044),l=function(e){function t(t,n,r,o){var u=e.call(this)||this;return u.x1Tensor=t,u.x2Tensor=n,u.yTensor=r,u.func=o,u.oneOverNScalar=a.ENV.math.keep(i.Scalar.new(1/s.sizeFromShape(t.shape))),u}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),a=t.get(this.x2Tensor);e.scope((function(o){var i=n.func.cost(e,r,a),s=e.sum(i),u=e.scalarTimesArray(n.oneOverNScalar,s);t.set(n.yTensor,o(u))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.x1Tensor),o=t.get(this.x2Tensor);e.scope((function(){u.shouldBackProp(r.x1Tensor)&&n.add(r.x1Tensor,r.func.der(e,a,o)),u.shouldBackProp(r.x2Tensor)&&n.add(r.x2Tensor,r.func.der(e,o,a))}))},t.prototype.dispose=function(){this.func.dispose(),this.oneOverNScalar.dispose()},t}(n(6382).Operation);t.ElementWiseCost=l;var c=function(e){function t(t,n,r){return e.call(this,t,n,r,new o.SquareCostFunc)||this}return r(t,e),t}(l);t.MeanSquaredCost=c},7380:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6044),o=function(e){function t(t,n){var r=e.call(this)||this;return r.xTensor=t,r.yTensor=n,r}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor);e.scope((function(a){t.set(n.yTensor,a(e.exp(r)))}))},t.prototype.backProp=function(e,t,n){var r=this,o=t.get(this.yTensor),i=n.get(this.yTensor);e.scope((function(){a.shouldBackProp(r.xTensor)&&n.add(r.xTensor,e.elementWiseMul(o,i))}))},t}(n(6382).Operation);t.Exp=o},3979:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6044),o=function(e){function t(t,n,r,a,o){var i=e.call(this)||this;return i.x1Tensor=t,i.x2Tensor=n,i.c1Tensor=r,i.c2Tensor=a,i.outTensor=o,i}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),a=t.get(this.x2Tensor),o=t.get(this.c1Tensor).asScalar(),i=t.get(this.c2Tensor).asScalar();e.scope((function(s){t.set(n.outTensor,s(e.scaledArrayAdd(o,r,i,a)))}))},t.prototype.backProp=function(e,t,n){var r=this,o=t.get(this.x1Tensor),i=t.get(this.x2Tensor),s=t.get(this.c1Tensor),u=t.get(this.c2Tensor),l=n.get(this.outTensor);e.scope((function(){if(a.shouldBackProp(r.x1Tensor)&&n.add(r.x1Tensor,e.scalarTimesArray(s,l)),a.shouldBackProp(r.x2Tensor)&&n.add(r.x2Tensor,e.scalarTimesArray(u,l)),a.shouldBackProp(r.c1Tensor)){var t=e.elementWiseMul(o,l);n.add(r.c1Tensor,e.sum(t))}if(a.shouldBackProp(r.c2Tensor)){var c=e.elementWiseMul(i,l);n.add(r.c2Tensor,e.sum(c))}}))},t}(n(6382).Operation);t.LinearCombination=o},9703:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6044),o=function(e){function t(t,n){var r=e.call(this)||this;return r.xTensor=t,r.yTensor=n,r}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor);e.scope((function(a){t.set(n.yTensor,a(e.log(r)))}))},t.prototype.backProp=function(e,t,n){var r=this,o=t.get(this.xTensor),i=n.get(this.yTensor);e.scope((function(){a.shouldBackProp(r.xTensor)&&n.add(r.xTensor,e.divide(i,o))}))},t}(n(6382).Operation);t.Log=o},83:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(2453),o=n(6044),i=function(e){function t(t,n,r){var a=e.call(this)||this;return a.x1Tensor=t,a.x2Tensor=n,a.yTensor=r,a}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),a=t.get(this.x2Tensor);e.scope((function(o){2===r.shape.length&&2===a.shape.length?t.set(n.yTensor,o(e.matMul(r,a))):2===r.shape.length&&1===a.shape.length?t.set(n.yTensor,o(e.matrixTimesVector(r,a))):1===r.shape.length&&2===a.shape.length&&t.set(n.yTensor,o(e.vectorTimesMatrix(r,a)))}))},t.prototype.backProp=function(e,t,n){var r=this,i=t.get(this.x1Tensor),s=t.get(this.x2Tensor),u=n.get(this.yTensor);1===i.shape.length&&(i=i.reshape([1,i.size]),u=u.reshape([1,u.size])),1===s.shape.length&&(s=s.reshape([s.size,1]),u=u.reshape([u.size,1])),e.scope((function(){if(o.shouldBackProp(r.x1Tensor)){var t=e.matMul(u,s,a.MatrixOrientation.REGULAR,a.MatrixOrientation.TRANSPOSED);n.add(r.x1Tensor,1===r.x1Tensor.shape.length?t.as1D():t)}if(o.shouldBackProp(r.x2Tensor)){var l=e.matMul(i,u,a.MatrixOrientation.TRANSPOSED,a.MatrixOrientation.REGULAR);n.add(r.x2Tensor,1===r.x2Tensor.shape.length?l.as1D():l)}}))},t}(n(6382).Operation);t.MatMul=i},7920:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(9239),o=n(6008),i=function(e){function t(t,n,r,i,s){void 0===i&&(i=1);var u=e.call(this)||this;return u.xTensor=t,u.yTensor=n,u.fieldSize=r,u.stride=i,u.pad=null!=s?s:a.computeDefaultPad(t.shape,u.fieldSize,u.stride),o.assert(o.isInt(u.pad),"The zero padding ("+u.pad+") must be an integer. Change the stride and/or zero pad parameters"),u}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor);e.scope((function(a){t.set(n.yTensor,a(e.maxPool(r,n.fieldSize,n.stride,n.pad)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.xTensor),o=n.get(this.yTensor);e.scope((function(){n.add(r.xTensor,e.maxPoolBackprop(o,a,r.fieldSize,r.stride,r.pad))}))},t}(n(6382).Operation);t.MaxPool=i},886:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6008),o=n(6044),i=function(e){function t(t,n,r){var o=e.call(this)||this;return o.x1Tensor=t,o.x2Tensor=n,o.yTensor=r,a.assert(1===a.sizeFromShape(t.shape)||1===a.sizeFromShape(n.shape)||a.arraysEqual(t.shape,n.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),o}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x1Tensor),o=t.get(this.x2Tensor);e.scope((function(i){var s;s=a.isScalarShape(r.shape)?e.scalarTimesArray(r,o):a.isScalarShape(o.shape)?e.scalarTimesArray(o,r):e.elementWiseMul(r,o),t.set(n.yTensor,i(s))}))},t.prototype.backProp=function(e,t,n){var r=this,i=t.get(this.x1Tensor),s=t.get(this.x2Tensor),u=n.get(this.yTensor);e.scope((function(){if(o.shouldBackProp(r.x1Tensor))if(a.isScalarShape(r.x1Tensor.shape)){var t=e.elementWiseMul(u,s);n.add(r.x1Tensor,e.sum(t))}else a.isScalarShape(s.shape)?n.add(r.x1Tensor,e.scalarTimesArray(s,u)):n.add(r.x1Tensor,e.elementWiseMul(s,u));if(o.shouldBackProp(r.x2Tensor))if(a.isScalarShape(r.x2Tensor.shape)){t=e.elementWiseMul(u,i);n.add(r.x2Tensor,e.sum(t))}else a.isScalarShape(i.shape)?n.add(r.x2Tensor,e.scalarTimesArray(i,u)):n.add(r.x2Tensor,e.elementWiseMul(i,u))}))},t}(n(6382).Operation);t.Multiply=i},6382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.disposeTransientArrays=function(e,t){},e.prototype.dispose=function(){},e}();t.Operation=n},6033:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(4873),o=n(6190),i=n(6008),s=n(6044),u=function(e){function t(t,n){var r=e.call(this)||this;return r.x=t,r.outTensor=n,i.assertShapesMatch(n.shape,[]),r.ones=a.ENV.math.keep(o.NDArray.ones(t.shape)),r}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.x);e.scope((function(a){t.set(n.outTensor,a(e.sum(r)))}))},t.prototype.backProp=function(e,t,n){var r=this;s.shouldBackProp(this.x)&&e.scope((function(){var t=n.get(r.outTensor);n.add(r.x,e.scalarTimesArray(t,r.ones))}))},t.prototype.dispose=function(){this.ones.dispose()},t}(n(6382).Operation);t.ReduceSum=u},5827:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6008),o=function(e){function t(t,n){var r=e.call(this)||this;r.xTensor=t,r.yTensor=n;var o=a.sizeFromShape(t.shape),i=a.sizeFromShape(n.shape);return a.assert(o===i,"The input size ("+o+") and output size ("+i+") must match"),r}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.xTensor),a=e.clone(r);e.scope((function(e){t.set(n.yTensor,e(a.reshape(n.yTensor.shape)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=n.get(this.yTensor),o=e.clone(a);e.scope((function(){n.add(r.xTensor,o.reshape(r.xTensor.shape))}))},t}(n(6382).Operation);t.Reshape=o},8555:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(4873),o=n(6190),i=n(6008),s=n(6518),u=n(6044),l=n(6382),c=function(e){function t(t,n){var r=e.call(this)||this;return r.logitsTensor=t,r.output=n,r}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.logitsTensor);return e.scope((function(a){t.set(n.output,a(e.softmax(r)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.output),o=n.get(this.output);e.scope((function(){if(u.shouldBackProp(r.logitsTensor)){var t=e.elementWiseMul(e.subtract(o,e.sum(e.elementWiseMul(o,a))),a);n.add(r.logitsTensor,t)}}))},t}(l.Operation);t.Softmax=c;var p=function(e){function t(t,n,r){var i=e.call(this)||this;return i.logitsTensor=t,i.labelTensor=n,i.yTensor=r,i.softmaxTensor=new s.Tensor(t.shape),i.epsilon=a.ENV.math.keep(o.Scalar.new(1e-5)),i}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.logitsTensor),a=t.get(this.labelTensor);e.scope((function(o){var i=e.softmax(r);t.set(n.softmaxTensor,o(i)),t.set(n.yTensor,o(f(e,i,a,n.epsilon)))}))},t.prototype.backProp=function(e,t,n){var r=this,a=t.get(this.softmaxTensor),o=t.get(this.labelTensor);e.scope((function(){n.add(r.logitsTensor,e.subtract(a,o))}))},t.prototype.disposeTransientArrays=function(e,t){e.disposeArray(this.softmaxTensor)},t.prototype.dispose=function(){this.epsilon.dispose()},t}(l.Operation);function f(e,t,n,r){return i.assert(t.size===n.size,"The output and target must be the same size"),e.scope((function(){var a=e.scalarPlusArray(r,t),o=e.log(a),i=e.elementWiseMul(n,o),s=e.neg(i);return e.sum(s)}))}t.SoftmaxCrossEntropyCost=p,t.crossEntropyCost=f},2214:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6008),o=n(6044),i=function(e){function t(t,n,r){var o=e.call(this)||this;return o.t1=t,o.t2=n,o.outTensor=r,a.assert(1===a.sizeFromShape(t.shape)||1===a.sizeFromShape(n.shape)||a.arraysEqual(t.shape,n.shape),"One of t1 or t2 must be a scalar, or t1 and t2 must have the same shape"),o}return r(t,e),t.prototype.feedForward=function(e,t){var n=this,r=t.get(this.t1),o=t.get(this.t2);e.scope((function(i){var s;s=a.isScalarShape(r.shape)?e.scalarMinusArray(r,o):a.isScalarShape(o.shape)?e.arrayMinusScalar(r,o):e.subtract(r,o),t.set(n.outTensor,i(s))}))},t.prototype.backProp=function(e,t,n){var r=this,i=n.get(this.outTensor);e.scope((function(){if(o.shouldBackProp(r.t1))if(a.isScalarShape(r.t1.shape)){var t=e.sum(i);n.add(r.t1,t)}else n.add(r.t1,e.clone(i));if(o.shouldBackProp(r.t2))if(a.isScalarShape(r.t2.shape)){t=e.sum(i);var s=e.neg(t);n.add(r.t2,s)}else n.add(r.t2,e.neg(i))}))},t.prototype.dispose=function(){null!=this.dySizeScalar&&this.dySizeScalar.dispose()},t}(n(6382).Operation);t.Subtract=i},192:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(757),i=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.learningRate=t,i.gamma=n,i.accumulatedSquaredGradients=new o.TensorArrayMap,i.accumulatedUpdates=new o.TensorArrayMap,i.eps=a.Scalar.new(1e-6),i.g=a.Scalar.new(i.gamma),i}return r(t,e),t.prototype.beforeBatch=function(t,n,r,o,i){var s=this;e.prototype.beforeBatch.call(this,t,n,r,o,i),0===this.accumulatedSquaredGradients.size()&&this.variableNodes.forEach((function(e){s.accumulatedSquaredGradients.set(e.output,a.NDArray.zeros(e.output.shape)),s.accumulatedUpdates.set(e.output,a.NDArray.zeros(e.output.shape))}))},t.prototype.afterBatch=function(e,t,n,r,a){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=i.accumulatedSquaredGradients.get(n.output),u=i.accumulatedUpdates.get(n.output),l=e.multiply(o,o),c=e.scaledArrayAdd(i.g,s,e.subtract(i.one,i.g),l),p=e.multiply(e.divide(e.sqrt(e.add(u,i.eps)),e.sqrt(e.add(s,i.eps))),o),f=e.scaledArrayAdd(i.c,p,i.one,a),d=e.multiply(p,p),h=e.scaledArrayAdd(i.g,u,e.subtract(i.one,i.g),d);i.accumulatedSquaredGradients.set(n.output,t(c)),i.accumulatedUpdates.set(n.output,t(h)),r.set(n.output,t(f)),n.data=f,a.dispose(),s.dispose(),u.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.eps.dispose(),this.g.dispose(),this.accumulatedSquaredGradients.dispose(),this.accumulatedUpdates.dispose()},t}(n(1267).Optimizer);t.AdadeltaOptimizer=i},8712:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(757),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.learningRate=t,r.accumulatedSquaredGradients=new o.TensorArrayMap,r.eps=a.Scalar.new(1e-6),r}return r(t,e),t.prototype.beforeBatch=function(t,n,r,o,i){var s=this;e.prototype.beforeBatch.call(this,t,n,r,o,i),0===this.accumulatedSquaredGradients.size()&&this.variableNodes.forEach((function(e){s.accumulatedSquaredGradients.set(e.output,a.NDArray.zeros(e.output.shape))}))},t.prototype.afterBatch=function(e,t,n,r,a){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=i.accumulatedSquaredGradients.get(n.output),u=e.multiply(o,o),l=e.add(s,u),c=e.scaledArrayAdd(i.c,e.divide(o,e.add(e.sqrt(l),i.eps)),i.one,a);i.accumulatedSquaredGradients.set(n.output,t(l)),r.set(n.output,t(c)),n.data=c,a.dispose(),s.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.eps.dispose(),this.accumulatedSquaredGradients.dispose()},t}(n(1267).Optimizer);t.AdagradOptimizer=i},2083:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(757),i=function(e){function t(t,n,r,i){var s=e.call(this,t,i)||this;return s.learningRate=t,s.beta1=n,s.beta2=r,s.firstMoment=new o.TensorArrayMap,s.secondMoment=new o.TensorArrayMap,s.eps=a.Scalar.new(1e-8),s.b1=a.Scalar.new(s.beta1),s.b2=a.Scalar.new(s.beta2),s.accB1=a.Scalar.new(s.beta1),s.accB2=a.Scalar.new(s.beta2),s}return r(t,e),t.prototype.beforeBatch=function(t,n,r,o,i){var s=this;e.prototype.beforeBatch.call(this,t,n,r,o,i),0===this.firstMoment.size()&&this.variableNodes.forEach((function(e){s.firstMoment.set(e.output,a.NDArray.zeros(e.output.shape))})),0===this.secondMoment.size()&&this.variableNodes.forEach((function(e){s.secondMoment.set(e.output,a.NDArray.zeros(e.output.shape))}))},t.prototype.afterBatch=function(e,t,n,r,a){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=i.firstMoment.get(n.output),u=i.secondMoment.get(n.output),l=e.scaledArrayAdd(i.b1,s,e.subtract(i.one,i.b1),o),c=e.multiply(o,o),p=e.scaledArrayAdd(i.b2,u,e.subtract(i.one,i.b2),c),f=e.divide(l,e.subtract(i.one,i.accB1)),d=e.divide(p,e.subtract(i.one,i.accB2)),h=e.scaledArrayAdd(i.c,e.divide(f,e.add(e.sqrt(d),i.eps)),i.one,a);r.set(n.output,t(h)),n.data=h,i.firstMoment.set(n.output,t(l)),i.secondMoment.set(n.output,t(p)),a.dispose(),o.dispose(),s.dispose(),u.dispose()}));var n=i.accB1,a=i.accB2;i.accB1=t(e.multiply(i.accB1,i.b1)),i.accB2=t(e.multiply(i.accB2,i.b2)),n.dispose(),a.dispose()})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.firstMoment.dispose(),this.secondMoment.dispose(),this.eps.dispose(),this.b1.dispose(),this.b2.dispose(),this.accB1.dispose(),this.accB2.dispose()},t}(n(1267).Optimizer);t.AdamOptimizer=i},9042:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(757),i=function(e){function t(t,n,r,i){var s=e.call(this,t,i)||this;return s.learningRate=t,s.beta1=n,s.beta2=r,s.firstMoment=new o.TensorArrayMap,s.weightedInfNorm=new o.TensorArrayMap,s.eps=a.Scalar.new(1e-8),s.b1=a.Scalar.new(s.beta1),s.b2=a.Scalar.new(s.beta2),s.accB1=a.Scalar.new(s.beta1),s}return r(t,e),t.prototype.beforeBatch=function(t,n,r,o,i){var s=this;e.prototype.beforeBatch.call(this,t,n,r,o,i),0===this.firstMoment.size()&&this.variableNodes.forEach((function(e){s.firstMoment.set(e.output,a.NDArray.zeros(e.output.shape))})),0===this.weightedInfNorm.size()&&this.variableNodes.forEach((function(e){s.weightedInfNorm.set(e.output,a.NDArray.zeros(e.output.shape))}))},t.prototype.afterBatch=function(e,t,n,r,a){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=i.firstMoment.get(n.output),u=i.weightedInfNorm.get(n.output),l=e.scaledArrayAdd(i.b1,s,e.subtract(i.one,i.b1),o),c=e.multiply(i.b2,u),p=e.abs(o),f=e.add(e.relu(e.subtract(c,p)),p),d=e.scaledArrayAdd(i.one,a,e.divideStrict(i.c,e.subtract(i.one,i.accB1)),e.divide(l,e.add(i.eps,f)));r.set(n.output,t(d)),n.data=d,i.firstMoment.set(n.output,t(l)),i.weightedInfNorm.set(n.output,t(f)),a.dispose(),o.dispose(),s.dispose(),u.dispose()}));var n=i.accB1;i.accB1=t(e.multiply(i.accB1,i.b1)),n.dispose()})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.firstMoment.dispose(),this.weightedInfNorm.dispose(),this.eps.dispose(),this.accB1.dispose(),this.b1.dispose(),this.b2.dispose()},t}(n(1267).Optimizer);t.AdamaxOptimizer=i},4554:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(757),i=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.learningRate=t,i.momentum=n,i.variableVelocities=new o.TensorArrayMap,i.m=a.Scalar.new(i.momentum),i}return r(t,e),t.prototype.beforeBatch=function(t,n,r,o,i){var s=this;e.prototype.beforeBatch.call(this,t,n,r,o,i),0===this.variableVelocities.size()&&this.variableNodes.forEach((function(e){s.variableVelocities.set(e.output,a.NDArray.zeros(e.output.shape))}))},t.prototype.afterBatch=function(e,t,n,r,a){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=i.variableVelocities.get(n.output),u=e.scaledArrayAdd(i.m,s,i.one,o),l=e.scaledArrayAdd(i.c,u,i.one,a);i.variableVelocities.set(n.output,t(u)),r.set(n.output,t(l)),n.data=l,a.dispose(),s.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.m.dispose(),this.variableVelocities.dispose()},t.prototype.setMomentum=function(e){this.momentum=e},t}(n(3953).SGDOptimizer);t.MomentumOptimizer=i},1267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(6190),o=n(9276),i=n(757),s=function(){function e(e,t){this.learningRate=e,this.variableGradients=new i.TensorArrayMap,null!=t&&(this.specifiedVariableNodes=t),this.one=r.ENV.math.keep(a.Scalar.new(1))}return e.prototype.beforeBatch=function(e,t,n,r,i){var s=this;this.variableNodes=null==this.specifiedVariableNodes?o.getVariableNodesFromEvaluationSet(n.nodes):this.specifiedVariableNodes,t!==this.prevBatchSize&&(null!=this.c&&this.c.dispose(),this.prevBatchSize=t,this.c=e.keep(a.Scalar.new(-this.learningRate/t))),this.variableNodes.forEach((function(t){return s.variableGradients.set(t.output,e.keep(a.NDArray.zeros(t.output.shape)))}))},e.prototype.afterExample=function(e,t,n,r){var a=this;e.scope((function(t){a.variableNodes.forEach((function(n){var o=r.get(n.output),i=a.variableGradients.get(n.output);a.variableGradients.set(n.output,t(e.add(o,i))),i.dispose()}))}))},e.prototype.dispose=function(){null!=this.c&&this.c.dispose(),this.one.dispose(),this.variableNodes.forEach((function(e){e.data.dispose()})),this.specifiedVariableNodes.forEach((function(e){e.data.dispose()}))},e}();t.Optimizer=s},8952:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6190),o=n(757),i=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return i.learningRate=t,i.gamma=n,i.accumulatedSquaredGradients=new o.TensorArrayMap,i.eps=a.Scalar.new(1e-6),i.g=a.Scalar.new(i.gamma),i}return r(t,e),t.prototype.beforeBatch=function(t,n,r,o,i){var s=this;e.prototype.beforeBatch.call(this,t,n,r,o,i),0===this.accumulatedSquaredGradients.size()&&this.variableNodes.forEach((function(e){s.accumulatedSquaredGradients.set(e.output,a.NDArray.zeros(e.output.shape))}))},t.prototype.afterBatch=function(e,t,n,r,a){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=i.accumulatedSquaredGradients.get(n.output),u=e.multiply(o,o),l=e.scaledArrayAdd(i.g,s,e.subtract(i.one,i.g),u),c=e.scaledArrayAdd(i.c,e.divide(o,e.add(e.sqrt(l),i.eps)),i.one,a);i.accumulatedSquaredGradients.set(n.output,t(l)),r.set(n.output,t(c)),n.data=c,a.dispose(),s.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new o.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.eps.dispose(),this.g.dispose(),this.accumulatedSquaredGradients.dispose()},t}(n(1267).Optimizer);t.RMSPropOptimizer=i},3953:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(757),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.learningRate=t,r}return r(t,e),t.prototype.afterBatch=function(e,t,n,r,o){var i=this;e.scope((function(t){i.variableNodes.forEach((function(n){var a=r.get(n.output),o=i.variableGradients.get(n.output),s=e.scaledArrayAdd(i.c,o,i.one,a);r.set(n.output,t(s)),n.data=s,a.dispose()}))})),this.variableGradients.dispose(),this.variableGradients=new a.TensorArrayMap},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.setLearningRate=function(e){this.learningRate=e},t}(n(1267).Optimizer);t.SGDOptimizer=o},2604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCompare=function(e,t){return e===t?0:e<t?-1:1};var n=function(){function e(e,t){this.comparator=e,this.indexObserver=t,this.heap=[]}return e.prototype.enqueue=function(e){this.heap.push(e),this.onIndexChanged(e,this.heap.length-1),this.siftUp(this.heap.length-1)},e.prototype.dequeue=function(){if(this.empty())throw new Error("dequeue called on empty priority queue.");var e=this.heap[0];return this.swap(0,this.heap.length-1),this.heap.pop(),this.siftDown(0),e},e.prototype.update=function(e,t){var n=t===this.heap.length-1;n||this.swap(t,this.heap.length-1),this.heap.pop(),n||(-1!==this.siftUpIndex(t)?this.siftUp(t):-1!==this.siftDownIndex(t)&&this.siftDown(t)),this.enqueue(e)},e.prototype.empty=function(){return 0===this.heap.length},e.prototype.onIndexChanged=function(e,t){this.indexObserver&&this.indexObserver(e,t)},e.prototype.getParentIndex=function(e){return 0===e?-1:Math.floor((e-1)/2)},e.prototype.getLeftChildIndex=function(e){var t=2*e+1;return t<this.heap.length?t:-1},e.prototype.getRightChildIndex=function(e){var t=2*e+2;return t<this.heap.length?t:-1},e.prototype.siftUpIndex=function(e){var t=this.getParentIndex(e);return-1===t?-1:this.compare(t,e)>0?t:-1},e.prototype.siftUp=function(e){for(var t=this.siftUpIndex(e);-1!==t;)this.swap(e,t),e=t,t=this.siftUpIndex(e)},e.prototype.siftDownIndex=function(e){if(e>=this.heap.length)return-1;var t=e,n=this.getLeftChildIndex(e);-1!==n&&this.compare(n,t)<0&&(t=n);var r=this.getRightChildIndex(e);return-1!==r&&this.compare(r,t)<0&&(t=r),t===e?-1:t},e.prototype.siftDown=function(e){for(var t=this.siftDownIndex(e);-1!==t;)this.swap(e,t),e=t,t=this.siftDownIndex(e)},e.prototype.compare=function(e,t){return this.comparator(this.heap[e],this.heap[t])},e.prototype.swap=function(e,t){var n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,this.onIndexChanged(this.heap[e],e),this.onIndexChanged(this.heap[t],t)},e}();t.PriorityQueue=n},7789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(6190),o=n(6008),i=n(8628),s=n(9276),u=n(757),l=function(e){var t=this;this.dict={},e&&e.forEach((function(e){return t.dict[e.tensor.id]=e}))};t.FeedDictionary=l,function(e){e[e.NONE=0]="NONE",e[e.SUM=1]="SUM",e[e.MEAN=2]="MEAN"}(r=t.CostReduction||(t.CostReduction={}));var c=function(){function e(e,t){this.math=t,this.activationArrayMap=new u.TensorArrayMap,this.runtimeCache={},this.oneScalar=a.Scalar.new(1),this.gradientArrayMap=new u.SummedTensorArrayMap(this.math)}return e.prototype.dispose=function(){var e=this;this.activationArrayMap.dispose(),Object.keys(this.runtimeCache).forEach((function(t){var n=e.runtimeCache[t];n.operations&&n.operations.forEach((function(e){return e.dispose()}))})),this.runtimeCache={},null!=this.batchSizeScalar&&this.batchSizeScalar.dispose(),this.oneScalar.dispose()},e.prototype.evalAll=function(e,t){var n=this;return this.math.scope((function(){var r=new l(t),a=n.getOrCreateRuntime(e,r),o=n.activationArrayMap;s.disposeAndInitializeOperationOutputs(a.nodes,o),s.disposeTransientOperationArrays(a.operations,n.activationArrayMap,n.gradientArrayMap),s.addPersistentArraysToTensorArrayMap(a.nodes,o),s.loadInputsFromFeedDictionaryToTensorArrayMap(r,o,n.math),a.operations.forEach((function(e){return e.feedForward(n.math,o)}));var i=e.map((function(e){return o.get(e)}));return e.forEach((function(e){return o.delete(e)})),s.releaseFeedDictionaryInputsFromTensorArrayMap(r,o,n.math),i}))},e.prototype.eval=function(e,t){return this.evalAll([e],t)[0]},e.prototype.train=function(e,t,n,i,u){var c=this;void 0===u&&(u=r.NONE),o.assert(o.isScalarShape(e.shape),"Cost tensor for training must be a scalar value."),this.prevBatchSize!==n&&(this.prevBatchSize=n,null!=this.batchSizeScalar&&this.batchSizeScalar.dispose(),this.batchSizeScalar=this.math.keep(a.Scalar.new(n)));var p=new l(t);s.throwIfFeedDictionaryContainsNDArrays(p);var f=this.getOrCreateRuntime([e],p),d=f.operations,h=f.operations.slice().reverse(),v=this.activationArrayMap,m=this.gradientArrayMap;return m.nullify(e),m.add(e,this.oneScalar),s.addPersistentArraysToTensorArrayMap(f.nodes,v),i.beforeBatch(this.math,n,f,v,m),this.math.scope((function(){for(var t=a.Scalar.new(0),r=0;r<n;++r)s.disposeAndInitializeOperationOutputs(f.nodes,v),s.disposeAndInitializeOperationInputGradients(f.nodes,m),s.disposeTransientOperationArrays(f.operations,v,m),s.loadInputsFromFeedDictionaryToTensorArrayMap(p,v,c.math),d.forEach((function(e){return e.feedForward(c.math,v)})),h.forEach((function(e){return e.backProp(c.math,v,m)})),i.afterExample(c.math,f,v,m),s.releaseFeedDictionaryInputsFromTensorArrayMap(p,v,c.math),t=c.updateCostForExample(t,v.get(e),u);return i.afterBatch(c.math,n,f,v,m),c.updateCostForBatch(t,u)}))},e.prototype.updateCostForExample=function(e,t,n){return n===r.MEAN||n===r.SUM?this.math.add(e,t):e},e.prototype.updateCostForBatch=function(e,t){return t===r.MEAN?this.math.divide(e,this.batchSizeScalar):e},e.prototype.getOrCreateRuntime=function(e,t){var n=this.makeRuntimeCacheKey(e,t),r=this.runtimeCache[n];if(void 0===r){var a=s.getOrderedEvaluationSetFromEvalTensor(e,t);s.removeFeedDictionaryNodesFromEvaluationSet(t,a),s.throwErrorIfEvaluationSetContainsPlaceholderNodes(a),r={nodes:a,operations:i.emitFromGraphNodes(a)},this.runtimeCache[n]=r}return r},e.prototype.makeRuntimeCacheKey=function(e,t){return e.map((function(e){return e.id})).sort().join("_")+"__"+Object.keys(t.dict).sort().join("_")},e}();t.Session=c},9276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6190),a=n(6008),o=n(6518),i=n(6044);function s(e){return Object.keys(e.dict).map((function(t){return e.dict[+t].tensor.node}))}t.getTerminatingNodesFromFeedDictionary=s,t.getOrderedEvaluationSetFromEvalTensor=function(e,t){var n=s(t),r=e.map((function(e){return e.node})),a=i.getUnorderedEvaluationSet(r,n);return i.getOrderedEvaluationSet(a)},t.addPersistentArraysToTensorArrayMap=function(e,t){e.forEach((function(e){(e instanceof o.VariableNode||e instanceof o.ConstantNode)&&t.set(e.output,e.data)}))},t.getVariableNodesFromEvaluationSet=function(e){var t=[];return e.forEach((function(e){e instanceof o.VariableNode&&t.push(e)})),t},t.throwIfFeedDictionaryContainsNDArrays=function(e){Object.keys(e.dict).forEach((function(t){if(e.dict[+t].data instanceof r.NDArray)throw new Error("training requires FeedDictionary entries to be InputProvidersand not NDArrays.")}))},t.loadInputsFromFeedDictionaryToTensorArrayMap=function(e,t,n){Object.keys(e.dict).forEach((function(o){var i,s=e.dict[+o];s.data instanceof r.NDArray?i=s.data:i=s.data.getNextCopy(n);a.assert(a.arraysEqual(s.tensor.shape,i.shape),"Error loading FeedEntry: feeding NDArray of shape "+i.shape+" does not match Tensor (id: "+s.tensor.id+") shape: "+s.tensor.shape+"."),t.set(s.tensor,i)}))},t.releaseFeedDictionaryInputsFromTensorArrayMap=function(e,t,n){Object.keys(e.dict).forEach((function(a){var o=e.dict[+a];if(!(o.data instanceof r.NDArray)){var i=o.data,s=t.get(o.tensor);i.disposeCopy(n,s)}t.delete(o.tensor)}))},t.removeFeedDictionaryNodesFromEvaluationSet=function(e,t){for(var n=0;n<t.length;){var r=t[n];null!=e.dict[r.output.id]?t.splice(n,1):++n}},t.disposeAndInitializeOperationOutputs=function(e,t){e.forEach((function(e){i.isInputNode(e)||(i.isPassthroughNode(e,t)||t.disposeArray(e.output),t.set(e.output,null))}))},t.disposeAndInitializeOperationInputGradients=function(e,t){e.forEach((function(e){Object.keys(e.inputs).forEach((function(n){var r=e.inputs[n];t.get(r,!0)!==t.get(e.output,!0)&&t.disposeArray(r),t.nullify(r)}))}))},t.disposeTransientOperationArrays=function(e,t,n){e.forEach((function(e){return e.disposeTransientArrays(t,n)}))},t.throwErrorIfEvaluationSetContainsPlaceholderNodes=function(e){e.forEach((function(e){if(e instanceof o.PlaceholderNode){var t="["+e.output.shape.join(", ")+"]";throw new Error('Placeholder node "'+e.name+'" '+t+" not present in feed dictionary.")}}))}},757:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.dict={}}return e.prototype.get=function(e,t){if(void 0===t&&(t=!1),!t&&void 0===this.dict[e.id])throw new Error("tensor "+e.id+" not in array map.");var n=this.dict[e.id];if(!t&&null===n)throw new Error("tensor "+e.id+" has null array.");return n},e.prototype.delete=function(e){delete this.dict[e.id]},e.prototype.nullify=function(e){this.dict[e.id]=null},e.prototype.disposeArray=function(e){if(void 0!==this.dict[e.id]){var t=this.dict[e.id];null!==t&&(t.dispose(),this.dict[e.id]=null)}},e.prototype.size=function(){return Object.keys(this.dict).length},e.prototype.dispose=function(){var e=this;Object.keys(this.dict).forEach((function(t){var n=e.dict[+t];n&&n.dispose()})),this.dict={}},e.prototype.hasNullArray=function(e){if(void 0===this.dict[e.id])throw new Error("tensor "+e.id+" not in array map.");return null===this.dict[e.id]},e}();t.TensorArrayMapBase=r;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.set=function(e,t){this.dict[e.id]=t},t}(r);t.TensorArrayMap=a;var o=function(e){function t(t){var n=e.call(this)||this;return n.math=t,n}return n(t,e),t.prototype.add=function(e,t){if(null==this.dict[e.id])this.dict[e.id]=this.math.keep(t);else{var n=this.get(e),r=this.math.keep(this.math.addStrict(n,t));this.dict[e.id]=r,n.dispose()}},t}(r);t.SummedTensorArrayMap=o},6073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(7789),o=n(6190);!function(e){e[e.SUM=0]="SUM",e[e.MEAN=1]="MEAN"}(r=t.MetricReduction||(t.MetricReduction={}));var i=function(){function e(e,t,n){this.math=e,this.session=t,this.eventObserver=n,this.lastCostTimestamp=0,this.lastEvalTimestamp=0,this.resetStatistics(),this.zeroScalar=o.Scalar.new(0)}return e.prototype.resetStatistics=function(){this.totalBatchesTrained=0},e.prototype.train=function(e,t,n,a,i,s,u,l,c,p,f){void 0===c&&(c=r.MEAN),void 0===p&&(p=1500),void 0===f&&(f=500),this.costTensor=e,this.trainFeedEntries=t,this.metricTensor=s,this.metricFeedEntries=u,null!=l&&this.metricBatchSize!==l&&(null!=this.metricBatchSizeScalar&&this.metricBatchSizeScalar.dispose(),this.metricBatchSizeScalar=o.Scalar.new(l)),this.metricBatchSize=l,this.metricReduction=c,this.batchSize=n,this.optimizer=a,this.metricIntervalMs=p,this.costIntervalMs=f,this.currentTrainLoopNumBatches=i,this.batchesTrainedThisRun=0,this.isTraining=!0,this.trainStartTimestamp=performance.now(),this.trainNetwork()},e.prototype.stopTraining=function(){this.isTraining=!1},e.prototype.resumeTraining=function(){this.isTraining=!0,this.trainNetwork()},e.prototype.trainNetwork=function(){var e=this;if(this.batchesTrainedThisRun===this.currentTrainLoopNumBatches&&this.stopTraining(),this.isTraining){var t=performance.now(),n=null!=this.eventObserver.avgCostCallback&&t-this.lastCostTimestamp>this.costIntervalMs;n&&(this.lastCostTimestamp=t);var r=n?a.CostReduction.MEAN:a.CostReduction.NONE;this.math.scope((function(a){var o=e.session.train(e.costTensor,e.trainFeedEntries,e.batchSize,e.optimizer,r);if(n){var i=performance.now()-t;if(e.eventObserver.avgCostCallback(o),null!=e.eventObserver.trainExamplesPerSecCallback){var s=1e3*e.batchSize/i;e.eventObserver.trainExamplesPerSecCallback(s)}}null!=e.eventObserver.metricCallback&&null!=e.metricFeedEntries&&t-e.lastEvalTimestamp>e.metricIntervalMs&&(e.lastEvalTimestamp=t,null!=e.lastComputedMetric&&e.lastComputedMetric.dispose(),e.lastComputedMetric=e.computeMetric(),e.eventObserver.metricCallback(e.lastComputedMetric)),null!=e.eventObserver.totalTimeCallback&&e.eventObserver.totalTimeCallback((t-e.trainStartTimestamp)/1e3),e.batchesTrainedThisRun++,e.totalBatchesTrained++,null!=e.eventObserver.batchesTrainedCallback&&e.eventObserver.batchesTrainedCallback(e.totalBatchesTrained)})),requestAnimationFrame((function(){return e.trainNetwork()}))}else null!=this.eventObserver.doneTrainingCallback&&this.eventObserver.doneTrainingCallback()},e.prototype.infer=function(e,t,n,r,a){var i=this;if(void 0===n&&(n=3e3),void 0===r&&(r=5),null==this.eventObserver.inferenceExamplesCallback&&null==this.eventObserver.inferenceExamplesPerSecCallback)throw new Error("Cannot start inference loop, no inference example or examples/sec observer provided.");for(var s=0;s<t.length;s++){if(t[s].data instanceof o.NDArray)throw new Error("Cannot start inference on the model runner with feed entries of type NDArray. Please use InputProviders.")}this.inferenceExampleIntervalMs=n,this.inferenceTensor=e,this.inferenceFeedEntries=t,this.inferenceExampleCount=r,this.currentInferenceLoopNumPasses=a,this.isInferring||(this.inferencePassesThisRun=0,requestAnimationFrame((function(){return i.inferNetwork()}))),this.isInferring=!0},e.prototype.inferNetwork=function(){var e=this;this.isInferring&&this.inferencePassesThisRun!==this.currentInferenceLoopNumPasses&&(this.math.scope((function(t){for(var n=[],r=[],a=performance.now(),o=0;o<e.inferenceExampleCount;o++){for(var i=[],s=0;s<e.inferenceFeedEntries.length;s++){var u=e.inferenceFeedEntries[s],l=u.data.getNextCopy(e.math);i.push({tensor:u.tensor,data:l})}n.push(i),r.push(e.session.eval(e.inferenceTensor,i))}if(null!=e.eventObserver.inferenceExamplesPerSecCallback){r[r.length-1].dataSync();var c=performance.now()-a,p=1e3*e.inferenceExampleCount/c;e.eventObserver.inferenceExamplesPerSecCallback(p)}null!=e.eventObserver.inferenceExamplesCallback&&e.eventObserver.inferenceExamplesCallback(n,r),e.inferencePassesThisRun++})),this.lastInferTimeoutID=window.setTimeout((function(){return e.inferNetwork()}),this.inferenceExampleIntervalMs))},e.prototype.stopInferring=function(){this.isInferring=!1,window.clearTimeout(this.lastInferTimeoutID)},e.prototype.isInferenceRunning=function(){return this.isInferring},e.prototype.computeMetric=function(){var e=this;if(null==this.metricFeedEntries)throw new Error("Cannot compute metric, no metric FeedEntries provided.");var t=this.zeroScalar;return this.math.scope((function(n){for(var a=0;a<e.metricBatchSize;a++){var o=e.session.eval(e.metricTensor,e.metricFeedEntries);t=e.math.add(t,o)}return e.metricReduction===r.MEAN&&(t=e.math.divide(t,e.metricBatchSizeScalar)),t}))},e.prototype.getTotalBatchesTrained=function(){return this.totalBatchesTrained},e.prototype.getLastComputedMetric=function(){return this.lastComputedMetric},e.prototype.setMath=function(e){this.math=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setInferenceTensor=function(e){this.inferenceTensor=e},e.prototype.setInferenceExampleCount=function(e){this.inferenceExampleCount=e},e}();t.GraphRunner=i},5699:function(e,t,n){"use strict";n(5705),n(4873),n(7007),n(792),n(151),n(9239),n(7716),n(6008),n(3850).version,n(8584).CheckpointLoader,n(1635).InMemoryDataset;var r=n(3648);r.InCPUMemoryShuffledInputProviderBuilder,r.InGPUMemoryShuffledInputProviderBuilder,n(5705).XhrDataset;var a=n(4873);t.Vi=a.ENV,a.Environment;var o=n(6518);o.Graph,o.Tensor,n(192).AdadeltaOptimizer,n(8712).AdagradOptimizer,n(2083).AdamOptimizer,n(9042).AdamaxOptimizer,n(4554).MomentumOptimizer,n(1267).Optimizer,n(8952).RMSPropOptimizer,n(3953).SGDOptimizer;var i=n(7789);i.CostReduction,i.Session;var s=n(6073);s.GraphRunner,s.MetricReduction;var u=n(1732);u.ConstantInitializer,u.NDArrayInitializer,u.OnesInitializer,u.RandomNormalInitializer,u.RandomTruncatedNormalInitializer,u.RandomUniformInitializer,u.VarianceScalingInitializer,u.ZerosInitializer;var l=n(5726);l.MathBackendCPU,l.NDArrayMathCPU;var c=n(1989);c.MathBackendWebGL,c.NDArrayMathGPU,n(2453).MatrixOrientation,n(7873).GPGPUContext,n(9104).NDArrayMath;var p=n(6190);t.vF=p.Array1D,p.Array2D,t._6=p.Array3D,p.Array4D,p.NDArray,t.Ru=p.Scalar},1732:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6190),a=function(){function e(e,t,n){void 0===e&&(e=1),void 0===t&&(t="fan_in"),void 0===n&&(n="normal"),this.scale=e,this.mode=t,this.distribution=n}return e.prototype.initialize=function(e,t,n){var a=0;if("fan_in"===this.mode)a=t;else if("fan_out"===this.mode)a=n;else{if("fan_avg"!==this.mode)throw new Error("Unexpected mode for variance scaling initializer: "+this.mode);a=(t+n)/2}if("normal"===this.distribution)return r.NDArray.randTruncatedNormal(e,0,Math.sqrt(this.scale/a));if("uniform"===this.distribution)return r.NDArray.randUniform(e,0,Math.sqrt(3*this.scale/a));throw new Error("Unexpected distribution for variance scaling initializer: "+this.distribution)},e}();t.VarianceScalingInitializer=a;var o=function(){function e(){}return e.prototype.initialize=function(e,t,n){return r.NDArray.zeros(e)},e}();t.ZerosInitializer=o;var i=function(){function e(){}return e.prototype.initialize=function(e,t,n){var a=r.NDArray.zeros(e);return a.fill(1),a},e}();t.OnesInitializer=i;var s=function(){function e(e){void 0===e&&(e=0),this.value=e}return e.prototype.initialize=function(e,t,n){var a=r.NDArray.zeros(e);return a.fill(this.value),a},e}();t.ConstantInitializer=s;var u=function(){function e(e){this.ndarray=e}return e.prototype.initialize=function(e,t,n){return this.ndarray},e}();t.NDArrayInitializer=u;var l=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=.05),this.mean=e,this.stdev=t}return e.prototype.initialize=function(e,t,n){return r.NDArray.randNormal(e,this.mean,this.stdev)},e}();t.RandomNormalInitializer=l;var c=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=.05),this.mean=e,this.stdev=t}return e.prototype.initialize=function(e,t,n){return r.NDArray.randTruncatedNormal(e,this.mean,this.stdev)},e}();t.RandomTruncatedNormalInitializer=c;var p=function(){function e(e,t){void 0===e&&(e=-.05),void 0===t&&(t=.05),this.minval=e,this.maxval=t}return e.prototype.initialize=function(e,t,n){return r.NDArray.randUniform(e,this.minval,this.maxval)},e}();t.RandomUniformInitializer=p},7104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6190),a=function(){function e(){this.one=r.Scalar.new(1)}return e.prototype.output=function(e,t){return e.tanh(t)},e.prototype.der=function(e,t,n){var r=this;return e.scope((function(){var t=e.elementWiseMul(n,n);return e.scalarMinusArray(r.one,t)}))},e.prototype.dispose=function(){this.one.dispose()},e}();t.TanHFunc=a;var o=function(){function e(){}return e.prototype.output=function(e,t){return e.relu(t)},e.prototype.der=function(e,t,n){return e.step(t)},e.prototype.dispose=function(){},e}();t.ReLUFunc=o;var i=function(){function e(e){this.alpha=e}return e.prototype.output=function(e,t){return e.leakyRelu(t,this.alpha)},e.prototype.der=function(e,t,n){return e.step(t,this.alpha)},e.prototype.dispose=function(){},e}();t.LeakyReluFunc=i;var s=function(){function e(){}return e.prototype.output=function(e,t){return e.sigmoid(t)},e.prototype.der=function(e,t,n){return e.scope((function(){var t=e.elementWiseMul(n,n);return e.subStrict(n,t)}))},e.prototype.dispose=function(){},e}();t.SigmoidFunc=s;var u=function(){function e(){this.two=r.Scalar.new(2)}return e.prototype.output=function(e,t){return e.elementWiseMul(t,t)},e.prototype.der=function(e,t,n){return e.scalarTimesArray(this.two,t)},e.prototype.dispose=function(){this.two.dispose()},e}();t.SquareFunc=u;var l=function(){function e(){}return e.prototype.output=function(e,t){return e.elu(t)},e.prototype.der=function(e,t,n){return e.eluDer(t)},e.prototype.dispose=function(){},e}();t.EluFunc=l},9149:function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function r(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.axesAreInnerMostDims=n,t.combineLocations=r,t.computeOutAndReduceShapes=function(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var o=t.map((function(t){return e[t]}));return[n,o]},t.expandShapeToKeepDim=function(e,t){return r(e,t.map((function(e){return 1})),t)},t.parseAxisParam=function(e,t){null==e?e=t.map((function(e,t){return t})):"number"===typeof e&&(e=[e]);var n=t.length;return e.forEach((function(e,t){if(e<-n||e>=n)throw new Error("Axis must be between -rank and rank-1. Got axis["+t+"]="+e+" where rank is "+n)})),e.map((function(e){return e<0?n+e:e}))},t.assertAxesAreInnerMostDims=function(e,t,r){if(!n(t,r))throw new Error(e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+r+" input.")},t.getPermutedAxes=function(e,t){if(n(e,t))return null;for(var r=[],a=0;a<t;++a)-1===e.indexOf(a)&&r.push(a);return e.forEach((function(e){return r.push(e)})),r},t.getInnerMostAxes=function(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},5726:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6699),s=n(4873),u=n(6008),l=n(3071),c=n(8038),p=n(9104),f=n(6190),d=n(4013),h=n(4013),v=n(9149),m=n(2453),y=function(){function e(){this.data={}}return e.prototype.dispose=function(){},e.prototype.write=function(e,t,n,r){this.data[e]=t},e.prototype.writePixels=function(e,t,n){var r,a;if(t instanceof ImageData)r=t.data;else if(t instanceof HTMLCanvasElement)r=t.getContext("2d").getImageData(0,0,t.width,t.height).data;else{if(!(t instanceof HTMLImageElement||t instanceof HTMLVideoElement))throw new Error("pixels is of unknown type: "+t.constructor.name);var o=document.createElement("canvas");o.width=t.width,o.height=t.height,o.getContext("2d").drawImage(t,0,0,o.width,o.height),r=o.getContext("2d").getImageData(0,0,o.width,o.height).data}if(4===n)a=new Int32Array(r);else{var i=t.width*t.height;a=new Int32Array(i*n);for(var s=0;s<i;s++)for(var u=0;u<n;++u)a[s*n+u]=r[4*s+u]}this.data[e]=a},e.prototype.read=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){return this.throwIfNoData(e),[2,this.data[e]]}))}))},e.prototype.readSync=function(e){return this.throwIfNoData(e),this.data[e]},e.prototype.disposeData=function(e){delete this.data[e]},e.prototype.time=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){return t=performance.now(),e(),[2,performance.now()-t]}))}))},e.prototype.throwIfNoData=function(e){if(!(e in this.data))throw new Error("No data found for NDArray with id "+e+". Use dl.ENV.math instead of constructing your own NDArrayMath. If you need to construct your own math, make sure this array is allocated after the math construction")},e.prototype.clone=function(e){return f.NDArray.make(e.shape,{values:new Float32Array(e.dataSync())})},e.prototype.slice1D=function(e,t,n){var r=e.dataSync().slice(t,t+n);return f.Array1D.new(r)},e.prototype.slice2D=function(e,t,n){for(var r=f.Array2D.zeros(n),a=t[0],o=t[1],i=0;i<n[0];++i)for(var s=0;s<n[1];++s){var u=e.get(i+a,s+o);r.set(u,i,s)}return r},e.prototype.slice3D=function(e,t,n){for(var r=f.Array3D.zeros(n),a=t[0],o=t[1],i=t[2],s=0;s<n[0];++s)for(var u=0;u<n[1];++u)for(var l=0;l<n[2];++l){var c=e.get(s+a,u+o,l+i);r.set(c,s,u,l)}return r},e.prototype.slice4D=function(e,t,n){for(var r=f.Array4D.zeros(n),a=t[0],o=t[1],i=t[2],s=t[3],u=0;u<n[0];++u)for(var l=0;l<n[1];++l)for(var c=0;c<n[2];++c)for(var p=0;p<n[3];++p){var d=e.get(u+a,l+o,c+i,p+s);r.set(d,u,l,c,p)}return r},e.prototype.concat1D=function(e,t){var n=c.computeOutShape(e.shape,t.shape,0),r=f.Array1D.zeros(n),a=e.dataSync(),o=t.dataSync(),i=r.dataSync();return i.set(a,0),i.set(o,e.size),r},e.prototype.concat2D=function(e,t,n){var r=c.computeOutShape(e.shape,t.shape,n),a=f.Array2D.zeros(r);if(0===n){var o=e.dataSync(),i=t.dataSync(),s=a.dataSync();return s.set(o,0),s.set(i,e.size),a}for(var u=0;u<r[0];++u)for(var l=0;l<r[1];++l){var p=[u,l],d=void 0;if(p[n]<e.shape[n])d=e.get(u,l);else{p[n]-=e.shape[n];var h=p[0],v=p[1];d=t.get(h,v)}a.set(d,u,l)}return a},e.prototype.concat3D=function(e,t,n){var r=c.computeOutShape(e.shape,t.shape,n),a=f.Array3D.zeros(r);if(0===n){var o=e.dataSync(),i=t.dataSync(),s=a.dataSync();return s.set(o,0),s.set(i,e.size),a}for(var u=0;u<r[0];++u)for(var l=0;l<r[1];++l)for(var p=0;p<r[2];++p){var d=[u,l,p],h=void 0;if(d[n]<e.shape[n])h=e.get(u,l,p);else{d[n]-=e.shape[n];var v=d[0],m=d[1],y=d[2];h=t.get(v,m,y)}a.set(h,u,l,p)}return a},e.prototype.concat4D=function(e,t,n){var r=c.computeOutShape(e.shape,t.shape,n),a=f.Array4D.zeros(r);if(0===n){var o=e.dataSync(),i=t.dataSync(),s=a.dataSync();return s.set(o,0),s.set(i,e.size),a}for(var u=0;u<r[0];++u)for(var l=0;l<r[1];++l)for(var p=0;p<r[2];++p)for(var d=0;d<r[3];++d){var h=[u,l,p,d],v=void 0;if(h[n]<e.shape[n])v=e.get(u,l,p,d);else{h[n]-=e.shape[n];var m=h[0],y=h[1],g=h[2],b=h[3];v=t.get(m,y,g,b)}a.set(v,u,l,p,d)}return a},e.prototype.neg=function(e){return this.multiply(f.Scalar.new(-1),e)},e.prototype.add=function(e,t){return this.broadcastedBinaryOp(e,t,d.upcastType(e.dtype,t.dtype),(function(e,t){return e+t}))},e.prototype.subtract=function(e,t){return this.broadcastedBinaryOp(e,t,d.upcastType(e.dtype,t.dtype),(function(e,t){return e-t}))},e.prototype.pow=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},e.prototype.matMul=function(e,t,n,r){void 0===n&&(n=m.MatrixOrientation.REGULAR),void 0===r&&(r=m.MatrixOrientation.REGULAR);for(var a=n===m.MatrixOrientation.REGULAR?e.shape[1]:e.shape[0],o=n===m.MatrixOrientation.REGULAR?e.shape[0]:e.shape[1],i=r===m.MatrixOrientation.REGULAR?t.shape[1]:t.shape[0],s=function(e,t,n){return e.get(t,n)},u=function(e,t,n){return e.get(n,t)},l=n===m.MatrixOrientation.REGULAR?s:u,c=r===m.MatrixOrientation.REGULAR?s:u,p=new Float32Array(o*i),d=0,h=0;h<o;++h)for(var v=0;v<i;++v){for(var y=0,g=0;g<a;++g)y+=l(e,h,g)*c(t,g,v);p[d++]=y}return f.Array2D.new([o,i],p)},e.prototype.multiply=function(e,t){return this.broadcastedBinaryOp(e,t,d.upcastType(e.dtype,t.dtype),(function(e,t){return e*t}))},e.prototype.divide=function(e,t){return this.broadcastedBinaryOp(e,t,"float32",(function(e,t){return e/t}))},e.prototype.sum=function(e,t){v.assertAxesAreInnerMostDims("sum",t,e.rank);for(var n=v.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=h.SumTypesMap[e.dtype],i=f.NDArray.zeros(r,o),s=u.sizeFromShape(a),l=i.dataSync(),c=e.dataSync(),p=0;p<l.length;++p){for(var d=p*s,m=0,y=0;y<s;++y)m+=c[d+y];l[p]=m}return i},e.prototype.argMin=function(e,t){v.assertAxesAreInnerMostDims("argMin",t,e.rank);for(var n=v.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=f.NDArray.zeros(r,"int32"),i=u.sizeFromShape(a),s=o.dataSync(),l=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,d=l[p],h=0,m=0;m<i;++m){var y=l[p+m];if(isNaN(y)){h=u.NAN_INT32;break}y<d&&(d=y,h=m)}s[c]=h}return o},e.prototype.argMax=function(e,t){v.assertAxesAreInnerMostDims("argMax",t,e.rank);for(var n=v.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=f.NDArray.zeros(r,"int32"),i=u.sizeFromShape(a),s=o.dataSync(),l=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,d=l[p],h=0,m=0;m<i;++m){var y=l[p+m];if(isNaN(y)){h=u.NAN_INT32;break}y>d&&(d=y,h=m)}s[c]=h}return o},e.prototype.equal=function(e,t){return this.broadcastedBinaryOp(e,t,"bool",(function(n,r){return u.isValNaN(n,e.dtype)||u.isValNaN(r,t.dtype)?u.getNaN("bool"):n===r?1:0}))},e.prototype.topKValues=function(e,t){return this.topK(e,t).values},e.prototype.topKIndices=function(e,t){return this.topK(e,t).indices},e.prototype.topK=function(e,t){for(var n=e.dataSync(),r=[],a=0;a<n.length;a++)r.push({value:n[a],index:a});r.sort((function(e,t){return t.value-e.value}));var o=u.getTypedArrayFromDType(e.dtype,t),i=new Int32Array(t);for(a=0;a<t;a++)o[a]=r[a].value,i[a]=r[a].index;return{values:f.Array1D.new(o),indices:f.Array1D.new(i)}},e.prototype.min=function(e,t){v.assertAxesAreInnerMostDims("min",t,e.rank);for(var n=v.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=f.NDArray.zeros(r,e.dtype),i=u.sizeFromShape(a),s=o.dataSync(),l=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,d=l[0],h=0;h<i;++h){var m=l[p+h];if(isNaN(m)){d=Number.NaN;break}m<d&&(d=m)}s[c]=d}return o},e.prototype.minimum=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},e.prototype.max=function(e,t){v.assertAxesAreInnerMostDims("max",t,e.rank);for(var n=v.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=f.NDArray.zeros(r,e.dtype),i=u.sizeFromShape(a),s=o.dataSync(),l=e.dataSync(),c=0;c<s.length;++c){for(var p=c*i,d=l[p],h=0;h<i;++h){var m=l[p+h];if(isNaN(m)){d=Number.NaN;break}m>d&&(d=m)}s[c]=d}return o},e.prototype.maximum=function(e,t){return this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},e.prototype.ceil=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return f.NDArray.make(e.shape,{values:n})},e.prototype.floor=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return f.NDArray.make(e.shape,{values:n})},e.prototype.exp=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return f.NDArray.make(e.shape,{values:n})},e.prototype.log=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.log(a)}return f.NDArray.make(e.shape,{values:n})},e.prototype.sqrt=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=Math.sqrt(a)}return f.NDArray.make(e.shape,{values:n})},e.prototype.square=function(e){for(var t=e.dataSync(),n=new Float32Array(t.length),r=0;r<t.length;++r){var a=t[r];n[r]=a*a}return f.NDArray.make(e.shape,{values:n})},e.prototype.relu=function(e){for(var t=f.NDArray.zeros(e.shape,e.dtype),n=t.dataSync(),r=e.dataSync(),a=0;a<r.length;++a){var o=r[a];u.isValNaN(o,e.dtype)?n[a]=u.getNaN(t.dtype):n[a]=Math.max(0,r[a])}return t},e.prototype.elu=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?a:Math.exp(a)-1}return f.NDArray.make(e.shape,{values:t})},e.prototype.eluDer=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?1:Math.exp(a)}return f.NDArray.make(e.shape,{values:t})},e.prototype.selu=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r){var a=n[r];t[r]=a>=0?1.0507009873554805*a:1.7580993408473768*(Math.exp(a)-1)}return f.NDArray.make(e.shape,{values:t})},e.prototype.leakyRelu=function(e,t){for(var n=new Float32Array(e.size),r=e.dataSync(),a=0;a<r.length;a++){var o=r[a];n[a]=o>=0?o:t*o}return f.NDArray.make(e.shape,{values:n})},e.prototype.prelu=function(e,t){for(var n=new Float32Array(e.size),r=e.dataSync(),a=t.dataSync(),o=0;o<r.length;o++){var i=r[o];n[o]=i>=0?i:a[o]*i}return f.NDArray.make(e.shape,{values:n})},e.prototype.preluDer=function(e,t){for(var n=new Float32Array(e.size),r=e.dataSync(),a=t.dataSync(),o=0;o<r.length;o++){var i=r[o];n[o]=i>0?1:i<0?a[o]:i}return f.NDArray.make(e.shape,{values:n})},e.prototype.clip=function(e,t,n){for(var r=new Float32Array(e.size),a=e.dataSync(),o=0;o<a.length;++o)r[o]=Math.min(n,Math.max(t,a[o]));return f.NDArray.make(e.shape,{values:r})},e.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.sigmoid=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return f.NDArray.make(e.shape,{values:t})},e.prototype.sin=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.cos=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.tan=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.asin=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.acos=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.atan=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.sinh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.cosh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.tanh=function(e){for(var t=new Float32Array(e.size),n=e.dataSync(),r=0;r<n.length;++r)t[r]=u.tanh(n[r]);return f.NDArray.make(e.shape,{values:t})},e.prototype.step=function(e,t){void 0===t&&(t=0);for(var n=new Float32Array(e.size),r=e.dataSync(),a=0;a<r.length;++a){var o=r[a];u.isValNaN(o,e.dtype)?n[a]=u.getNaN(e.dtype):n[a]=o>0?1:t}return f.NDArray.make(e.shape,{values:n})},e.prototype.conv2d=function(e,t,n,r){for(var a=r.filterHeight,o=r.filterWidth,i=r.padInfo.left,s=r.padInfo.top,u=f.Array4D.zeros(r.outShape),l=0;l<r.batchSize;++l)for(var c=0;c<r.outChannels;++c)for(var p=0;p<r.outHeight;++p)for(var d=p*r.strideHeight-i,h=Math.max(0,d),v=Math.min(r.inHeight,a+d),m=0;m<r.outWidth;++m){for(var y=m*r.strideWidth-s,g=Math.max(0,y),b=Math.min(r.inWidth,o+y),x=0,w=h;w<v;++w)for(var E=w-d,k=g;k<b;++k)for(var S=k-y,C=0;C<r.inChannels;++C){x+=e.get(l,w,k,C)*t.get(E,S,C,c)}var T=null!=n?n.get(c):0;u.set(x+T,l,p,m,c)}return u},e.prototype.conv2dDerInput=function(e,t,n){for(var r=n.filterHeight,a=n.filterWidth,o=r-1-n.padInfo.top,i=a-1-n.padInfo.left,s=n.strideHeight,u=n.strideWidth,l=f.Array4D.zeros(n.inShape),c=0;c<n.batchSize;++c)for(var p=0;p<n.inChannels;++p)for(var d=0;d<n.inHeight;++d)for(var h=d-i,v=Math.max(0,Math.ceil(h/s)),m=Math.min(n.outHeight,(r+h)/s),y=0;y<n.inWidth;++y){for(var g=y-o,b=Math.max(0,Math.ceil(g/u)),x=Math.min(n.outWidth,(a+g)/u),w=0,E=v;E<m;++E)for(var k=E*s-h,S=b;S<x;++S)for(var C=S*u-g,T=0;T<n.outChannels;++T){w+=e.get(c,E,S,T)*t.get(r-1-k,a-1-C,p,T)}l.set(w,c,d,y,p)}return l},e.prototype.conv2dDerFilter=function(e,t,n){for(var r=n.strideHeight,a=n.strideWidth,o=n.filterHeight,i=n.filterWidth,s=f.Array4D.zeros(n.filterShape),u=n.padInfo.left,l=n.padInfo.top,c=0;c<o;++c)for(var p=Math.max(0,Math.ceil((l-c)/r)),d=Math.min(n.outHeight,(n.inHeight+l-c)/r),h=0;h<i;++h)for(var v=Math.max(0,Math.ceil((u-h)/a)),m=Math.min(n.outWidth,(n.inWidth+u-h)/a),y=0;y<n.inChannels;++y)for(var g=0;g<n.outChannels;++g){for(var b=0,x=0;x<n.batchSize;++x)for(var w=p;w<d;++w)for(var E=c+w*r-l,k=v;k<m;++k){var S=h+k*a-u;b+=e.get(x,E,S,y)*t.get(x,w,k,g)}s.set(b,c,h,y,g)}return s},e.prototype.conv2dDerBias=function(e){for(var t=e.shape,n=t[0],r=t[1],a=t[2],o=t[3],i=new Float32Array(o),s=0;s<o;++s){for(var u=0,l=0;l<n;++l)for(var c=0;c<r;++c)for(var p=0;p<a;++p)u+=e.get(l,c,p,s);i[s]=u}return f.Array1D.new(i)},e.prototype.depthwiseConv2D=function(e,t,n){for(var r=n.filterHeight,a=n.filterWidth,o=n.padInfo.left,i=n.padInfo.top,s=n.outChannels/n.inChannels,u=f.Array4D.zeros(n.outShape),l=0;l<n.batchSize;++l)for(var c=0;c<n.inChannels;++c)for(var p=0;p<n.outHeight;++p)for(var d=p*n.strideHeight-o,h=Math.max(0,d),v=Math.min(n.inHeight,r+d),m=0;m<n.outWidth;++m)for(var y=m*n.strideWidth-i,g=Math.max(0,y),b=Math.min(n.inWidth,a+y),x=0;x<s;++x){for(var w=0,E=h;E<v;++E)for(var k=E-d,S=g;S<b;++S){var C=S-y;w+=e.get(l,E,S,c)*t.get(k,C,c,x)}u.set(w,l,p,m,c*s+x)}return u},e.prototype.tile=function(e,t){for(var n,r=new Array(e.rank),a=0;a<r.length;a++)r[a]=e.shape[a]*t[a];if("float32"===e.dtype)n=Float32Array;else if("int32"===e.dtype)n=Int32Array;else{if("bool"!==e.dtype)throw new Error("Dtype "+e.dtype+" not supported for tile");n=Uint8Array}var o=new n(u.sizeFromShape(r)),i=f.NDArray.make(r,{values:o},e.dtype),s=e.dataSync();for(a=0;a<i.size;++a){for(var l=i.indexToLoc(a),c=new Array(e.rank),p=0;p<c.length;p++)c[p]=l[p]%e.shape[p];var d=e.locToIndex(c);o[a]=s[d]}return i},e.prototype.transpose=function(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var a=new Float32Array(e.size),o=e.dataSync(),i=f.NDArray.make(n,{values:a});for(r=0;r<e.size;++r){for(var s=e.indexToLoc(r),u=new Array(s.length),l=0;l<u.length;l++)u[l]=s[t[l]];a[i.locToIndex(u)]=o[r]}return i},e.prototype.pool=function(e,t,n){for(var r=t.strideHeight,a=t.strideWidth,o=t.filterHeight,i=t.filterWidth,s=f.Array4D.zeros(t.outShape),u=t.padInfo.top,l=t.padInfo.left,c=0;c<t.batchSize;++c)for(var p=0;p<t.inChannels;++p)for(var d=0;d<t.outHeight;++d)for(var h=d*r-u,v=Math.max(0,h),m=Math.min(t.inHeight,o+h),y=0;y<t.outWidth;++y){for(var g=y*a-l,b=Math.max(0,g),x=Math.min(t.inWidth,i+g),w="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,E=0,k=v;k<m;++k){for(var S=b;S<x;++S){var C=e.get(c,k,S,p);if(isNaN(C)){w=NaN,E=NaN;break}"max"===n&&C>w||"min"===n&&C<w?w=C:"avg"===n&&(E+=C/(o*i))}if(isNaN(w))break}s.set("avg"===n?E:w,c,d,y,p)}return s},e.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},e.prototype.maxPoolPositions=function(e,t){for(var n=f.Array4D.zeros(t.outShape),r=t.strideHeight,a=t.strideWidth,o=t.filterHeight,i=t.filterWidth,s=t.padInfo.top,u=t.padInfo.left,l=0;l<t.batchSize;++l)for(var c=0;c<t.inChannels;++c)for(var p=0;p<t.outHeight;++p)for(var d=p*r-s,h=Math.max(0,d),v=Math.min(t.inHeight,o+d),m=0;m<t.outWidth;++m){for(var y=m*a-u,g=Math.max(0,y),b=Math.min(t.inWidth,i+y),x=Number.NEGATIVE_INFINITY,w=-1,E=h;E<v;++E)for(var k=E-d,S=g;S<b;++S){var C=S-y,T=e.get(l,E,S,c);T>x&&(x=T,w=k*i+C)}n.set(w,l,p,m,c)}return n},e.prototype.maxPoolBackprop=function(e,t,n){for(var r=this.maxPoolPositions(t,n),a=n.strideHeight,o=n.strideWidth,i=n.filterHeight,s=n.filterWidth,u=s-1-n.padInfo.left,l=i-1-n.padInfo.top,c=f.Array4D.zeros(t.shape),p=0;p<n.batchSize;++p)for(var d=0;d<n.inChannels;++d)for(var h=0;h<n.inHeight;++h)for(var v=0;v<n.inWidth;++v){for(var m=h-l,y=v-u,g=0,b=0;b<i;++b){var x=(m+b)/a;if(!(x<0||x>=n.outHeight||Math.floor(x)!==x))for(var w=0;w<s;++w){var E=(y+w)/o;if(!(E<0||E>=n.outWidth||Math.floor(E)!==E)){var k=i*s-1-r.get(p,x,E,d)===b*s+w?1:0;if(0!==k)g+=e.get(p,x,E,d)*k}}}c.set(g,p,h,v,d)}return c},e.prototype.minPool=function(e,t){return this.pool(e,t,"min")},e.prototype.avgPool=function(e,t){return this.pool(e,t,"avg")},e.prototype.resizeBilinear3D=function(e,t,n){for(var r=f.Array3D.zeros([t[0],t[1],e.shape[2]]),a=n?[e.shape[0]-1,e.shape[1]-1,e.shape[2]]:e.shape,o=n?[r.shape[0]-1,r.shape[1]-1,r.shape[2]]:r.shape,i=0;i<r.shape[0];i++)for(var s=0;s<r.shape[1];s++)for(var u=0;u<r.shape[2];u++){var l=a[0]*i/o[0],c=a[1]*s/o[1],p=Math.floor(l),d=Math.min(e.shape[0]-1,Math.ceil(l)),h=Math.floor(c),v=Math.min(e.shape[1]-1,Math.ceil(c)),m=e.get(p,h,u),y=e.get(d,h,u),g=c-h,b=m+(e.get(p,v,u)-m)*g,x=b+(y+(e.get(d,v,u)-y)*g-b)*(l-p);r.set(x,i,s,u)}return r},e.prototype.batchNormalization2D=function(e,t,n,r,a,o){for(var i=e.dataSync(),s=t.dataSync(),u=n.dataSync(),l=a?a.dataSync():[1],c=o?o.dataSync():[0],p=new Float32Array(i.length),d=0;d<i.length;d++)p[d]=c[d%c.length]+(i[d]-s[d%s.length])*l[d%l.length]/Math.sqrt(u[d%u.length]+r);return f.Array2D.new(e.shape,p)},e.prototype.batchNormalization3D=function(e,t,n,r,a,o){for(var i=e.dataSync(),s=t.dataSync(),u=n.dataSync(),l=a?a.dataSync():[1],c=o?o.dataSync():[0],p=new Float32Array(i.length),d=0;d<i.length;d++)p[d]=c[d%c.length]+(i[d]-s[d%s.length])*l[d%l.length]/Math.sqrt(u[d%u.length]+r);return f.Array3D.new(e.shape,p)},e.prototype.batchNormalization4D=function(e,t,n,r,a,o){for(var i=e.getValues(),s=t.getValues(),u=n.getValues(),l=a?a.getValues():new Float32Array([1]),c=o?o.getValues():new Float32Array([0]),p=new Float32Array(i.length),d=0;d<i.length;d++)p[d]=c[d%c.length]+(i[d]-s[d%s.length])*l[d%l.length]/Math.sqrt(u[d%u.length]+r);return f.Array4D.new(e.shape,p)},e.prototype.multinomial=function(e,t,n){for(var r=e.shape[0],a=e.shape[1],o=f.Array2D.zeros([r,t],"int32"),s=o.dataSync(),u=e.dataSync(),l=0;l<r;++l){var c=l*a,p=new Float32Array(a-1);p[0]=u[c];for(var d=1;d<p.length;++d)p[d]=p[d-1]+u[c+d];for(var h=i.alea(n.toString()),v=l*t,m=0;m<t;++m){var y=h();s[v+m]=p.length;for(var g=0;g<p.length;g++)if(y<p[g]){s[v+m]=g;break}}}return o},e.prototype.oneHot=function(e,t,n,r){var a=new Float32Array(e.size*t);a.fill(r);for(var o=0;o<e.size;++o)a[o*t+e.get(o)]=n;return f.Array2D.new([e.size,t],a)},e.prototype.broadcastedBinaryOp=function(e,t,n,r){for(var a=l.assertAndGetBroadcastShape(e.shape,t.shape),o=f.NDArray.zeros(a,n),i=o.dataSync(),s=e.dataSync(),u=t.dataSync(),c=l.getBroadcastDims(e.shape,a),p=l.getBroadcastDims(t.shape,a),d=function(n){var a=o.indexToLoc(n),l=a.slice(-e.rank);c.forEach((function(e){return l[e]=0}));var f=e.locToIndex(l),d=a.slice(-t.rank);p.forEach((function(e){return d[e]=0}));var h=t.locToIndex(d);i[n]=r(s[f],u[h])},h=0;h<i.length;++h)d(h);return o},e}();t.MathBackendCPU=y,s.ENV.registerBackend("cpu",(function(){return new y}));var g=function(e){function t(t){void 0===t&&(t=!1);var n;return console.warn("new NDArrayMathCPU() is deprecated. Please use the global dl.ENV.math. In rare cases, to construct your own NDArrayMath that runs on CPU, use math = new NDArrayMath('cpu', safeMode); and make sure to set it as global: dl.ENV.setMath(math);"),n=e.call(this,"cpu",t)||this,s.ENV.setMath(n),n}return r(t,e),t}(p.NDArrayMath);t.NDArrayMathCPU=g},700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6008),a=n(6190),o=n(7193),i=n(25),s=function(){function e(e,t){this.backend=e,this.safeMode=t,this.nextTapeNodeId=0,this.gradientScopeCount=0,this.debugMode=!1,this.activeScope={keep:[],track:[]},this.scopeStack=[this.activeScope]}return e.prototype.enableDebugMode=function(){this.debugMode=!0},e.prototype.executeKernel=function(e,t,n){var a,s=this;this.debugMode&&(a=performance.now());var u=o.executeKernel(s.backend,e,t);if(this.debugMode){var l=u.dataSync(),c=r.rightPad(performance.now()-a+"ms",9),p=r.rightPad(e,25),f=u.rank,d=u.size,h=r.rightPad(u.shape.toString(),14);console.log("%c"+p+"\t%c"+c+"\t%c"+f+"D "+h+"\t%c"+d,"font-weight:bold","color:red","color:blue","color: orange"),r.checkForNaN(l,u.dtype,name)}if(null!=this.activeTape){t=i.stripUndefinedInputsFromInputConfig(t);var v={id:this.nextTapeNodeId++,type:"kernel",name:"kernel: "+e,kernel:e,inputAndArgs:t,output:u,gradient:n};this.activeTape.push(v)}return u},e.prototype.gradients=function(e,t,n){var r=this,a=this.scope("gradients",(function(){var a=e();if(0!==a.rank)throw new Error("Cannot compute gradient of non-scalar y output. Got y with rank "+a.rank);var o=r.gradientWrt(a,t);return n?[a].concat(o):o}),!0);return n?{value:a[0],gradients:a.slice(1)}:a},e.prototype.gradientWrt=function(e,t){var n=i.getFilteredNodesXToY(this.activeTape,t,e);if(0===n.length)throw new Error("Cannot compute gradient: y is not a function of xs.");var r={};r[e.id]=a.Scalar.new(1),i.backpropagateGradients(r,n);for(var o=[],s=0;s<t.length;s++)o.push(r[t[s].id]);return o},e.prototype.scope=function(e,t,n){var r=this;this.startScope(n);var a=t((function(e){return r.keep(e)}),(function(e){return e}));return a instanceof Promise?(a.then((function(e){return r.endScope(e,n)})),a):(this.endScope(a,n),a)},e.prototype.startScope=function(e){e&&0===this.gradientScopeCount&&(this.activeTape=[]),e&&this.gradientScopeCount++;var t={keep:[],track:[]};this.scopeStack.push(t),this.activeScope=t},e.prototype.endScope=function(e,t){var n=this,a=this.activeScope.keep,o=i.extractNDArraysFromScopeResult(e);a=a.concat(o);for(var s=0;s<this.activeScope.track.length;s++){var u=this.activeScope.track[s];r.isNDArrayInList(u,a)||(null!=this.activeTape?o.push(u):u.dispose())}this.scopeStack.pop(),this.activeScope=0===this.scopeStack.length?null:this.scopeStack[this.scopeStack.length-1],o.forEach((function(e){r.isNDArrayInList(e,n.activeScope.keep)||n.track(e)})),t&&(this.gradientScopeCount--,0===this.gradientScopeCount&&(this.activeTape=null))},e.prototype.keep=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("You are using math in safe mode. Enclose all math.method() calls inside a scope: math.scope(() => {math.method();...}) to avoid memory leaks.");return this.activeScope.keep.push(e),e},e.prototype.track=function(e){if(1===this.scopeStack.length&&this.safeMode)throw new Error("You are using math in safe mode. Enclose all math.method() calls inside a scope: math.scope(() => {math.method();...}) to avoid memory leaks.");return this.activeScope.track.push(e),e},e.prototype.getBackend=function(){return this.backend},e}();t.BackendEngine=s},1989:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4873),s=n(6008),u=n(9149),l=n(9104),c=n(6190),p=n(8234),f=n(4013),d=n(4013),h=n(5902),v=n(7490),m=n(6986),y=n(6986),g=n(5563),b=n(9159),x=n(2374),w=n(1354),E=n(7679),k=n(8864),S=n(7873),C=n(4626),T=n(7007),A=n(8467),N=n(381),_=n(8124),O=n(1837),P=n(4442),M=n(7316),D=n(5780),R=n(419),I=n(7701),L=n(6646),F=n(4802),z=n(8324),U=n(9129),B=n(9129),j=n(151),V=function(){function e(e,t){if(void 0===t&&(t=!0),this.gpgpu=e,this.delayedStorage=t,this.texData={},this.binaryCache={},i.ENV.get("WEBGL_VERSION")<1)throw new Error("WebGL is not supported on this device");if(null==e){var n=T.createWebGLContext();this.gpgpu=new S.GPGPUContext(n),this.gpgpuCreatedLocally=!0}else this.gpgpuCreatedLocally=!1;this.textureManager=new L.TextureManager(this.gpgpu)}return e.prototype.writePixels=function(e,t,n){var r=[t.height,t.width],a=e in this.texData?this.texData[e].texture:this.textureManager.acquireTexture(r);this.texData[e]={values:null,texture:a,textureType:I.TextureType.RGBA_COLOR,texShape:r,numChannels:n,dtype:"int32"},this.gpgpu.uploadPixelDataToTexture(a,t)},e.prototype.write=function(e,t,n,r){if(null==t)throw new Error("MathBackendWebGL.write(): values can not be null");var a=this.getOrMakeTexData(e,r,n),o=a.texture,i=a.texShape;null!=o&&(this.textureManager.releaseTexture(o,i),this.texData[e].texture=null),this.texData[e].values=t,this.delayedStorage||this.uploadToGPU(e)},e.prototype.getOrMakeTexData=function(e,t,n){if(!(e in this.texData)){var r=j.getTextureShapeFromLogicalShape(this.gpgpu.gl,t),a=I.TextureType.DEFAULT;this.texData[e]={texture:null,values:null,textureType:a,texShape:r,dtype:n}}return this.texData[e]},e.prototype.readSync=function(e){this.throwIfNoData(e);var t,n=this.texData[e],r=n.texture,a=n.values,o=n.textureType,i=n.texShape,s=n.numChannels;return null!=a?(this.cacheOnCPU(e),a):(t=o===I.TextureType.DEFAULT?this.gpgpu.downloadMatrixFromTexture(r,i[0],i[1]):this.gpgpu.downloadMatrixFromRGBAColorTexture(r,i[0],i[1],s),this.cacheOnCPU(e,t),this.texData[e].values)},e.prototype.read=function(e){return a(this,void 0,void 0,(function(){var t,n,r,a,s,u;return o(this,(function(o){switch(o.label){case 0:return this.throwIfNoData(e),t=this.texData[e],n=t.texture,r=t.values,a=t.textureType,s=t.texShape,null!=r?(this.cacheOnCPU(e),[2,r]):i.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&a===I.TextureType.DEFAULT?[4,this.gpgpu.downloadMatrixFromTextureAsync(n,s[0],s[1])]:[3,2];case 1:return u=o.sent(),this.cacheOnCPU(e,u),[2,this.texData[e].values];case 2:return i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED")?[4,this.gpgpu.runQuery((function(){}))]:[2,this.readSync(e)];case 3:return o.sent(),[2,this.readSync(e)]}}))}))},e.prototype.time=function(e){return a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return i.ENV.get("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED")?[3,2]:(t=performance.now(),[4,e().data()]);case 1:return n.sent(),[2,performance.now()-t];case 2:return[2,this.gpgpu.runQuery(e)]}}))}))},e.prototype.disposeData=function(e){if(e in this.texData){var t=this.texData[e],n=t.texture,r=t.texShape;null!=n&&this.textureManager.releaseTexture(n,r),delete this.texData[e]}},e.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData[e].texture},e.prototype.getTextureData=function(e){return this.uploadToGPU(e),this.texData[e]},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.clone=function(e){this.throwIfNoData(e.id);var t=this.texData[e.id].texShape,n=e.as2D(t[0],t[1]),r=this.makeOutputArray(t,e.dtype);return this.copy2D(n,[0,0],t,r,[0,0],t),r.reshape(e.shape)},e.prototype.slice1D=function(e,t,n){var r=new R.SliceProgram([n]),a=r.getCustomSetupFunc([t]);return this.compileAndRun(r,[e],null,a)},e.prototype.slice2D=function(e,t,n){var r=new R.SliceProgram(n),a=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,a)},e.prototype.slice3D=function(e,t,n){var r=new R.SliceProgram(n),a=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,a)},e.prototype.slice4D=function(e,t,n){var r=new R.SliceProgram(n),a=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,a)},e.prototype.copy2D=function(e,t,n,r,a,o){var i=new k.Copy2DProgram(n[1],o[1]),s=i.getCustomSetupFunc(t,a,o);this.compileAndRun(i,[e],r,s)},e.prototype.concat1D=function(e,t){var n=new b.ConcatProgram(e.shape,t.shape,0);return this.compileAndRun(n,[e,t])},e.prototype.concat2D=function(e,t,n){var r=new b.ConcatProgram(e.shape,t.shape,n);return this.compileAndRun(r,[e,t])},e.prototype.concat3D=function(e,t,n){var r=new b.ConcatProgram(e.shape,t.shape,n);return this.compileAndRun(r,[e,t])},e.prototype.concat4D=function(e,t,n){var r=new b.ConcatProgram(e.shape,t.shape,n);return this.compileAndRun(r,[e,t])},e.prototype.neg=function(e){var t=new B.UnaryOpProgram(e.shape,U.NEG);return this.compileAndRun(t,[e])},e.prototype.matMul=function(e,t,n,r){var a=new N.MatMulProgram(e.shape,t.shape,n,r);return this.compileAndRun(a,[e,t])},e.prototype.multiply=function(e,t){var n=new y.BinaryOpProgram(m.MUL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,f.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.batchNormalization2D=function(e,t,n,r,a,o){var i=[e,t,n],s=null;null!=o&&(s=o.shape,i.push(o));var u=null;null!=a&&(u=a.shape,i.push(a));var l=new v.BatchNormProgram(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,i)},e.prototype.batchNormalization3D=function(e,t,n,r,a,o){var i=[e,t,n],s=null;null!=o&&(s=o.shape,i.push(o));var u=null;null!=a&&(u=a.shape,i.push(a));var l=new v.BatchNormProgram(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,i)},e.prototype.batchNormalization4D=function(e,t,n,r,a,o){var i=[e,t,n],s=null;null!=o&&(s=o.shape,i.push(o));var u=null;null!=a&&(u=a.shape,i.push(a));var l=new v.BatchNormProgram(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,i)},e.prototype.tile=function(e,t){var n=new F.TileProgram(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.transpose=function(e,t){var n=new z.TransposeProgram(e.shape,t);return this.compileAndRun(n,[e])},e.prototype.reduce=function(e,t,n){var r=e.shape[0],a=e.shape[1],o={windowSize:p.computeOptimalWindowSize(a),inSize:a,batchSize:r},i=new M.ReduceProgram(o,t),s=i.outputShape,u=s[0],l=s[1],c=this.makeOutputArray(i.outputShape,n).as2D(u,l);return this.compileAndRun(i,[e],c),1===c.shape[1]?c:this.reduce(c,t,n)},e.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],a=e.shape[1];null!=n&&(r=n.shape[0],a=n.shape[1]);var o={windowSize:p.computeOptimalWindowSize(a),inSize:a,batchSize:r},i=new h.ArgMinMaxProgram(o,t,null==n),s=i.outputShape,u=s[0],l=s[1],c=this.makeOutputArray(i.outputShape,"int32").as2D(u,l),f=[e];return null!=n&&f.push(n),this.compileAndRun(i,f,c),1===c.shape[1]?c:this.argReduce(e,t,c)},e.prototype.sum=function(e,t){u.assertAxesAreInnerMostDims("sum",t,e.rank);var n=u.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=s.sizeFromShape(a),i=e.as2D(-1,o),l=d.SumTypesMap[e.dtype];return this.reduce(i,"sum",l).reshape(r)},e.prototype.argMin=function(e,t){u.assertAxesAreInnerMostDims("argMin",t,e.rank);var n=u.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=s.sizeFromShape(a),i=e.as2D(-1,o);return this.argReduce(i,"min").reshape(r)},e.prototype.argMax=function(e,t){u.assertAxesAreInnerMostDims("argMax",t,e.rank);var n=u.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=s.sizeFromShape(a),i=e.as2D(-1,o);return this.argReduce(i,"max").reshape(r)},e.prototype.equal=function(e,t){var n=new y.BinaryOpProgram(m.EQUAL,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"bool");return this.compileAndRun(n,[e,t],r)},e.prototype.topKValues=function(e,t){throw new Error("topKValues GPU not yet implemented!")},e.prototype.topKIndices=function(e,t){throw new Error("topKIndices GPU not yet implemented!")},e.prototype.min=function(e,t){u.assertAxesAreInnerMostDims("min",t,e.rank);var n=u.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=s.sizeFromShape(a),i=e.as2D(-1,o);return this.reduce(i,"min",i.dtype).reshape(r)},e.prototype.minimum=function(e,t){var n=new y.BinaryOpProgram(m.MIN,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.max=function(e,t){u.assertAxesAreInnerMostDims("max",t,e.rank);var n=u.computeOutAndReduceShapes(e.shape,t),r=n[0],a=n[1],o=s.sizeFromShape(a),i=e.as2D(-1,o);return this.reduce(i,"max",i.dtype).reshape(r)},e.prototype.maximum=function(e,t){var n=new y.BinaryOpProgram(m.MAX,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.divide=function(e,t){var n=new y.BinaryOpProgram(m.DIV,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,"float32");return this.compileAndRun(n,[e,t],r)},e.prototype.add=function(e,t){var n=new y.BinaryOpProgram(m.ADD,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,f.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.subtract=function(e,t){var n=new y.BinaryOpProgram(m.SUB,e.shape,t.shape),r=this.makeOutputArray(n.outputShape,f.upcastType(e.dtype,t.dtype));return this.compileAndRun(n,[e,t],r)},e.prototype.pow=function(e,t){var n=new y.BinaryOpProgram(m.POW,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.ceil=function(e){var t=new B.UnaryOpProgram(e.shape,U.CEIL);return this.compileAndRun(t,[e])},e.prototype.floor=function(e){var t=new B.UnaryOpProgram(e.shape,U.FLOOR);return this.compileAndRun(t,[e])},e.prototype.exp=function(e){var t=new B.UnaryOpProgram(e.shape,U.EXP);return this.compileAndRun(t,[e])},e.prototype.log=function(e){var t=new B.UnaryOpProgram(e.shape,U.LOG);return this.compileAndRun(t,[e])},e.prototype.sqrt=function(e){var t=new B.UnaryOpProgram(e.shape,U.SQRT);return this.compileAndRun(t,[e])},e.prototype.square=function(e){var t=new B.UnaryOpProgram(e.shape,U.SQUARE);return this.compileAndRun(t,[e])},e.prototype.relu=function(e){var t=new B.UnaryOpProgram(e.shape,U.RELU);return this.compileAndRun(t,[e])},e.prototype.elu=function(e){var t=new B.UnaryOpProgram(e.shape,U.ELU);return this.compileAndRun(t,[e])},e.prototype.eluDer=function(e){var t=new B.UnaryOpProgram(e.shape,U.ELU_DER);return this.compileAndRun(t,[e])},e.prototype.selu=function(e){var t=new B.UnaryOpProgram(e.shape,U.SELU);return this.compileAndRun(t,[e])},e.prototype.leakyRelu=function(e,t){var n=new B.UnaryOpProgram(e.shape,U.LEAKY_RELU(t));return this.compileAndRun(n,[e])},e.prototype.prelu=function(e,t){var n=new y.BinaryOpProgram(m.PRELU,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.preluDer=function(e,t){var n=new y.BinaryOpProgram(m.PRELU_DER,e.shape,t.shape);return this.compileAndRun(n,[e,t])},e.prototype.clip=function(e,t,n){var r=new g.ClipProgram(e.shape,t,n);return this.compileAndRun(r,[e])},e.prototype.abs=function(e){var t=new B.UnaryOpProgram(e.shape,U.ABS);return this.compileAndRun(t,[e])},e.prototype.sigmoid=function(e){var t=new B.UnaryOpProgram(e.shape,U.SIGMOID);return this.compileAndRun(t,[e])},e.prototype.sin=function(e){var t=new B.UnaryOpProgram(e.shape,U.SIN);return this.compileAndRun(t,[e])},e.prototype.cos=function(e){var t=new B.UnaryOpProgram(e.shape,U.COS);return this.compileAndRun(t,[e])},e.prototype.tan=function(e){var t=new B.UnaryOpProgram(e.shape,U.TAN);return this.compileAndRun(t,[e])},e.prototype.asin=function(e){var t=new B.UnaryOpProgram(e.shape,U.ASIN);return this.compileAndRun(t,[e])},e.prototype.acos=function(e){var t=new B.UnaryOpProgram(e.shape,U.ACOS);return this.compileAndRun(t,[e])},e.prototype.atan=function(e){var t=new B.UnaryOpProgram(e.shape,U.ATAN);return this.compileAndRun(t,[e])},e.prototype.sinh=function(e){var t=new B.UnaryOpProgram(e.shape,U.SINH);return this.compileAndRun(t,[e])},e.prototype.cosh=function(e){var t=new B.UnaryOpProgram(e.shape,U.COSH);return this.compileAndRun(t,[e])},e.prototype.tanh=function(e){var t=new B.UnaryOpProgram(e.shape,U.TANH);return this.compileAndRun(t,[e])},e.prototype.step=function(e,t){var n=new B.UnaryOpProgram(e.shape,U.STEP(t));return this.compileAndRun(n,[e])},e.prototype.conv2d=function(e,t,n,r){var a=new w.Conv2DProgram(r,null!=n),o=null!=n?[e,t,n]:[e,t];return this.compileAndRun(a,o)},e.prototype.conv2dDerInput=function(e,t,n){var r=new x.Conv2DDerInputProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.conv2dDerFilter=function(e,t,n){var r=new x.Conv2DDerFilterProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.conv2dDerBias=function(e){var t=new x.Conv2DDerBiasProgram(e.shape);return this.compileAndRun(t,[e])},e.prototype.depthwiseConv2D=function(e,t,n){var r=new E.DepthwiseConv2DProgram(n);return this.compileAndRun(r,[e,t])},e.prototype.maxPool=function(e,t){var n=new P.Pool2DProgram(t,"max",!1);return this.compileAndRun(n,[e])},e.prototype.minPool=function(e,t){var n=new P.Pool2DProgram(t,"min",!1);return this.compileAndRun(n,[e])},e.prototype.avgPool=function(e,t){var n=new P.Pool2DProgram(t,"avg",!1);return this.compileAndRun(n,[e])},e.prototype.maxPoolBackprop=function(e,t,n){var r=new P.Pool2DProgram(n,"max",!0),a=this.compileAndRun(r,[t]),o=new A.MaxPool2DBackpropProgram(n),i=this.compileAndRun(o,[e,a]);return a.dispose(),i},e.prototype.resizeBilinear3D=function(e,t,n){var r=new D.ResizeBilinear3DProgram(e.shape,t,n);return this.compileAndRun(r,[e])},e.prototype.multinomial=function(e,t,n){var r=e.shape[0],a=e.shape[1],o=new _.MultinomialProgram(r,a,t),i=this.makeOutputArray(o.outputShape,"int32"),s=o.getCustomSetupFunc(n);return this.compileAndRun(o,[e],i,s)},e.prototype.oneHot=function(e,t,n,r){var a=new O.OneHotProgram(e.size,t,n,r);return this.compileAndRun(a,[e])},e.prototype.makeOutputArray=function(e,t){return c.NDArray.make(e,{},t)},e.prototype.compileAndRun=function(e,t,n,r){var a=this;null==n&&(n=this.makeOutputArray(e.outputShape,t[0].dtype));var o=t.map((function(e){return a.uploadToGPU(e.id),{array:e,texData:a.texData[e.id]}}));this.getOrMakeTexData(n.id,n.shape,n.dtype),this.uploadToGPU(n.id);var i={array:n,texData:this.texData[n.id]},s=C.makeShaderKey(e,o,i),u=this.getAndSaveBinary(s,(function(){return C.compileProgram(a.gpgpu,e,o,i)}));return C.runProgram(u,o,i,r),n},e.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){for(var e in this.binaryCache)this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram);this.textureManager.dispose(),this.gpgpuCreatedLocally&&this.gpgpu.dispose()},e.prototype.throwIfNoData=function(e){if(!(e in this.texData))throw new Error("No data found for NDArray with id "+e+". Use dl.ENV.math instead of constructing your own NDArrayMath. If you need to construct your own math, make sure this array is allocated after the math construction")},e.prototype.uploadToGPU=function(e){this.throwIfNoData(e);var t=this.texData[e],n=t.texShape,r=t.values,a=t.texture,o=t.dtype;if(null==a){var i=this.textureManager.acquireTexture(n);this.texData[e].texture=i,null!=r&&this.gpgpu.uploadMatrixToTexture(i,n[0],n[1],function(e,t){if(e instanceof Float32Array)return e;for(var n=new Float32Array(e.length),r=0;r<n.length;r++){var a=e[r];n[r]=s.isValNaN(a,t)?NaN:a}return n}(r,o))}},e.prototype.cacheOnCPU=function(e,t){var n=this.delayedStorage,r=this.texData[e],a=r.texture,o=r.texShape,i=r.dtype;n&&null!=a&&(this.textureManager.releaseTexture(a,o),this.texData[e].texture=null),null!=t&&(this.texData[e].values=function(e,t){if("float32"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r){var a=e[r];a=isNaN(a)?s.getNaN(t):Math.round(a),n[r]=a}return n}throw new Error("Unknown dtype "+t)}(t,i))},e}();t.MathBackendWebGL=V,i.ENV.registerBackend("webgl",(function(){return new V}));var G=function(e){function t(t,n){void 0===n&&(n=!1);var r;return console.warn("new NDArrayMathGPU() is deprecated. Please use the global dl.ENV.math. In rare cases, to construct your own NDArrayMath that runs on GPU, use math = new NDArrayMath('webgl', safeMode); and make sure to set it as global: dl.ENV.setMath(math);"),r=e.call(this,new V(t),n)||this,i.ENV.setMath(r),r}return r(t,e),t.prototype.getGPGPUContext=function(){return this.backendEngine.getBackend().getGPGPUContext()},t.prototype.getTextureManager=function(){return this.backendEngine.getBackend().getTextureManager()},t}(l.NDArrayMath);t.NDArrayMathGPU=G},7193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={MatMul:function(e,t){return e.matMul(t.inputs.a,t.inputs.b,t.args.aOrientation,t.args.bOrientation)},Clone:function(e,t){return e.clone(t.inputs.x)},Slice1D:function(e,t){return e.slice1D(t.inputs.x,t.args.begin,t.args.size)},Slice2D:function(e,t){return e.slice2D(t.inputs.x,t.args.begin,t.args.size)},Slice3D:function(e,t){return e.slice3D(t.inputs.x,t.args.begin,t.args.size)},Slice4D:function(e,t){return e.slice4D(t.inputs.x,t.args.begin,t.args.size)},Concat1D:function(e,t){return e.concat1D(t.inputs.a,t.inputs.b)},Concat2D:function(e,t){return e.concat2D(t.inputs.a,t.inputs.b,t.args.axis)},Concat3D:function(e,t){return e.concat3D(t.inputs.a,t.inputs.b,t.args.axis)},Concat4D:function(e,t){return e.concat4D(t.inputs.a,t.inputs.b,t.args.axis)},Neg:function(e,t){return e.neg(t.inputs.x)},Add:function(e,t){return e.add(t.inputs.a,t.inputs.b)},Sub:function(e,t){return e.subtract(t.inputs.a,t.inputs.b)},Mul:function(e,t){return e.multiply(t.inputs.a,t.inputs.b)},Div:function(e,t){return e.divide(t.inputs.a,t.inputs.b)},Sum:function(e,t){return e.sum(t.inputs.x,t.args.axes)},ArgMax:function(e,t){return e.argMax(t.inputs.x,t.args.axes)},ArgMin:function(e,t){return e.argMin(t.inputs.x,t.args.axes)},Equal:function(e,t){return e.equal(t.inputs.a,t.inputs.b)},TopKValues:function(e,t){return e.topKValues(t.inputs.x,t.args.k)},TopKIndices:function(e,t){return e.topKIndices(t.inputs.x,t.args.k)},Min:function(e,t){return e.min(t.inputs.x,t.args.axes)},Minimum:function(e,t){return e.minimum(t.inputs.a,t.inputs.b)},Max:function(e,t){return e.max(t.inputs.x,t.args.axes)},Maximum:function(e,t){return e.maximum(t.inputs.a,t.inputs.b)},Ceil:function(e,t){return e.ceil(t.inputs.x)},Floor:function(e,t){return e.floor(t.inputs.x)},Pow:function(e,t){return e.pow(t.inputs.a,t.inputs.b)},Exp:function(e,t){return e.exp(t.inputs.x)},Log:function(e,t){return e.log(t.inputs.x)},Sqrt:function(e,t){return e.sqrt(t.inputs.x)},Square:function(e,t){return e.square(t.inputs.x)},Relu:function(e,t){return e.relu(t.inputs.x)},LeakyRelu:function(e,t){return e.leakyRelu(t.inputs.x,t.args.alpha)},PReLU:function(e,t){return e.prelu(t.inputs.x,t.inputs.alpha)},PReLUDer:function(e,t){return e.preluDer(t.inputs.x,t.inputs.alpha)},Elu:function(e,t){return e.elu(t.inputs.x)},EluDer:function(e,t){return e.eluDer(t.inputs.x)},Selu:function(e,t){return e.selu(t.inputs.x)},Abs:function(e,t){return e.abs(t.inputs.x)},Sigmoid:function(e,t){return e.sigmoid(t.inputs.x)},Step:function(e,t){return e.step(t.inputs.x,t.args.alpha)},Sin:function(e,t){return e.sin(t.inputs.x)},Cos:function(e,t){return e.cos(t.inputs.x)},Tan:function(e,t){return e.tan(t.inputs.x)},Asin:function(e,t){return e.asin(t.inputs.x)},Acos:function(e,t){return e.acos(t.inputs.x)},Atan:function(e,t){return e.atan(t.inputs.x)},Sinh:function(e,t){return e.sinh(t.inputs.x)},Cosh:function(e,t){return e.cosh(t.inputs.x)},Tanh:function(e,t){return e.tanh(t.inputs.x)},Clip:function(e,t){return e.clip(t.inputs.x,t.args.min,t.args.max)},Transpose:function(e,t){return e.transpose(t.inputs.x,t.args.perm)},Tile:function(e,t){return e.tile(t.inputs.x,t.args.reps)},Conv2D:function(e,t){return e.conv2d(t.inputs.x,t.inputs.filter,t.inputs.bias,t.args.convInfo)},Conv2DDerInput:function(e,t){return e.conv2dDerInput(t.inputs.dy,t.inputs.filter,t.args.convInfo)},Conv2DDerFilter:function(e,t){return e.conv2dDerFilter(t.inputs.x,t.inputs.dy,t.args.convInfo)},Conv2DDerBias:function(e,t){return e.conv2dDerBias(t.inputs.dy)},DepthwiseConv2D:function(e,t){return e.depthwiseConv2D(t.inputs.x,t.inputs.filter,t.args.convInfo)},MaxPool:function(e,t){return e.maxPool(t.inputs.x,t.args.convInfo)},MaxPoolBackprop:function(e,t){return e.maxPoolBackprop(t.inputs.dy,t.inputs.x,t.args.convInfo)},AvgPool:function(e,t){return e.avgPool(t.inputs.x,t.args.convInfo)},MinPool:function(e,t){return e.minPool(t.inputs.x,t.args.convInfo)},ResizeBilinear3D:function(e,t){return e.resizeBilinear3D(t.inputs.x,t.args.newShape2D,t.args.alignCorners)},BatchNorm4D:function(e,t){return e.batchNormalization4D(t.inputs.x,t.inputs.mean,t.inputs.variance,t.args.varianceEpsilon,t.inputs.scale,t.inputs.offset)},BatchNorm3D:function(e,t){return e.batchNormalization3D(t.inputs.x,t.inputs.mean,t.inputs.variance,t.args.varianceEpsilon,t.inputs.scale,t.inputs.offset)},BatchNorm2D:function(e,t){return e.batchNormalization2D(t.inputs.x,t.inputs.mean,t.inputs.variance,t.args.varianceEpsilon,t.inputs.scale,t.inputs.offset)},Multinomial:function(e,t){return e.multinomial(t.inputs.probs,t.args.numSamples,t.args.seed)},OneHot:function(e,t){return e.oneHot(t.inputs.indices,t.args.depth,t.args.onValue,t.args.offValue)}};t.executeKernel=function(e,t,r){return n[t](e,r)}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(6190);t.getFilteredNodesXToY=function(e,t,n){for(var r={},o={},i=0;i<t.length;i++)r[t[i].id]=!0;for(i=0;i<e.length;i++){var s=(w=e[i]).inputAndArgs.inputs;for(var u in s){for(var l=s[u],c=!1,p=0;p<t.length;p++)if(r[l.id]){if(w.output instanceof a.NDArray)r[w.output.id]=!0;else for(var f=0,d=Object.keys(w.output);f<d.length;f++){var h=d[f];r[w.output[h].id]=!0}c=!0,o[w.id]=!0;break}if(c)break}}var v={};v[n.id]=!0;var m={};for(i=e.length-1;i>=0;i--){s=(w=e[i]).inputAndArgs.inputs;var y=[];if(w.output instanceof a.NDArray)y.push(w.output);else for(var g=0,b=Object.keys(w.output);g<b.length;g++){h=b[g];y.push(w.output[h])}for(p=0;p<y.length;p++)if(v[y[p].id]){for(var u in s)v[s[u].id]=!0,m[w.id]=!0;break}}var x=[];for(i=0;i<e.length;i++){var w;if(o[(w=e[i]).id]&&m[w.id]){var E={};for(var u in w.inputAndArgs.inputs){var k=w.inputAndArgs.inputs[u];r[k.id]&&(E[u]=k)}var S=void 0;if(w.output instanceof a.NDArray)S=w.output;else for(var C in S={},w.output){v[w.output[C].id]&&(S[C]=w.output[C])}var T=Object.assign({},w);T.inputAndArgs={inputs:E},T.output=S,x.push(T)}}return x},t.backpropagateGradients=function(e,t){for(var n=t.length-1;n>=0;n--){var o=t[n],i=void 0;if(o.output instanceof a.NDArray)i=e[o.output.id];else{i={};for(var s=0,u=Object.keys(o.output);s<u.length;s++){var l=u[s];i[l]=e[o.output[l].id]}}if(null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for\n              "+o.name+".");var c=o.gradient(i,o.output);for(var p in o.inputAndArgs.inputs){if(!(p in c))throw new Error("Cannot backprop through input "+o.name+"."+p+". Gradients found: "+Object.keys(c)+".");var f=c[p](),d=o.inputAndArgs.inputs[p];if(null==e[d.id])e[d.id]=f;else{var h=e[d.id];e[d.id]=r.ENV.math.add(h,f),h.dispose()}}}},t.computeInputs=function(e){for(var t={},n=0;n<e.length;n++){if((c=e[n]).output instanceof a.NDArray)t[c.output.id]=!0;else for(var r=0,o=Object.keys(c.output);r<o.length;r++){var i=o[r];t[c.output[i].id]=!0}}var s={},u={},l=0;for(n=0;n<e.length;n++)for(var c,p=(c=e[n]).inputAndArgs.inputs,f=0,d=Object.keys(p);f<d.length;f++){t[p[i=d[f]].id]||u[p[i].id]||(s[(l++).toString()]=p[i],u[p[i].id]=!0)}return s},t.extractNDArraysFromScopeResult=function(e){if(null==e)return[];if(e instanceof a.NDArray)return[e];var t=[],n=e;for(var r in n){var o=n[r];o instanceof a.NDArray&&t.push(o)}return t},t.stripUndefinedInputsFromInputConfig=function(e){return Object.keys(e.inputs).forEach((function(t){null==e.inputs[t]&&delete e.inputs[t]})),e}},2453:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.REGULAR=0]="REGULAR",e[e.TRANSPOSED=1]="TRANSPOSED"}(t.MatrixOrientation||(t.MatrixOrientation={}))},5902:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,a=e.batchSize,o=e.inSize,i=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = 0;\n        float bestValue = getA(batch, inOffset);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (isNaN(candidate)) {\n            setOutput(candidate);\n            return;\n          }\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};t.ArgMinMaxProgram=n},7490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3071),a=function(e,t,n,a,o,i){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],r.assertAndGetBroadcastShape(e,t),r.assertAndGetBroadcastShape(e,n);var s="0.0";null!=a&&(r.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=o&&(r.assertAndGetBroadcastShape(e,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+s+";\n        float scale = "+u+";\n        float inv = scale / sqrt(variance + float("+i+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "};t.BatchNormProgram=a},6986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3071),a="\n  if (isNaN(a)) return a;\n  if (isNaN(b)) return b;\n";t.ADD="return a + b;",t.SUB="return a - b;",t.MUL="return a * b;",t.DIV="return a / b;",t.POW="\n  return (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.EQUAL=a+"\n  return float(a == b);\n",t.PRELU="\n  return (a >= 0.0) ? a : b * a;\n",t.PRELU_DER="\n  return (a > 0.0) ? 1.0 : ((a < 0.0) ? b : a);\n",t.MAX=a+"\n  return max(a, b);\n",t.MIN=a+"\n  return min(a, b);\n";var o=function(e,t,n){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.outputShape=r.assertAndGetBroadcastShape(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "};t.BinaryOpProgram=o},5563:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.variableNames=["A"],this.outputShape=e;var r=t.toFixed(20),a=n.toFixed(20);this.userCode="\n      void main() {\n        float value = getAAtOutCoords();\n        if (isNaN(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, "+r+", "+a+"));\n      }\n    "};t.ClipProgram=n},9159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8038),a=n(1712),o=function(e,t,n){this.variableNames=["A","B"],this.outputShape=[];var o=["yR","yC","yD","yW"][n];this.outputShape=r.computeOutShape(e,t,n);var i=a.getCoordsDataType(e.length),s=function(e){var t=1===e?"int yR = coords;":"int yR = coords.x;";if(e>1&&(t+="\nint yC = coords.y;"),e>2&&(t+="\nint yD = coords.z;"),e>3&&(t+="\nint yW = coords.w;"),e>4)throw Error("Concat for rank "+e+" is not yet supported");return t}(e.length),u=function(e){if(1===e)return"yR";if(2===e)return"yR, yC";if(3===e)return"yR, yC, yD";if(4===e)return"yR, yC, yD, yW";throw Error("Concat for rank "+e+" is not yet supported")}(e.length);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        "+s+"\n\n        float value = 0.0;\n        if ("+o+" < "+e[n]+") {\n          value = getA("+u+");\n        } else {\n          "+o+" -= "+e[n]+";\n          value = getB("+u+");\n        }\n\n        setOutput(value);\n      }\n    "};t.ConcatProgram=o},2374:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+a+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};t.Conv2DDerFilterProgram=n;var r=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};t.Conv2DDerInputProgram=r;var a=function(e){this.variableNames=["dy"];var t=e[0],n=e[1],r=e[2],a=e[3];this.outputShape=[a],this.userCode="\n      void main() {\n        int d2 = getOutputCoords();\n\n        float derBias = 0.0;\n        for (int b = 0; b < "+t+"; b++) {\n          for (int yR = 0; yR < "+n+"; yR++) {\n            for (int yC = 0; yC < "+r+"; yC++) {\n              derBias += getDy(b, yR, yC, d2);\n            }\n          }\n        }\n        setOutput(derBias);\n      }\n    "};t.Conv2DDerBiasProgram=a},1354:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.variableNames=["x","W"],t&&this.variableNames.push("bias"),this.outputShape=e.outShape;var n=t?"dotProd += getBias(d2);":"",r=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,i=e.strideWidth,s=e.filterHeight,u=e.filterWidth,l=4*Math.floor(e.inChannels/4),c=e.inChannels%4;this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+r+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC;\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+l+"; d1 += 4) {\n              vec4 xValues = vec4(\n                getX(batch, xR, xC, d1),\n                getX(batch, xR, xC, d1 + 1),\n                getX(batch, xR, xC, d1 + 2),\n                getX(batch, xR, xC, d1 + 3)\n              );\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              dotProd += dot(xValues, wValues);\n            }\n\n            if ("+(1===c)+") {\n              dotProd +=\n                getX(batch, xR, xC, "+l+") *\n                getW(wR, wC, "+l+", d2);\n            } else if ("+(2===c)+") {\n              vec2 xValues = vec2(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1)\n              );\n              vec2 wValues = vec2(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            } else if ("+(3===c)+") {\n              vec3 xValues = vec3(\n                getX(batch, xR, xC, "+l+"),\n                getX(batch, xR, xC, "+l+" + 1),\n                getX(batch, xR, xC, "+l+" + 2)\n              );\n              vec3 wValues = vec3(\n                getW(wR, wC, "+l+", d2),\n                getW(wR, wC, "+l+" + 1, d2),\n                getW(wR, wC, "+l+" + 2, d2)\n              );\n              dotProd += dot(xValues, wValues);\n            }\n          }\n        }\n        "+n+"\n        setOutput(dotProd);\n      }\n    "};t.Conv2DProgram=n},7679:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.inHeight,n=e.inWidth,r=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,i=e.strideWidth,s=e.filterHeight,u=e.filterWidth,l=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+r+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+l+";\n        int q = d2 - d1 * "+l+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+s+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+t+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+u+"; wC++) {\n            int xC = xCCorner + wC;\n\n            if (xC < 0 || xC >= "+n+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};t.DepthwiseConv2DProgram=n},8864:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.variableNames=["source"],this.outputShape=null,this.userCode="\n      uniform ivec2 sourceStart;\n      uniform ivec2 destStart;\n\n      void main() {\n        ivec2 destCoords = getOutputCoords() - destStart;\n        int index = destCoords.x * "+t+" + destCoords.y;\n        int r = index / "+e+";\n        ivec2 sourceCoords = sourceStart + ivec2(r, index - r * "+e+");\n        setOutput(getSource(sourceCoords.x, sourceCoords.y));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t,n){return function(r,a){r.setOutputMatrixWriteRegion(t[0],n[0],t[1],n[1]);var o=r.getUniformLocation(a,"sourceStart");r.gl.uniform2i(o,e[0],e[1]);var i=r.getUniformLocation(a,"destStart");r.gl.uniform2i(i,t[0],t[1])}},e}();t.Copy2DProgram=n},7873:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4873),i=n(6008),s=n(7007),u=n(7701),l=n(151),c=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.autoDebugValidate=!1,this.gl=null!=e?e:s.createWebGLContext(),1===o.ENV.get("WEBGL_VERSION")?(this.textureFloatExtension=l.getExtensionOrThrow(this.gl,"OES_texture_float"),this.colorBufferFloatExtension=this.gl.getExtension("WEBGL_color_buffer_float")):this.colorBufferFloatExtension=l.getExtensionOrThrow(this.gl,"EXT_color_buffer_float"),this.loseContextExtension=l.getExtensionOrThrow(this.gl,"WEBGL_lose_context"),o.ENV.get("WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED")&&(this.getBufferSubDataAsyncExtension=this.gl.getExtension("WEBGL_get_buffer_sub_data_async")),this.vertexBuffer=s.createVertexBuffer(this.gl),this.indexBuffer=s.createIndexBuffer(this.gl),this.framebuffer=l.createFramebuffer(this.gl)}return e.prototype.dispose=function(){var e=this;this.throwIfDisposed(),null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;l.callAndCheck(t,(function(){return t.finish()})),l.callAndCheck(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),l.callAndCheck(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),l.callAndCheck(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),l.callAndCheck(t,(function(){return t.deleteBuffer(e.vertexBuffer)})),l.callAndCheck(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),l.callAndCheck(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.loseContextExtension.loseContext(),this.disposed=!0},e.prototype.enableAutomaticDebugValidation=function(e){this.autoDebugValidate=e,l.enableDebugWebGLErrorChecking(e)},e.prototype.createMatrixTexture=function(e,t){return this.throwIfDisposed(),s.createMatrixTexture(this.gl,e,t)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),s.uploadPixelDataToTexture(this.gl,e,t)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),s.createPackedMatrixTexture(this.gl,e,t)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(l.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),l.callAndCheck(this.gl,(function(){return t.gl.deleteTexture(e)}))},e.prototype.uploadMatrixToTexture=function(e,t,n,r){this.throwIfDisposed();return s.uploadMatrixToTexture(this.gl,e,t,n,r,1)},e.prototype.uploadMatrixToPackedTexture=function(e,t,n,r){return this.throwIfDisposed(),s.uploadMatrixToPackedTexture(this.gl,e,t,n,r)},e.prototype.downloadMatrixFromTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return s.downloadMatrixFromOutputTexture(r.gl,t,n)}))},e.prototype.downloadMatrixFromTextureAsync=function(e,t,n){return r(this,void 0,void 0,(function(){var r=this;return a(this,(function(a){if(null==this.getBufferSubDataAsyncExtension)throw new Error("Cannot download matrix from output texture asynchronously, WEBGL_get_buffer_sub_data_async is not enabled.");return[2,this.downloadMatrixDriverAsync(e,(function(){return s.downloadMatrixFromOutputTextureAsync(r.gl,r.getBufferSubDataAsyncExtension,t,n)}))]}))}))},e.prototype.downloadMatrixFromRGBAColorTexture=function(e,t,n,r){var a=this;return this.downloadMatrixDriver(e,(function(){return s.downloadMatrixFromRGBAColorTexture(a.gl,t,n,r)}))},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return s.downloadMatrixFromPackedOutputTexture(r.gl,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=l.createFragmentShader(t,e),r=s.createVertexShader(t),a=l.createProgram(t);return l.callAndCheck(t,(function(){return t.attachShader(a,r)})),l.callAndCheck(t,(function(){return t.attachShader(a,n)})),l.linkProgram(t,a),this.autoDebugValidate&&l.validateProgram(t,a),a},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&l.callAndCheck(this.gl,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.autoDebugValidate&&l.validateProgram(this.gl,this.program),l.callAndCheck(this.gl,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t){return this.throwIfDisposed(),l.getProgramUniformLocationOrThrow(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),l.callAndCheck(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),l.bindTextureToProgramUniformSampler(this.gl,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=u.getPackedMatrixTextureShapeWidthHeight(t,n),a=r[0],o=r[1];this.setOutputMatrixTextureDriver(e,a,o)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&l.validateProgram(this.gl,this.program),l.validateFramebuffer(this.gl)},e.prototype.executeProgram=function(e){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;s.bindVertexProgramAttributeStreams(t,this.program,this.vertexBuffer,e),this.autoDebugValidate&&this.debugValidate(),l.callAndCheck(t,(function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),l.callAndCheck(this.gl,(function(){return e.gl.finish()}))},e.prototype.runQuery=function(e){return 2===o.ENV.get("WEBGL_VERSION")?this.runQueryWebGL2(e):this.runQueryWebGL1(e)},e.prototype.runQueryWebGL2=function(e){var t=this,n=l.getExtensionOrThrow(this.gl,"EXT_disjoint_timer_query_webgl2"),r=this.gl.createQuery();return this.gl.beginQuery(n.TIME_ELAPSED_EXT,r),e(),this.gl.endQuery(n.TIME_ELAPSED_EXT),new Promise((function(e,a){i.repeatedTry((function(){var e=t.gl.getQueryParameter(r,t.gl.QUERY_RESULT_AVAILABLE),a=t.gl.getParameter(n.GPU_DISJOINT_EXT);return e&&!a})).then((function(){var n=t.gl.getQueryParameter(r,t.gl.QUERY_RESULT);e(n/1e6)})).catch((function(){console.warn("Disjoint query timer never available."),e(-1)}))}))},e.prototype.runQueryWebGL1=function(e){var t=this,n=l.getExtensionOrThrow(this.gl,"EXT_disjoint_timer_query"),r=n.createQueryEXT();return n.beginQueryEXT(n.TIME_ELAPSED_EXT,r),e(),n.endQueryEXT(n.TIME_ELAPSED_EXT),new Promise((function(e,a){i.repeatedTry((function(){var e=n.getQueryObjectEXT(r,n.QUERY_RESULT_AVAILABLE_EXT),a=t.gl.getParameter(n.GPU_DISJOINT_EXT);return e&&!a})).then((function(){var t=n.getQueryObjectEXT(r,n.QUERY_RESULT_EXT);e(t/1e6)})).catch((function(){console.warn("Disjoint query timer never available."),e(-1)}))}))},e.prototype.downloadMatrixDriverSetup=function(e){this.throwIfDisposed(),l.bindColorTextureToFramebuffer(this.gl,e,this.framebuffer),this.autoDebugValidate&&l.validateFramebuffer(this.gl)},e.prototype.downloadMatrixDriverTeardown=function(){null!=this.outputTexture?(l.bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.autoDebugValidate&&l.validateFramebuffer(this.gl)):l.unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.downloadMatrixDriverSetup(e);var n=t();return this.downloadMatrixDriverTeardown(),n},e.prototype.downloadMatrixDriverAsync=function(e,t){return r(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return this.downloadMatrixDriverSetup(e),[4,t()];case 1:return n=r.sent(),this.downloadMatrixDriverTeardown(),[2,n]}}))}))},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;l.bindColorTextureToFramebuffer(r,e,this.framebuffer),this.autoDebugValidate&&l.validateFramebuffer(r),this.outputTexture=e,l.callAndCheck(r,(function(){return r.viewport(0,0,t,n)})),l.callAndCheck(r,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var a=this;this.throwIfDisposed(),l.callAndCheck(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();t.GPGPUContext=c},4626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(6008),o=n(1712),i=["uv","clipSpacePos"],s="NaN";function u(){return!r.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")}function l(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,o=e.texShape,i=t[n].array.shape,s=t[n].texData.texShape;if(!a.arraysEqual(r,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+i+" must match");if(!a.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}))}t.compileProgram=function(e,t,n,r){for(var a=t.userCode,l=n.map((function(e,n){var r={logicalShape:e.array.shape,texShape:e.texData.texShape,textureType:e.texData.textureType};return{name:t.variableNames[n],shapeInfo:r}})),c=l.map((function(e){return e.shapeInfo})),p={logicalShape:r.array.shape,texShape:r.texData.texShape,textureType:r.texData.textureType},f=o.makeShader(l,p,a,!0===t.supportsBroadcasting),d=e.createProgram(f),h={},v=0;v<t.variableNames.length;v++){var m=t.variableNames[v];h[m]=e.getUniformLocation(d,m)}var y={};return i.forEach((function(t){y[t]=e.getAttributeLocation(d,t)})),u()&&(h.NaN=e.getUniformLocation(d,s)),{program:t,source:f,webGLProgram:d,uniformLocations:h,attributeLocations:y,gpgpu:e,inShapeInfos:c,outShapeInfo:p}},t.runProgram=function(e,t,n,r){l(e.inShapeInfos,t),l([e.outShapeInfo],[n]);var a=n.texData.texture,o=n.texData.texShape,i=e.gpgpu;i.setOutputMatrixTexture(a,o[0],o[1]),i.setProgram(e.webGLProgram),t.forEach((function(t,n){var r=t.texData.texture,a=e.program.variableNames[n],o=e.uniformLocations[a];i.setInputMatrixTexture(r,o,n)})),u()&&i.gl.uniform1f(e.uniformLocations.NaN,NaN),null!=r&&r(i,e.webGLProgram),i.executeProgram(e.attributeLocations)},t.makeShaderKey=function(e,t,n){var r="";t.concat(n).forEach((function(e){r+=e.array.shape+"_"+e.texData.texShape}));var a=e.userCode,o=(!0===e.supportsBroadcasting).toString(),i=e.constructor.name;return i+="_"+o+"_"+r+"_"+a}},7007:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4873),i=n(7701),s=n(151);function u(){return{alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0}}function l(e,t){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===o.ENV.get("WEBGL_VERSION")?4===t?e.RGBA:e.RED:e.RGBA}function c(e){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?e.FLOAT:e.UNSIGNED_BYTE}function p(e,t,n,r){s.validateTextureSize(e,t,n);var a=s.createTexture(e),i=e.TEXTURE_2D,u=function(e,t){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===o.ENV.get("WEBGL_VERSION")?4===t?e.RGBA32F:e.R32F:e.RGBA}(e,r),p=l(e,r);return s.callAndCheck(e,(function(){return e.bindTexture(i,a)})),s.callAndCheck(e,(function(){return e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),s.callAndCheck(e,(function(){return e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),s.callAndCheck(e,(function(){return e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST)})),s.callAndCheck(e,(function(){return e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST)})),s.callAndCheck(e,(function(){return e.texImage2D(i,0,u,t,n,0,p,c(e),null)})),s.callAndCheck(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),a}function f(e,t,n,r,a,o){var i=l(e,o);s.validateTextureSize(e,n,r),s.callAndCheck(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),s.callAndCheck(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,i,c(e),a)})),s.callAndCheck(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function d(e,t,n){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?new Float32Array(i.getUnpackedArraySizeFromMatrixSize(e*t,n)):new Uint8Array(e*t*n)}function h(e,t,n,r){if(o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")){var a=new Float32Array(t*n);return i.decodeMatrixFromUnpackedArray(e,a,r),a}return i.decodeToFloatArray(e)}t.getWebGLContextAttributes=u,t.createWebGLContext=function(e){var t,n={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};return t=null!=e?s.createWebGLRenderingContextFromCanvas(e,n):s.createWebGLRenderingContext(n),s.callAndCheck(t,(function(){return t.disable(t.DEPTH_TEST)})),s.callAndCheck(t,(function(){return t.disable(t.STENCIL_TEST)})),s.callAndCheck(t,(function(){return t.disable(t.BLEND)})),s.callAndCheck(t,(function(){return t.disable(t.DITHER)})),s.callAndCheck(t,(function(){return t.disable(t.POLYGON_OFFSET_FILL)})),s.callAndCheck(t,(function(){return t.disable(t.SAMPLE_COVERAGE)})),s.callAndCheck(t,(function(){return t.enable(t.SCISSOR_TEST)})),s.callAndCheck(t,(function(){return t.enable(t.CULL_FACE)})),s.callAndCheck(t,(function(){return t.cullFace(t.BACK)})),t},t.createVertexShader=function(e){return s.createVertexShader(e,"\n    precision highp float;\n    attribute vec3 clipSpacePos;\n    attribute vec2 uv;\n    varying vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")},t.createVertexBuffer=function(e){var t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return s.createStaticVertexBuffer(e,t)},t.createIndexBuffer=function(e){var t=new Uint16Array([0,1,2,2,1,3]);return s.createStaticIndexBuffer(e,t)},t.createMatrixTexture=function(e,t,n){var r=i.getUnpackedMatrixTextureShapeWidthHeight(t,n);return p(e,r[0],r[1],1)},t.createColorMatrixTexture=function(e,t,n){var r=i.getColorMatrixTextureShapeWidthHeight(t,n);return p(e,r[0],r[1],4)},t.createPackedMatrixTexture=function(e,t,n){var r=i.getPackedMatrixTextureShapeWidthHeight(t,n);return p(e,r[0],r[1],4)},t.bindVertexProgramAttributeStreams=function(e,t,n,r){s.callAndCheck(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),s.bindVertexBufferToProgramAttribute(e,t,"clipSpacePos",n,3,20,0,r),s.bindVertexBufferToProgramAttribute(e,t,"uv",n,2,20,12,r)},t.uploadPixelDataToTexture=function(e,t,n){s.callAndCheck(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),s.callAndCheck(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),s.callAndCheck(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},t.uploadMatrixToTexture=function(e,t,n,r,a,u){var l,c=i.getUnpackedMatrixTextureShapeWidthHeight(n,r),p=c[0],d=c[1];if(o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")){var h=1===u?s.getChannelsPerTexture():u;1===h?l=a:(l=new Float32Array(i.getUnpackedArraySizeFromMatrixSize(a.length,h)),i.encodeMatrixToUnpackedArray(a,l,h))}else l=i.encodeFloatArray(a);f(e,t,p,d,l,u)},t.uploadMatrixToPackedTexture=function(e,t,n,r,a){var o=i.getPackedMatrixTextureShapeWidthHeight(n,r),s=o[0],u=o[1],l=new Float32Array(i.getPackedRGBAArraySizeFromMatrixShape(n,r));i.encodeMatrixToPackedRGBA(a,n,r,l),f(e,t,s,u,l,4)},t.downloadMatrixFromOutputTextureAsync=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,i,u,l,p;return a(this,(function(a){switch(a.label){case 0:return r=e,u=d(n,o,i=4),l=u instanceof Float32Array?4*u.length:u,p=e.createBuffer(),s.callAndCheck(e,(function(){return e.bindBuffer(r.PIXEL_PACK_BUFFER,p)})),s.callAndCheck(e,(function(){return e.bufferData(r.PIXEL_PACK_BUFFER,l,e.STATIC_DRAW)})),s.callAndCheck(e,(function(){return r.readPixels(0,0,o,n,e.RGBA,c(e),0)})),[4,t.getBufferSubDataAsync(r.PIXEL_PACK_BUFFER,0,u)];case 1:return a.sent(),[2,h(u,n,o,i)]}}))}))},t.downloadMatrixFromOutputTexture=function(e,t,n){var r=i.getUnpackedMatrixTextureShapeWidthHeight(t,n),a=r[0],o=r[1],u=d(t,n,4);return s.callAndCheck(e,(function(){return e.readPixels(0,0,a,o,e.RGBA,c(e),u)})),h(u,t,n,4)},t.downloadMatrixFromRGBAColorTexture=function(e,t,n,r){var a=t*n*4,o=new Uint8Array(a);s.callAndCheck(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.UNSIGNED_BYTE,o)}));for(var u=new Float32Array(a),l=0;l<o.length;l++)u[l]=o[l];var c=new Float32Array(t*n*r);return i.decodeMatrixFromUnpackedColorRGBAArray(u,c,r),c},t.downloadMatrixFromPackedOutputTexture=function(e,t,n){var r=i.getPackedMatrixTextureShapeWidthHeight(t,n),a=r[0],o=r[1],u=new Float32Array(i.getPackedRGBAArraySizeFromMatrixShape(t,n));s.callAndCheck(e,(function(){return e.readPixels(0,0,a,o,e.RGBA,c(e),u)}));var l=new Float32Array(t*n);return i.decodeMatrixFromPackedRGBA(u,t,n,l)}},8467:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=t*n-1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+a+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+s+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+n+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "};t.MaxPool2DBackpropProgram=n},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2453),a=function(e,t,n,a){void 0===n&&(n=r.MatrixOrientation.REGULAR),void 0===a&&(a=r.MatrixOrientation.REGULAR),this.variableNames=["matrixA","matrixB"];var o=n===r.MatrixOrientation.REGULAR?e[0]:e[1],i=a===r.MatrixOrientation.REGULAR?t[1]:t[0];this.outputShape=[o,i];var s=n===r.MatrixOrientation.REGULAR?e[1]:e[0],u=function(e,t){return n===r.MatrixOrientation.REGULAR?"aRow, "+t+" + "+e:t+" + "+e+", aRow"},l=function(e,t){return a===r.MatrixOrientation.REGULAR?t+" + "+e+", bCol":"bCol, "+t+" + "+e},c=4*Math.floor(s/4),p=s%4;this.userCode=" float dotARowBCol(int aRow, int bCol) {\n      float result = 0.0;\n      for (int i = 0; i < "+c+"; i += 4) {\n        vec4 a = vec4(\n          getMatrixA("+u(0,"i")+"),\n          getMatrixA("+u(1,"i")+"),\n          getMatrixA("+u(2,"i")+"),\n          getMatrixA("+u(3,"i")+")\n        );\n        vec4 b = vec4(\n          getMatrixB("+l(0,"i")+"),\n          getMatrixB("+l(1,"i")+"),\n          getMatrixB("+l(2,"i")+"),\n          getMatrixB("+l(3,"i")+")\n        );\n\n        result += dot(a, b);\n      }\n\n      if ("+(1===p)+") {\n        result += getMatrixA("+u(0,c)+") *\n          getMatrixB("+l(0,c)+");\n      } else if ("+(2===p)+") {\n        vec2 a = vec2(\n          getMatrixA("+u(0,c)+"),\n          getMatrixA("+u(1,c)+")\n        );\n        vec2 b = vec2(\n          getMatrixB("+l(0,c)+"),\n          getMatrixB("+l(1,c)+")\n        );\n        result += dot(a, b);\n      } else if ("+(3===p)+") {\n        vec3 a = vec3(\n          getMatrixA("+u(0,c)+"),\n          getMatrixA("+u(1,c)+"),\n          getMatrixA("+u(2,c)+")\n        );\n        vec3 b = vec3(\n          getMatrixB("+l(0,c)+"),\n          getMatrixB("+l(1,c)+"),\n          getMatrixB("+l(2,c)+")\n        );\n        result += dot(a, b);\n      }\n\n      return result;\n    }\n\n    void main() {\n      ivec2 resRC = getOutputCoords();\n      setOutput(dotARowBCol(resRC.x, resRC.y));\n    }\n    "};t.MatMulProgram=a},8124:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}();t.MultinomialProgram=n},1837:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}();t.OneHotProgram=n},4442:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterHeight,a=e.filterWidth,o=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,u=e.padInfo.left;this.outputShape=e.outShape;var l="avg"===t,c="0.0";if(l||(c="min"===t?"1.0 / 0.0":"-1.0 / 0.0"),n){var p="min"===t?"<=":">=";this.userCode="\n        const ivec2 strides = ivec2("+o+", "+i+");\n        const ivec2 pads = ivec2("+s+", "+u+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+r+"; wR++) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+a+"; wC++) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              if (isNaN(value)) {\n                setOutput(value);\n                return;\n              }\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value "+p+" currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+a+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "}else{var f="min"===t?"min":"max",d=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(d="avgValue / "+r*a+".0");var h=4*Math.floor(a/4),v=a%4,m="\n      if (hasNaN(values)) {\n        setOutput(getNaN(values));\n        return;\n      }\n      if ("+l+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = "+f+"(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+i+");\n      const ivec2 pads = ivec2("+s+", "+u+");\n      const float initializationValue = "+c+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+c+");\n        float avgValue = 0.0;\n\n        for (int wR = 0; wR < "+r+"; wR++) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+h+"; wC += 4) {\n            int xC = xCCorner + wC;\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              getValue(batch, xR, xC + 3, d)\n            );\n\n            "+m+"\n          }\n\n          int xC = xCCorner + "+h+";\n          if ("+(1===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n            "+m+"\n          } else if ("+(2===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+m+"\n          } else if ("+(3===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + 1, d),\n              getValue(batch, xR, xC + 2, d),\n              initializationValue\n            );\n\n            "+m+"\n          }\n        }\n        setOutput("+d+");\n      }\n    "}};t.Pool2DProgram=n},7316:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,a=e.inSize,o=Math.ceil(a/n);this.outputShape=[r,o];var i="sum"===t,s="0.0";i||(s="min"===t?"1.0 / 0.0":"-1.0 / 0.0");var u="min"===t?"min":"max",l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t&&(l="sumValue");var c=4*Math.floor(n/4),p=n%4,f="\n      if ("+i+") {\n        sumValue += dot(values, ones);\n      } else {\n        if (hasNaN(values)) {\n          setOutput(getNaN(values));\n          return;\n        }\n        minMaxValue = "+u+"(values, minMaxValue);\n      }\n    ",d="";a%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+a+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+s+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+s+");\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+c+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+c+";\n        if ("+(1===p)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n          "+f+"\n        } else if ("+(2===p)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n          "+f+"\n        } else if ("+(3===p)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n          "+f+"\n        }\n        setOutput("+l+");\n      }\n    "};t.ReduceProgram=n},792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(151);function a(e,t,n){e.setProgram(t);var a=r.getProgramUniformLocationOrThrow(e.gl,t,"source");e.setInputMatrixTexture(n,a,0),e.executeProgram()}t.getRenderRGBShader=function(e,t){var n="\n    precision highp float;\n    uniform sampler2D source;\n    varying vec2 resultUV;\n\n    const float destinationWidth = "+t+".0;\n    const float a = 1.0;\n\n    void main() {\n      float xr = floor(resultUV.s * destinationWidth) * 3.0;\n      vec3 x = xr + vec3(0, 1, 2);\n\n      float sourceWidth = destinationWidth * 3.0;\n      vec3 u = (x + 0.5) / sourceWidth;\n      float v = 1.0 - resultUV.t;\n\n      float r = texture2D(source, vec2(u[0], v)).r;\n      float g = texture2D(source, vec2(u[1], v)).r;\n      float b = texture2D(source, vec2(u[2], v)).r;\n\n      gl_FragColor = vec4(r, g, b, a);\n    }";return e.createProgram(n)},t.renderToCanvas=function(e,t,n){r.bindCanvasToFramebuffer(e.gl),a(e,t,n)},t.renderToFramebuffer=a},5780:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.variableNames=["A"],this.outputShape=[];var r=e[2];this.outputShape=[t[0],t[1],r];var a=n?[e[0]-1,e[1]-1,r]:e,o=n?[this.outputShape[0]-1,this.outputShape[1]-1,r]:this.outputShape;this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+a[0]/o[0]+",\n          "+a[1]/o[1]+");\n      const vec2 inputShapeRC = vec2("+e[0]+".0, "+e[1]+".0);\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        ivec2 yRC = coords.xy;\n        int d = coords.z;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "};t.ResizeBilinear3DProgram=n},1712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(6008),o=n(3071),i=n(7701),s=n(7701);function u(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name;return"\n    float get"+t.charAt(0).toUpperCase()+t.slice(1)+"() {\n      return sample("+t+", halfCR);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);return"\n    float "+n+"(int index) {\n      return "+n+"Flat(index);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.shapeInfo.texShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[0],s=n[1];if(a.arraysEqual(t,n))return"\n    float "+o+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+s+".0, "+i+".0);\n      return sample("+r+", uv);\n    }\n  ";var l=a.squeezeShape(t),c=l.newShape,p=l.keptDims,f=c;if(f.length<t.length){var d=["row","col"];return"\n      "+u(h(e,f))+"\n      float "+o+"(int row, int col) {\n        return "+o+"("+v(d,p)+");\n      }\n    "}if(1===s)return"\n    float "+o+"(int row, int col) {\n      int index = row * "+t[1]+" + col;\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / "+i+".0);\n      return sample("+r+", uv);\n    }\n  ";if(1===i)return"\n    float "+o+"(int row, int col) {\n      int index = row * "+t[1]+" + col;\n      vec2 uv = vec2((float(index) + 0.5) / "+s+".0, 0.5);\n      return sample("+r+", uv);\n    }\n  ";return"\n  float "+o+"(int row, int col) {\n    vec2 uv = UVfrom2D("+i+", "+s+", "+t[1]+", row, col);\n    return sample("+r+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.texShape,n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t[0],l=t[1],c=n[1]*n[2],p=n[2],f=e.shapeInfo.textureType;if(f===s.TextureType.DEFAULT){var d=a.squeezeShape(n),m=d.newShape,y=d.keptDims,g=m;if(g.length<n.length){var b=["row","col","depth"];return"\n        "+u(h(e,g))+"\n        float "+o+"(int row, int col, int depth) {\n          return "+o+"("+v(b,y)+");\n        }\n      "}}if(l===c){if(f===s.TextureType.DEFAULT)return"\n        float "+o+"(int row, int col, int depth) {\n          int texR = row;\n          int texC = col * "+p+" + depth;\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+l+".0, "+i+".0);\n          return sample("+r+", uv);\n        }\n      ";if(f===s.TextureType.RGBA_COLOR)return"\n        float "+o+"(int row, int col, int depth) {\n          vec2 uv = (vec2(col, row) + halfCR) /\n                     vec2("+l+".0, "+i+".0);\n          return sampleUVAndDepth("+r+", uv, depth);\n        }\n      ";throw new Error("Unknown TextureType "+f+".")}if(l===p&&f===s.TextureType.DEFAULT)return"\n    float "+o+"(int row, int col, int depth) {\n      int texR = row * "+n[1]+" + col;\n      int texC = depth;\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+l+".0, "+i+".0);\n      return sample("+r+", uv);\n    }\n  ";if(f===s.TextureType.DEFAULT)return"\n      float "+o+"(int row, int col, int depth) {\n        vec2 uv = UVfrom3D(\n            "+i+", "+l+", "+c+", "+p+", row, col, depth);\n        return sample("+r+", uv);\n      }\n  ";if(f===s.TextureType.RGBA_COLOR)return"\n      float "+o+"(int row, int col, int depth) {\n        vec2 uv = UVfrom2D("+i+", "+l+", "+n[1]+", row, col);\n        return sampleUVAndDepth("+r+", uv, depth);\n      }\n    ";throw new Error("Unknown TextureType "+f+".")}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.shapeInfo.texShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[0],s=n[1],l=t[3],c=t[2]*l,p=t[1]*c,f=a.squeezeShape(t),d=f.newShape,m=f.keptDims;if(d.length<t.length){var y=["row","col","depth","depth2"];return"\n      "+u(h(e,d))+"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        return "+o+"("+v(y,m)+");\n      }\n    "}if(s===p)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int texR = row;\n        int texC = col * "+c+" + depth * "+l+" + depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+s+".0, "+i+".0);\n        return sample("+r+", uv);\n      }\n    ";if(s===l)return"\n      float "+o+"(int row, int col, int depth, int depth2) {\n        int texR = row * "+t[1]*t[2]+" + col * "+t[2]+" + depth;\n        int texC = depth2;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+s+".0, "+i+".0);\n        return sample("+r+", uv);\n      }\n    ";return"\n    float "+o+"(int row, int col, int depth, int depth2) {\n      vec2 uv = UVfrom4D("+i+", "+s+", "+p+", "+c+",\n          "+l+", row, col, depth, depth2);\n      return sample("+r+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}t.makeShader=function(e,t,n,i){var h=r.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?p:l,v=r.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")?f:c,m=e.map((function(e){return"uniform sampler2D "+e.name+";"})).join("\n"),y=e.map((function(e){return function(e,t,n){var r=function(e){var t=e.name,n=e.shapeInfo.texShape,r="get"+t.charAt(0).toUpperCase()+t.slice(1)+"Flat",a=n[0],o=n[1];if(1===o&&1===a)return"\n      float "+r+"(int index) {\n        return sample("+t+", halfCR);\n      }\n    ";if(1===o)return"\n      float "+r+"(int index) {\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / "+a+".0);\n        return sample("+t+", uv);\n      }\n    ";if(1===a)return"\n      float "+r+"(int index) {\n        vec2 uv = vec2((float(index) + 0.5) / "+o+".0, 0.5);\n        return sample("+t+", uv);\n      }\n    ";return"\n    float "+r+"(int index) {\n      vec2 uv = UVfrom1D("+a+", "+o+", index);\n      return sample("+t+", uv);\n    }\n  "}(e);r+=u(e),(n||a.arraysEqual(e.shapeInfo.logicalShape,t.logicalShape))&&(r+=function(e,t,n){var r=e.shapeInfo.texShape,i=e.name,u=e.shapeInfo.textureType===s.TextureType.RGBA_COLOR,l=i.charAt(0).toUpperCase()+i.slice(1),c="get"+l+"AtOutCoords",p=o.getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),f=e.shapeInfo.logicalShape.length,d=t.logicalShape.length,h=n&&(d>f||p.length>0),v=o.broadcastDimsAreOuter(p);if(h&&!v)return function(e,t,n,r){var a=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,s="int";2===i?s="ivec2":3===i?s="ivec3":4===i&&(s="ivec4");var u,l=o.getBroadcastDims(e.shapeInfo.logicalShape,t.logicalShape),c=i-a;u=0===a?"":i<2&&l.length>=1?"coords = 0;":l.map((function(e){return"coords["+(e+c)+"] = 0;"})).join("\n");var p="";p=i<2&&a>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords["+(t+c)+"]"})).join(", ");return"\n    float "+r+"() {\n      "+s+" coords = getOutputCoords();\n      "+u+"\n      return get"+n+"("+p+");\n    }\n  "}(e,t,l,c);var m=t.texShape;if(a.arraysEqual(r,m)&&!u)return"\n      float "+c+"() {\n        return sample("+i+", resultUV);\n      }\n    ";var y=u?[r[0],r[1]*e.shapeInfo.logicalShape[2]]:r,g="return sample("+i+", uv);",b="";u&&(b="\n      int col = texC / "+e.shapeInfo.logicalShape[2]+";\n      int texD = texC - col * "+e.shapeInfo.logicalShape[2]+";\n      texC = col;\n    ",g="return sampleUVAndDepth("+i+", uv, texD);");var x=a.sizeFromShape(y),w="";h&&v&&(w="\n        int mainPart = index / "+x+";\n        index -= mainPart * "+x+";\n      ");return"\n    float "+c+"() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+m[0]+", "+m[1]+"));\n      int index = resTexRC.x * "+m[1]+" + resTexRC.y;\n      "+w+"\n      int texR = index / "+y[1]+";\n      int texC = index - texR * "+y[1]+";\n\n      "+b+"\n\n      vec2 uv = (vec2(texC, texR) + halfCR) /\n                 vec2("+r[1]+".0, "+r[0]+".0);\n\n      "+g+"\n    }\n  "}(e,t,n));return r}(e,t,i)})).join("\n"),g=t.texShape,b=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){if(1===t[0])return"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ";if(1===t[1])return"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){if(a.arraysEqual(e,t))return"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ";if(1===e[1])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ";if(1===e[0])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return function(e,t){var n=e[1]*e[2],r=e[2];return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+n+";\n      index -= r * "+n+";\n      int c = index / "+r+";\n      int d = index - c * "+r+";\n      return ivec3(r, c, d);\n    }\n  "}(e,t);case 4:return function(e,t){var n=e[3],r=e[2]*n,a=e[1]*r;return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      int r = index / "+a+";\n      index -= r * "+a+";\n\n      int c = index / "+r+";\n      index -= c * "+r+";\n\n      int d = index / "+n+";\n      int d2 = index - d * "+n+";\n\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}}(t.logicalShape,g);return[d,h,v,m,b,y,n].join("\n")};var l="\n  uniform float NaN;\n\n  const vec4 floatDeltas = vec4(\n      1.0,\n      1.0 / 255.0,\n      1.0 / (255.0 * 255.0),\n      1.0 / (255.0 * 255.0 * 255.0)\n  );\n  const float minValue = "+i.FLOAT_MIN+".0;\n  const float maxValue = "+i.FLOAT_MAX+".0;\n  const float range = (maxValue - minValue) / 255.0;\n  const vec2 dotRange = vec2(1.0, range);\n\n  float sample(sampler2D texture, vec2 uv) {\n    vec4 sampleValue = texture2D(texture, uv);\n    if (all(equal(sampleValue, vec4("+i.BYTE_NAN_VALUE+")))) {\n      return NaN;\n    }\n\n    vec4 encValue = floor(sampleValue * 255.0 + 0.5);\n    float decodedValue = dot(encValue, floatDeltas);\n    return dot(vec2(minValue, decodedValue), dotRange);\n  }\n",c="\n  const vec4 floatPowers = vec4(\n    1.0,\n    255.0,\n    255.0 * 255.0,\n    255.0 * 255.0 * 255.0\n  );\n  const vec2 recipRange = vec2(1.0/range);\n  const vec2 recipRange255 = vec2(1.0/(maxValue - minValue));\n\n  void setOutput(float decodedValue) {\n    if (isNaN(decodedValue)) {\n      gl_FragColor = vec4("+i.BYTE_NAN_VALUE+");\n      return;\n    }\n\n    float a = dot(vec2(decodedValue, -minValue), recipRange);\n    float b = fract(a) * 255.0;\n    float c = fract(b) * 255.0;\n    float d = fract(c) * 255.0;\n    gl_FragColor = floor(vec4(a, b, c, d)) / 255.0;\n\n    // TODO(dsmilkov): Version above gets better accuracy but probably slower\n    // than the version below. Benchmark to determine if the accuracy is worth\n    // the cost.\n\n    // float normValue = dot(vec2(decodedValue, -minValue), recipRange255);\n    // vec4 f = normValue * floatPowers;\n    // gl_FragColor = floor(fract(f) * 255.0) / 255.0;\n  }\n",p="\n  float sample(sampler2D texture, vec2 uv) {\n    return texture2D(texture, uv).r;\n  }\n",f="\n  void setOutput(float val) {\n    gl_FragColor = vec4(val, 0, 0, 0);\n  }\n",d="\n  precision highp float;\n  precision highp int;\n  varying vec2 resultUV;\n  const vec2 halfCR = vec2(0.5, 0.5);\n\n  bool isNaN(float val) {\n    float v1 = val * val;\n    float v2 = val * val;\n    return v1 == v2 ? false : true;\n  }\n\n  bool hasNaN(vec4 values) {\n    vec4 v1 = values * values;\n    vec4 v2 = values * values;\n    return any(notEqual(v1, v2));\n  }\n\n  float getNaN(vec4 values) {\n    return dot(vec4(1), values);\n  }\n\n  int round(float value) {\n    return int(floor(value + 0.5));\n  }\n\n  int imod(int x, int y) {\n    return x - y * (x / y);\n  }\n\n  const vec2 randomConst = vec2(\n    23.14069263277926, // e^pi (Gelfond's constant)\n     2.665144142690225 // 2^sqrt(2) (Gelfond\u2013Schneider constant)\n  );\n\n  float random(float seed) {\n      return fract(cos(dot(resultUV * seed, randomConst)) * 12345.6789);\n  }\n\n  float sampleUVAndDepth(sampler2D texture, vec2 uv, int depth) {\n    float value;\n    if (depth == 0) {\n      value = texture2D(texture, uv).r;\n    } else if (depth == 1) {\n      value = texture2D(texture, uv).g;\n    } else if (depth == 2) {\n      value = texture2D(texture, uv).b;\n    } else if (depth == 3) {\n      value = texture2D(texture, uv).a;\n    }\n    return floor(value * 255.0 + 0.5);\n  }\n\n  \nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\n  int index = row * numC + col;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\n    int stride1, int row, int col, int depth) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n  \nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\n    int stride1, int stride2, int row, int col, int depth,\n    int depth2) {\n  // Explicitly use integer operations as dot() only works on floats.\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n\n";function h(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function v(e,t){return t.map((function(t){return e[t]})).join(", ")}t.getCoordsDataType=function(e){if(1===e)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";throw Error("GPU for rank "+e+" is not yet supported")}},419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1712),a=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t=r.getCoordsDataType(this.rank),n=function(e){if(1===e)return"sourceLoc";if(2===e)return"sourceLoc.x, sourceLoc.y";if(3===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z";if(4===e)return"sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w";throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);this.userCode="\n      uniform "+t+" start;\n\n      void main() {\n        "+t+" sourceLoc = start + getOutputCoords();\n        setOutput(getSource("+n+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){if(null!=t.startLoc||(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null!=t.startLoc))if(1===t.rank)n.gl.uniform1i(t.startLoc,e[0]);else if(2===t.rank)n.gl.uniform2i(t.startLoc,e[0],e[1]);else if(3===t.rank)n.gl.uniform3i(t.startLoc,e[0],e[1],e[2]);else{if(4!==t.rank)throw Error("Slicing for rank "+t.rank+" is not yet supported");n.gl.uniform4i(t.startLoc,e[0],e[1],e[2],e[3])}}},e}();t.SliceProgram=a},7701:function(e,t){"use strict";function n(e,t){return e*t}function r(e,t){if(e%t!==0)throw new Error("unpackedSize ("+e+") must be a multiple of "+t);return e/t}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.RGBA_COLOR=1]="RGBA_COLOR"}(t.TextureType||(t.TextureType={})),t.getUnpackedMatrixTextureShapeWidthHeight=function(e,t){return[t,e]},t.getUnpackedArraySizeFromMatrixSize=n,t.getColorMatrixTextureShapeWidthHeight=function(e,t){return[4*t,e]},t.getMatrixSizeFromUnpackedArraySize=r,t.encodeMatrixToUnpackedArray=function(e,t,r){var a=n(e.length,r);if(t.length<a)throw new Error("unpackedArray length ("+t.length+") must be >= "+a);for(var o=0,i=0;i<e.length;++i)t[o]=e[i],o+=r},t.FLOAT_MAX=2e4,t.FLOAT_MIN=-t.FLOAT_MAX;var a=(t.FLOAT_MAX-t.FLOAT_MIN)/255,o=[1,1/255,1/65025,1/16581375],i=[1,255,65025];function s(e,t){return[Math.ceil(t/2),Math.ceil(e/2)]}function u(e,t){var n=s(e,t);return n[0]*n[1]*4}t.BYTE_NAN_VALUE=0,t.encodeFloatArray=function(e){for(var n=new Uint8Array(4*e.length),r=function(r){var o=e[r/4];if(isNaN(o))return n[r]=t.BYTE_NAN_VALUE,n[r+1]=t.BYTE_NAN_VALUE,n[r+2]=t.BYTE_NAN_VALUE,n[r+3]=t.BYTE_NAN_VALUE,"continue";var s=(o-t.FLOAT_MIN)/a,u=i.map((function(e){return e*s})).map((function(e){return Math.floor(e%1*255)}));n[r]=Math.floor(s),n[r+1]=u[0],n[r+2]=u[1],n[r+3]=u[2]},o=0;o<n.length;o+=4)r(o);return n},t.decodeToFloatArray=function(e){for(var n=new Float32Array(e.length/4),r=function(r){if(e[r]===t.BYTE_NAN_VALUE&&e[r+1]===t.BYTE_NAN_VALUE&&e[r+2]===t.BYTE_NAN_VALUE&&e[r+3]===t.BYTE_NAN_VALUE)return n[r/4]=NaN,"continue";var i=0;o.forEach((function(t,n){i+=t*e[r+n]}));var s=i*a+t.FLOAT_MIN;n[r/4]=s},i=0;i<e.length;i+=4)r(i);return n},t.decodeMatrixFromUnpackedArray=function(e,t,n){var a=r(e.length,n);if(t.length<a)throw new Error("matrix length ("+t.length+") must be >= "+a);for(var o=0,i=0;i<e.length;i+=n)t[o++]=e[i]},t.decodeMatrixFromUnpackedColorRGBAArray=function(e,t,n){var r=e.length*n/4;if(t.length<r)throw new Error("matrix length ("+t.length+") must be >= "+r);for(var a=0,o=0;o<e.length;o+=4)for(var i=0;i<n;i++)t[a++]=e[o+i]},t.getPackedMatrixTextureShapeWidthHeight=s,t.getPackedRGBAArraySizeFromMatrixShape=u,t.encodeMatrixToPackedRGBA=function(e,t,n,r){var a=u(t,n);if(r.length<a)throw new Error("packedRGBA length ("+r.length+") must be >= "+a);for(var o=s(t,n),i=o[0],l=o[1],c=n%2===1,p=t%2===1,f=Math.floor(n/2),d=Math.floor(t/2),h=c?4:0,v=n,m=0,y=0;y<d;++y){for(var g=2*y*n,b=0;b<f;++b){var x=g+2*b;r[m]=e[x],r[m+1]=e[x+1],r[m+2]=e[x+v],r[m+3]=e[x+v+1],m+=4}m+=h}if(c){x=n-1,m=4*(i-1);var w=2*n;for(h=4*i,y=0;y<d;++y)r[m]=e[x],r[m+2]=e[x+n],x+=w,m+=h}if(p)for(x=(t-1)*n,m=(l-1)*i*4,b=0;b<f;++b)r[m++]=e[x++],r[m++]=e[x++],m+=2;return c&&p&&(r[r.length-4]=e[e.length-1]),r},t.decodeMatrixFromPackedRGBA=function(e,t,n,r){var a=t*n;if(a<r.length)throw new Error("matrix length ("+r.length+") must be >= "+a);for(var o=n%2===1,i=t%2===1,u=Math.floor(n/2),l=Math.floor(t/2),c=s(t,n),p=c[0],f=c[1],d=o?4:0,h=n+(o?1:0),v=0,m=0,y=n,g=0;g<l;++g){for(var b=0;b<u;++b)r[m++]=e[v++],r[m++]=e[v++],r[y++]=e[v++],r[y++]=e[v++];v+=d,m+=h,y+=h}if(o){v=4*(p-1);var x=n-1;for(d=4*p,h=2*n,g=0;g<l;++g)r[x]=e[v],r[x+n]=e[v+2],v+=d,x+=h}if(i)for(v=(f-1)*p*4,x=(t-1)*n,b=0;b<u;++b)r[x++]=e[v++],r[x++]=e[v++],v+=2;return o&&i&&(r[r.length-1]=e[e.length-4]),r}},6646:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.allocatedTextures=[],this.usedTextureCount={}}return e.prototype.acquireTexture=function(e){var t=r(e);if(t in this.freeTextures||(this.freeTextures[t]=[]),t in this.usedTextureCount||(this.usedTextureCount[t]=0),this.usedTextureCount[t]++,this.freeTextures[t].length>0)return this.numFreeTextures--,this.numUsedTextures++,this.log(),this.freeTextures[t].shift();this.numUsedTextures++,this.log();var n=this.gpgpu.createMatrixTexture(e[0],e[1]);return this.allocatedTextures.push(n),n},e.prototype.releaseTexture=function(e,t){var n=r(t);n in this.freeTextures||(this.freeTextures[n]=[]),this.freeTextures[n].push(e),this.numFreeTextures++,this.numUsedTextures--,this.usedTextureCount[n]--,this.log()},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;this.allocatedTextures.forEach((function(t){e.gpgpu.deleteMatrixTexture(t)})),this.freeTextures=null,this.allocatedTextures=null,this.usedTextureCount=null,this.numUsedTextures=0,this.numFreeTextures=0},e}();function r(e){return e[0]+"_"+e[1]}t.TextureManager=n},4802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1712),a=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;var o=r.getCoordsDataType(this.rank),i=function(e){var t=e.length;if(t>4)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)r.push("imod("+n[a]+", "+e[a]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+i+"));\n      }\n    "};t.TileProgram=a},8324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1712),a=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;var o=r.getCoordsDataType(this.rank),i=function(e){var t=e.length;if(t>4)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+i+"));\n    }\n    "};t.TransposeProgram=a},9129:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "};t.UnaryOpProgram=n;var r="\n  if (isNaN(x)) return x;\n";t.ABS="\n  return abs(x);\n",t.RELU=r+"\n  return (x < 0.0) ? 0.0 : x;\n",t.ELU="\n  return (x >= 0.0) ? x : (exp(x) - 1.0);\n",t.ELU_DER="\n  return (x >= 0.0) ? 1.0 : exp(x);\n",t.SELU="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768599402175208123;\n  float scale = 1.0507009873554804934193349852946;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",t.LEAKY_RELU=function(e){return"\n    return (x >= 0.0) ? x : "+e+" * x;\n  "},t.STEP=function(e){return void 0===e&&(e=0),r+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "},t.NEG="\n  return -x;\n",t.CEIL="\n  return ceil(x);\n",t.FLOOR="\n  return floor(x);\n",t.EXP="\n  return exp(x);\n",t.LOG="\n  return log(x);\n",t.SQRT=r+"\n  return sqrt(x);\n",t.SIGMOID="\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",t.SIN=r+"\n  return sin(x);\n",t.COS=r+"\n  return cos(x);\n",t.TAN="\n  return tan(x);\n",t.ASIN=r+"\n  return asin(x);\n",t.ACOS=r+"\n  return acos(x);\n",t.ATAN=r+"\n  return atan(x);\n",t.SINH="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",t.COSH="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",t.TANH="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",t.SQUARE="\n  return x * x;\n"},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null,a=n(6008),o=n(4873);function i(e,t){var n,r=o.ENV.get("WEBGL_VERSION");if(2===r?n=e.getContext("webgl2",t):1===r&&(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)),0===r||null==n)throw new Error("This browser does not support WebGL.");return n}function s(e,t){var n=t();return l(e),n}t.createWebGLRenderingContext=function(e){var t=document.createElement("canvas");return t.width=1,t.height=1,i(t,e)},t.createWebGLRenderingContextFromCanvas=i,t.callAndCheck=s;var u=!1;function l(e){if(u){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+c(e,t))}}function c(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}t.enableDebugWebGLErrorChecking=function(e){u=e},t.checkWebGLError=l,t.getWebGLErrorMessage=c,t.getExtensionOrThrow=function(e,t){return v(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')},t.createVertexShader=function(e,t){var n=v(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(s(e,(function(){return e.shaderSource(n,t)})),s(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n},t.createFragmentShader=function(e,t){var n=v(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(s(e,(function(){return e.shaderSource(n,t)})),s(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){var n=p.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,s=o.map((function(e,t){return a.rightPad((t+1).toString(),i)+e})),u=0,l=0;l<s.length;l++)u=Math.max(s[l].length,u);var c=s.slice(0,r-1),f=s.slice(r-1,r),d=s.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+a.rightPad(f[0],u),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n};var p=/ERROR: [0-9]+:([0-9]+):/g;function f(e){return null!=r?r:r=s(e,(function(){return e.getParameter(e.MAX_TEXTURE_SIZE)}))}function d(e,t,n){m(e,n),s(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),s(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function h(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function v(e,t,n){var r=s(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function m(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}t.createProgram=function(e){return v(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")},t.linkProgram=function(e,t){if(s(e,(function(){return e.linkProgram(t)})),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")},t.validateProgram=function(e,t){if(s(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")},t.createStaticVertexBuffer=function(e,t){var n=v(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return s(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),s(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n},t.createStaticIndexBuffer=function(e,t){var n=v(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return s(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),s(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n},t.queryMaxTextureSize=f,t.getChannelsPerTexture=function(){return o.ENV.get("WEBGL_FLOAT_TEXTURE_ENABLED")&&2===o.ENV.get("WEBGL_VERSION")?1:4},t.createTexture=function(e){return v(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")},t.validateTextureSize=function(e,t,n){var r=f(e);if(t<=0||n<=0){var a="["+t+"x"+n+"]";throw new Error("Requested texture size "+a+" is invalid.")}if(t>r||n>r){a="["+t+"x"+n+"]";throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+("["+r+"x"+r+"]")+".")}},t.createFramebuffer=function(e){return v(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")},t.bindVertexBufferToProgramAttribute=function(e,t,n,r,a,o,i,u){var l=-1;-1!==(l=null!=u&&n in u?u[n]:e.getAttribLocation(t,n))&&(s(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),s(e,(function(){return e.vertexAttribPointer(l,a,e.FLOAT,!1,o,i)})),s(e,(function(){return e.enableVertexAttribArray(l)})))},t.bindTextureUnit=d,t.unbindTextureUnit=function(e,t){m(e,t),s(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),s(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},t.getProgramUniformLocationOrThrow=function(e,t,n){return v(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')},t.bindTextureToProgramUniformSampler=function(e,t,n,r,a){s(e,(function(){return d(e,n,a)})),s(e,(function(){return e.uniform1i(r,a)}))},t.bindCanvasToFramebuffer=function(e){s(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),s(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),s(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},t.bindColorTextureToFramebuffer=function(e,t,n){s(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),s(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))},t.unbindColorTextureFromFramebuffer=function(e,t){s(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),s(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))},t.validateFramebuffer=function(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+h(e,t))},t.getFramebufferErrorMessage=h,t.getTextureShapeFromLogicalShape=function(e,t){2!==t.length&&(t=a.squeezeShape(t).newShape);var n=f(e),r=a.sizeFromShape(t);return t.length<=1&&r<=n?[r,1]:2===t.length&&t[0]<=n&&t[1]<=n?t:3===t.length&&t[0]<=n&&t[1]*t[2]<=n?[t[0],t[1]*t[2]]:4===t.length&&t[0]<=n&&t[1]*t[2]*t[3]<=n?[t[0],t[1]*t[2]*t[3]]:a.sizeToSquarishShape(r)}},3071:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBroadcastDims=function(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r},t.broadcastDimsAreOuter=function(e){for(var t=0;t<e.length;t++)if(e[t]!==t)return!1;return!0},t.assertAndGetBroadcastShape=function(e,t){for(var n=[],r="Operands could not be broadcast together with shapes "+e+" and "+t+".",a=Math.max(e.length,t.length),o=0;o<a;o++){var i=e[e.length-o-1]||1,s=t[t.length-o-1]||1;if(i>1&&s>1&&i!==s)throw Error(r);n.unshift(Math.max(i,s))}return n}},8038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6008);t.assertParams=function(e,t,n){var a=e.length,o=t.length;r.assert(e.length===t.length,"Error in concat"+a+"D: rank of x1 ("+a+") and x2 ("+o+") must be the same."),r.assert(n>=0&&n<a,"Error in concat"+a+"D: axis must be between 0 and "+(a-1)+".");for(var i=0;i<a;i++)r.assert(i===n||e[i]===t[i],"Error in concat"+a+"D: Shape ("+e+") does not match ("+t+") along the non-concatenated axis "+i+".")},t.computeOutShape=function(e,t,n){r.assert(e.length===t.length,"x1 and x2 should have the same rank.");var a=e.slice();return a[n]+=t[n],a}},9239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6008);function a(e,t,n,r,a,i){void 0===a&&(a=!1),void 0===i&&(i="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],p=u[2],f=u[3];if("channelsLast"===i)l=e[0],c=e[1],p=e[2],f=e[3];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);l=e[0],f=e[1],c=e[2],p=e[3]}var d,h=t[0],v=t[1],m=t[3],y=s(n),g=y[0],b=y[1],x=function(e,t,n,r,a,i,s){var u,l,c;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e};var p=o([t,n,1],i,1,r,e);l=p[0],c=p[1]}else if("same"===e){var f=((l=Math.ceil(t/r))-1)*r+i-t,d=((c=Math.ceil(n/a))-1)*a+s-n,h=Math.floor(f/2),v=f-h,m=Math.floor(d/2);u={top:h,bottom:v,left:m,right:d-m}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0},l=Math.ceil((t-i+1)/r),c=Math.ceil((n-s+1)/a)}return{padInfo:u,outHeight:l,outWidth:c}}(r,c,p,g,b,h,v),w=x.padInfo,E=x.outHeight,k=x.outWidth,S=a?m*f:m;return"channelsFirst"===i?d=[l,S,E,k]:"channelsLast"===i&&(d=[l,E,k,S]),{batchSize:l,dataFormat:i,inHeight:c,inWidth:p,inChannels:f,outHeight:E,outWidth:k,outChannels:S,padInfo:w,strideHeight:g,strideWidth:b,filterHeight:h,filterWidth:v,inShape:e,outShape:d,filterShape:t}}function o(e,t,n,a,o){null==o&&(o=i(e,t,a));var s=e[0],u=e[1],l=(s-t+2*o)/a+1;r.assert(r.isInt(l),"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters");var c=(u-t+2*o)/a+1;return r.assert(r.isInt(c),"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"),[l,c,n]}function i(e,t,n){return Math.floor((e[0]*(n-1)-n+t)/2)}function s(e){return"number"===typeof e?[e,e]:e}t.computePool2DInfo=function(e,t,n,r,o){void 0===o&&(o="channelsLast");var i,u=s(t),l=u[0],c=u[1];if("channelsLast"===o)i=[l,c,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);i=[l,c,e[1],e[1]]}return a(e,i,n,r,!1,o)},t.computeConv2DInfo=a,t.computeOutputShape3D=o,t.computeDefaultPad=i,t.computeWeightsShape4D=function(e,t,n,r){return[n,r,e,t]},t.computeDilatedRC=function(e,t){return[(e[0]-1)*t+1,(e[1]-1)*t+1]}},3378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(6190),o=function(){function e(){this.halfOne=r.ENV.math.keep(a.Scalar.new(.5))}return e.prototype.cost=function(e,t,n){var r=e.subStrict(t,n),a=e.elementWiseMul(r,r),o=e.scalarTimesArray(this.halfOne,a);return r.dispose(),a.dispose(),o},e.prototype.der=function(e,t,n){return e.subStrict(t,n)},e.prototype.dispose=function(){this.halfOne.dispose()},e}();t.SquareCostFunc=o},9104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(6008),o=n(9149),i=n(700),s=n(2453),u=n(3071),l=n(8038),c=n(9239),p=n(6190),f=n(728),d=function(){function e(e,t){this.registeredArrays=new Set,this.customBackend=!1,this.registeredVariables=new Map,"string"===typeof e?this.backend=r.ENV.getBackend(e):(this.customBackend=!0,this.backend=e),this.backendEngine=new i.BackendEngine(this.backend,t)}return e.prototype.time=function(e){return this.backend.time(e)},e.prototype.getNumArrays=function(){return this.registeredArrays.size},e.prototype.register=function(e){if(this.registeredArrays.has(e.id))throw new Error("NDArray with id "+e.id+" was already registered");this.registeredArrays.add(e.id),this.backendEngine.track(e)},e.prototype.registerVariable=function(e){if(this.registeredVariables.has(e.name))throw new Error("Variable with name "+e.name+" was already registered");this.registeredVariables.set(e.name,e)},e.prototype.writePixels=function(e,t,n){this.backend.writePixels(e,t,n)},e.prototype.write=function(e,t,n,r){this.backend.write(e,t,n,r)},e.prototype.readSync=function(e){return this.backend.readSync(e)},e.prototype.read=function(e){return this.backend.read(e)},e.prototype.enableDebugMode=function(){this.backendEngine.enableDebugMode(),console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")},e.prototype.scope=function(e){return this.backendEngine.scope("scope",e,!1)},e.prototype.gradientsScope=function(e){return this.backendEngine.scope("gradientsScope",e,!0)},e.prototype.startScope=function(){this.backendEngine.startScope(!1)},e.prototype.endScope=function(e){this.backendEngine.endScope(e,!1)},e.prototype.keep=function(e){return this.backendEngine.keep(e)},e.prototype.track=function(e){return e},e.prototype.dispose=function(){this.customBackend&&this.backend.dispose()},e.prototype.matMul=function(e,t,n,r){var o=this;void 0===n&&(n=s.MatrixOrientation.REGULAR),void 0===r&&(r=s.MatrixOrientation.REGULAR);var i=n===s.MatrixOrientation.REGULAR?e.shape[1]:e.shape[0],u=r===s.MatrixOrientation.REGULAR?t.shape[0]:t.shape[1];return a.assert(2===e.rank&&2===t.rank,"Error in matMul: inputs must be rank 2, got ranks "+e.rank+" and "+t.rank+"."),a.assert(i===u,"Error in matMul: inner shapes ("+i+") and ("+u+") of NDArrays with shapes "+e.shape+" and "+t.shape+" and orientations "+s.MatrixOrientation[n]+" and "+s.MatrixOrientation[r]+" must match."),this.backendEngine.executeKernel("MatMul",{inputs:{a:e,b:t},args:{aOrientation:n,bOrientation:r}},(function(a,i){if(n===s.MatrixOrientation.TRANSPOSED||r===s.MatrixOrientation.TRANSPOSED)throw new Error("Backprop for transposed MatMul not yet implemented.");return{a:function(){return o.matMul(a,t,s.MatrixOrientation.REGULAR,s.MatrixOrientation.TRANSPOSED)},b:function(){return o.matMul(e,a,s.MatrixOrientation.TRANSPOSED,s.MatrixOrientation.REGULAR)}}}))},e.prototype.executeOp=function(e,t){return t()},e.prototype.vectorTimesMatrix=function(e,t){return a.assert(1===e.rank,"Error in vectorTimesMatrix: first input must be rank 1, but got rank "+e.rank+"."),a.assert(2===t.rank,"Error in vectorTimesMatrix: second input must be rank 2, but got rank "+t.rank+"."),a.assert(e.size===t.shape[0],"Error in vectorTimesMatrix: size of vector ("+e.size+") must match first dimension of matrix ("+t.shape[0]+")"),this.matMul(e.as2D(1,-1),t).as1D()},e.prototype.matrixTimesVector=function(e,t){return a.assert(1===t.rank,"Error in matrixTimesVector: second input must rank 1, but got rank "+t.rank+"."),a.assert(2===e.rank,"Error in matrixTimesVector: first input must be a rank 2, but got rank "+e.rank+"."),a.assert(t.size===e.shape[1],"Error in matrixTimesVector: size of first rank 1 input "+t.size+" must match inner dimension of second rank 2 input, but got shape "+e.shape+"."),this.matMul(e,t.as2D(-1,1)).as1D()},e.prototype.dotProduct=function(e,t){return a.assert(1===e.rank&&1===t.rank,"Error in dotProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+t.rank+"."),a.assert(e.size===t.size,"Error in dotProduct: size of inputs ("+e.size+") and ("+t.size+") must match."),this.matMul(e.as2D(1,-1),t.as2D(-1,1)).asScalar()},e.prototype.outerProduct=function(e,t){return a.assert(1===e.rank&&1===t.rank,"Error in outerProduct: inputs must be rank 1, but got ranks "+e.rank+" and "+t.rank+"."),this.matMul(e.as2D(-1,1),t.as2D(1,-1))},e.prototype.clone=function(e){return this.backendEngine.executeKernel("Clone",{inputs:{x:e}})},e.prototype.reshape=function(e,t){return console.warn("math.reshape() is deprecated. Please call reshape() directly on the ndarray object"),e.reshape(t)},e.prototype.slice1D=function(e,t,n){return f.assertParamsValid(e,[t],[n]),this.backendEngine.executeKernel("Slice1D",{inputs:{x:e},args:{begin:t,size:n}})},e.prototype.slice2D=function(e,t,n){return f.assertParamsValid(e,t,n),this.backendEngine.executeKernel("Slice2D",{inputs:{x:e},args:{begin:t,size:n}})},e.prototype.slice3D=function(e,t,n){return f.assertParamsValid(e,t,n),this.backendEngine.executeKernel("Slice3D",{inputs:{x:e},args:{begin:t,size:n}})},e.prototype.slice4D=function(e,t,n){return f.assertParamsValid(e,t,n),this.backendEngine.executeKernel("Slice4D",{inputs:{x:e},args:{begin:t,size:n}})},e.prototype.concat1D=function(e,t){return l.assertParams(e.shape,t.shape,0),this.backendEngine.executeKernel("Concat1D",{inputs:{a:e,b:t}})},e.prototype.concat2D=function(e,t,n){return l.assertParams(e.shape,t.shape,n),this.backendEngine.executeKernel("Concat2D",{inputs:{a:e,b:t},args:{axis:n}})},e.prototype.concat3D=function(e,t,n){return l.assertParams(e.shape,t.shape,n),this.backendEngine.executeKernel("Concat3D",{inputs:{a:e,b:t},args:{axis:n}})},e.prototype.concat4D=function(e,t,n){return l.assertParams(e.shape,t.shape,n),this.backendEngine.executeKernel("Concat4D",{inputs:{a:e,b:t},args:{axis:n}})},e.prototype.logSumExp=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=!1);var a=o.parseAxisParam(t,e.shape);return this.executeOp("logSumExp",(function(){var t=r.max(e,a,!0),i=r.subtract(e,t),s=r.exp(i),u=r.sum(s,a),l=r.log(u),c=r.add(t.reshape(l.shape),l);if(n){var p=o.expandShapeToKeepDim(c.shape,a);return c.reshape(p)}return c}))},e.prototype.sum=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=!1);var a=o.parseAxisParam(t,e.shape),i=a,s=o.getPermutedAxes(i,e.rank);return this.executeOp("sum",(function(){null!=s&&(e=r.transpose(e,s),i=o.getInnerMostAxes(i.length,e.rank));var u=r.backendEngine.executeKernel("Sum",{inputs:{x:e},args:{axes:i}},(function(n,a){return{x:function(){if(null!=t)throw new Error("Gradients for sum with axis reduction not yet supported.");return r.multiply(n,p.NDArray.onesLike(e))}}}));if(n){var l=o.expandShapeToKeepDim(u.shape,a);return u.reshape(l)}return u}))},e.prototype.mean=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=!1);var i=o.parseAxisParam(t,e.shape),s=o.computeOutAndReduceShapes(e.shape,i)[1],u=a.sizeFromShape(s);return this.executeOp("mean",(function(){return r.scope((function(a){var o=r.divide(e,p.Scalar.new(u));return r.sum(o,t,n)}))}))},e.prototype.argMin=function(e,t){var n=this;void 0===t&&(t=null);var r=o.parseAxisParam(t,e.shape),a=o.getPermutedAxes(r,e.rank);return this.executeOp("argMin",(function(){return null!=a&&(e=n.transpose(e,a),r=o.getInnerMostAxes(r.length,e.rank)),n.backendEngine.executeKernel("ArgMin",{inputs:{x:e},args:{axes:r}})}))},e.prototype.argMax=function(e,t){var n=this;void 0===t&&(t=null);var r=o.parseAxisParam(t,e.shape),a=o.getPermutedAxes(r,e.rank);return this.executeOp("argMax",(function(){return null!=a&&(e=n.transpose(e,a),r=o.getInnerMostAxes(r.length,e.rank)),n.backendEngine.executeKernel("ArgMax",{inputs:{x:e},args:{axes:r}})}))},e.prototype.argMaxEquals=function(e,t){var n=this;return a.assertShapesMatch(e.shape,t.shape,"Error in argMaxEquals: "),this.executeOp("argMaxEquals",(function(){return n.scope((function(){return n.equal(n.argMax(e),n.argMax(t))}))}))},e.prototype.equal=function(e,t){return u.assertAndGetBroadcastShape(e.shape,t.shape),this.backendEngine.executeKernel("Equal",{inputs:{a:e,b:t}})},e.prototype.equalStrict=function(e,t){return a.assertShapesMatch(e.shape,t.shape,"Error in equalStrict: "),this.equal(e,t)},e.prototype.topK=function(e,t){var n,r,o=this;return a.assert(t<=e.size,"Error in topK: k value ("+t+") must be less than size of input ndarray, got shape "+e.shape+"."),this.executeOp("topK",(function(){return n=o.backendEngine.executeKernel("TopKValues",{inputs:{x:e},args:{k:t}}),r=o.backendEngine.executeKernel("TopKIndices",{inputs:{x:e},args:{k:t}}),n})),{values:n,indices:r}},e.prototype.min=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=!1);var a=o.parseAxisParam(t,e.shape),i=a,s=o.getPermutedAxes(i,e.rank);return this.executeOp("min",(function(){null!=s&&(e=r.transpose(e,s),i=o.getInnerMostAxes(i.length,e.rank));var t=r.backendEngine.executeKernel("Min",{inputs:{x:e},args:{axes:i}});if(n){var u=o.expandShapeToKeepDim(t.shape,a);return t.reshape(u)}return t}))},e.prototype.minimum=function(e,t){return u.assertAndGetBroadcastShape(e.shape,t.shape),a.assert(e.dtype===t.dtype,"The dtypes of the first ("+e.dtype+") and second ("+t.dtype+") input must match"),this.backendEngine.executeKernel("Minimum",{inputs:{a:e,b:t}})},e.prototype.max=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=!1);var a=o.parseAxisParam(t,e.shape),i=a,s=o.getPermutedAxes(i,e.rank);return this.executeOp("max",(function(){null!=s&&(e=r.transpose(e,s),i=o.getInnerMostAxes(i.length,e.rank));var t=r.backendEngine.executeKernel("Max",{inputs:{x:e},args:{axes:i}});if(n){var u=o.expandShapeToKeepDim(t.shape,a);return t.reshape(u)}return t}))},e.prototype.maximum=function(e,t){return u.assertAndGetBroadcastShape(e.shape,t.shape),a.assert(e.dtype===t.dtype,"The dtypes of the first ("+e.dtype+") and second ("+t.dtype+") input must match"),this.backendEngine.executeKernel("Maximum",{inputs:{a:e,b:t}})},e.prototype.softmax=function(e,t){var n=this;if(void 0===t&&(t=-1),-1===t&&(t=e.rank-1),t!==e.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+e.rank+" and dim was "+t);return this.executeOp("softmax",(function(){return n.scope((function(){var r=n.logSumExp(e,[t],!0),a=n.subtract(e,r);return n.exp(a)}))}))},e.prototype.switchDim=function(e,t){return this.transpose(e,t)},e.prototype.tile=function(e,t){return a.assert(e.rank===t.length,"Error in transpose: rank of input "+e.rank+" must match length of reps "+t+"."),this.backendEngine.executeKernel("Tile",{inputs:{x:e},args:{reps:t}})},e.prototype.transpose=function(e,t){return null==t&&(t=e.shape.map((function(e,t){return t})).reverse()),a.assert(e.rank===t.length,"Error in transpose: rank of input "+e.rank+" must match length of perm "+t+"."),this.backendEngine.executeKernel("Transpose",{inputs:{x:e},args:{perm:t}})},e.prototype.scalarPlusArray=function(e,t){return a.assert(1===e.size,"Error in scalarPlusArray: first argument must be rank 0, but got rank "+e.rank+"."),this.add(e,t)},e.prototype.scalarMinusArray=function(e,t){return a.assert(1===e.size,"Error in scalarMinusArray: first argument must be rank 0, but got rank "+e.rank+"."),this.subtract(e,t)},e.prototype.arrayMinusScalar=function(e,t){return a.assert(1===t.size,"Error in arrayMinusScalar: second argument must be rank 0, but got rank "+t.rank+"."),this.subtract(e,t)},e.prototype.neg=function(e){return this.backendEngine.executeKernel("Neg",{inputs:{x:e}})},e.prototype.add=function(e,t){return u.assertAndGetBroadcastShape(e.shape,t.shape),this.backendEngine.executeKernel("Add",{inputs:{a:e,b:t}})},e.prototype.addStrict=function(e,t){return a.assertShapesMatch(e.shape,t.shape,"Error in addStrict: "),this.add(e,t)},e.prototype.subtract=function(e,t){var n=this;return u.assertAndGetBroadcastShape(e.shape,t.shape),this.backendEngine.executeKernel("Sub",{inputs:{a:e,b:t}},(function(r,o){if(!a.arraysEqual(e.shape,t.shape))throw new Error("Backprop through broadcasted subtract not yet supported.");return{a:function(){return p.NDArray.onesLike(e)},b:function(){return n.scope((function(){return n.neg(p.NDArray.onesLike(t))}))}}}))},e.prototype.pow=function(e,t){var n=this;a.assert("int32"===t.dtype,"only supports int32 data type for the exponent parameter."),u.assertAndGetBroadcastShape(e.shape,t.shape);return this.backendEngine.executeKernel("Pow",{inputs:{a:e,b:t}},(function(r,o){if(!a.arraysEqual(e.shape,t.shape))throw new Error("Gradient of pow not yet supported for broadcasted shapes.");return{a:function(){return n.scope((function(){return n.multiply(r,n.multiply(t,n.pow(e,n.subtract(t,p.Scalar.new(1,"int32")))))}))},b:function(){throw new Error("Backprop through exponent of math.pow not implemented yet.")}}}))},e.prototype.powStrict=function(e,t){return a.assertShapesMatch(e.shape,t.shape,"Error in powStrict: "),this.pow(e,t)},e.prototype.sub=function(e,t){return this.subtract(e,t)},e.prototype.subStrict=function(e,t){return a.assertShapesMatch(e.shape,t.shape,"Error in subStrict: "),this.subtract(e,t)},e.prototype.multiply=function(e,t){var n=this;return u.assertAndGetBroadcastShape(e.shape,t.shape),this.backendEngine.executeKernel("Mul",{inputs:{a:e,b:t}},(function(r,o){if(!a.arraysEqual(e.shape,t.shape))throw new Error("Backprop through broadcasted multiply not supported yet.");return{a:function(){return n.clone(t)},b:function(){return n.clone(e)}}}))},e.prototype.elementWiseMul=function(e,t){return this.multiplyStrict(e,t)},e.prototype.multiplyStrict=function(e,t){return a.assertShapesMatch(e.shape,t.shape,"Error in multiplyStrict: "),this.multiply(e,t)},e.prototype.divide=function(e,t){return u.assertAndGetBroadcastShape(e.shape,t.shape),this.backendEngine.executeKernel("Div",{inputs:{a:e,b:t}})},e.prototype.divideStrict=function(e,t){return a.assertShapesMatch(e.shape,t.shape,"Error in divideStrict: "),this.divide(e,t)},e.prototype.scalarDividedByArray=function(e,t){return a.assert(1===e.size,"Error in scalarDividedByArray: first argument must be rank 0, but got NDArray of rank "+e.rank+"."),this.divide(e,t)},e.prototype.arrayDividedByScalar=function(e,t){return a.assert(1===t.size,"Error in arrayDividedByScalar: second argument must be rank 0, but got NDArray of rank "+t.rank+"."),this.divide(e,t)},e.prototype.ceil=function(e){return this.backendEngine.executeKernel("Ceil",{inputs:{x:e}})},e.prototype.floor=function(e){return this.backendEngine.executeKernel("Floor",{inputs:{x:e}})},e.prototype.exp=function(e){return this.backendEngine.executeKernel("Exp",{inputs:{x:e}})},e.prototype.log=function(e){return this.backendEngine.executeKernel("Log",{inputs:{x:e}})},e.prototype.sqrt=function(e){return this.backendEngine.executeKernel("Sqrt",{inputs:{x:e}})},e.prototype.square=function(e){var t=this;return this.backendEngine.executeKernel("Square",{inputs:{x:e}},(function(n,r){return{x:function(){return t.multiply(n,t.multiply(e,p.Scalar.new(2)))}}}))},e.prototype.abs=function(e){return this.backendEngine.executeKernel("Abs",{inputs:{x:e}})},e.prototype.clip=function(e,t,n){return a.assert(t<=n,"Error in clip: min ("+t+") must beless than or equal to max ("+n+")."),this.backendEngine.executeKernel("Clip",{inputs:{x:e},args:{min:t,max:n}})},e.prototype.relu=function(e){var t=this;return this.backendEngine.executeKernel("Relu",{inputs:{x:e}},(function(n,r){return{x:function(){return t.step(e)}}}))},e.prototype.elu=function(e){return this.backendEngine.executeKernel("Elu",{inputs:{x:e}})},e.prototype.eluDer=function(e){return this.backendEngine.executeKernel("EluDer",{inputs:{x:e}})},e.prototype.selu=function(e){return this.backendEngine.executeKernel("Selu",{inputs:{x:e}})},e.prototype.leakyRelu=function(e,t){return void 0===t&&(t=.2),this.backendEngine.executeKernel("LeakyRelu",{inputs:{x:e},args:{alpha:t}})},e.prototype.prelu=function(e,t){return this.backendEngine.executeKernel("PReLU",{inputs:{x:e,alpha:t}})},e.prototype.preluDer=function(e,t){return this.backendEngine.executeKernel("PReLUDer",{inputs:{x:e,alpha:t}})},e.prototype.sigmoid=function(e){return this.backendEngine.executeKernel("Sigmoid",{inputs:{x:e}})},e.prototype.sin=function(e){return this.backendEngine.executeKernel("Sin",{inputs:{x:e}})},e.prototype.cos=function(e){return this.backendEngine.executeKernel("Cos",{inputs:{x:e}})},e.prototype.tan=function(e){return this.backendEngine.executeKernel("Tan",{inputs:{x:e}})},e.prototype.asin=function(e){return this.backendEngine.executeKernel("Asin",{inputs:{x:e}})},e.prototype.acos=function(e){return this.backendEngine.executeKernel("Acos",{inputs:{x:e}})},e.prototype.atan=function(e){return this.backendEngine.executeKernel("Atan",{inputs:{x:e}})},e.prototype.sinh=function(e){return this.backendEngine.executeKernel("Sinh",{inputs:{x:e}})},e.prototype.cosh=function(e){return this.backendEngine.executeKernel("Cosh",{inputs:{x:e}})},e.prototype.tanh=function(e){return this.backendEngine.executeKernel("Tanh",{inputs:{x:e}})},e.prototype.step=function(e,t){return void 0===t&&(t=0),this.backendEngine.executeKernel("Step",{inputs:{x:e},args:{alpha:t}})},e.prototype.scaledArrayAdd=function(e,t,n,r){var o=this;return a.assert(1===e.size,"Error in scaledArrayAdd: first argument must rank 0, but got  rank "+e.rank+"."),a.assert(1===n.size,"Error in scaledArrayAdd: third argument must be rank 0, but got NDArray of rank "+n.rank+"."),a.assertShapesMatch(t.shape,r.shape,"Error in scaledArrayAdd: "),this.executeOp("scaledArrayAdd",(function(){return o.scope((function(){return o.add(o.multiply(e,t),o.multiply(n,r))}))}))},e.prototype.scalarTimesArray=function(e,t){return a.assert(1===e.size,"Error in arrayDividedByScalar: first argument must be rank 0, but got rank "+e.rank+"."),this.multiply(e,t)},e.prototype.elementWiseMulBroadcast=function(e,t){return a.assert(2===e.rank,"Error in elementWiseMulBroadcast: first argument must be rank 2, but got rank "+e.rank+"."),a.assert(2===t.rank,"Error in elementWiseMulBroadcast: second argument must be rank 2, but got rank "+t.rank+"."),this.multiply(e,t)},e.prototype.conv1d=function(e,t,n,r,o){var i=this,s=e,u=!1;2===e.rank&&(u=!0,s=e.as3D(1,e.shape[0],e.shape[1])),a.assert(3===s.rank,"Error in conv1d: input must be rank 3, but got rank "+s.rank+"."),a.assert(3===t.rank,"Error in conv1d: filter must be rank 3, but got rank "+t.rank+"."),null!=n&&a.assert(1===n.rank,"Error in conv1d: bias must be rank 1, but got rank "+n.rank+"."),a.assert(s.shape[2]===t.shape[1],"Error in conv1d: depth of input ("+s.shape[2]+") must match  input depth for filter "+t.shape[1]+".");var l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),c=s.as4D(s.shape[0],1,s.shape[1],s.shape[2]),p=[1,r];return this.executeOp("Conv1D",(function(){var e=i.conv2d(c,l,n,p,o);return u?e.as2D(e.shape[2],e.shape[3]):e.as3D(e.shape[0],e.shape[2],e.shape[3])}))},e.prototype.conv2d=function(e,t,n,r,o){var i=this,s=e,u=!1;3===e.rank&&(u=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),a.assert(4===s.rank,"Error in conv2d: input must be rank 4, but got rank "+s.rank+"."),a.assert(4===t.rank,"Error in conv2d: filter must be rank 4, but got rank "+t.rank+"."),null!=n&&a.assert(1===n.rank,"Error in conv2d: bias must be rank 1, but got rank "+n.rank+"."),a.assert(s.shape[3]===t.shape[2],"Error in conv2d: depth of input ("+s.shape[3]+") must match  input depth for filter "+t.shape[2]+".");var l=c.computeConv2DInfo(s.shape,t.shape,r,o);return this.executeOp("Conv2D",(function(){var e=i.backendEngine.executeKernel("Conv2D",{inputs:{x:s,filter:t,bias:n},args:{convInfo:l}});return u?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.conv2dDerInput=function(e,t,n,r,o){var i=this;a.assert(e.length===t.rank,"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match");var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]);var p=s[3],f=u.shape[3];a.assert(4===s.length,"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."),a.assert(4===u.rank,"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank),a.assert(4===n.rank,"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank),a.assert(p===n.shape[2],"Error in conv2dDerInput: depth of input ("+p+") must match input depth for filter "+n.shape[2]+"."),a.assert(f===n.shape[3],"Error in conv2dDerInput: depth of output ("+f+") mustmatch output depth for filter "+n.shape[3]+".");var d=c.computeConv2DInfo(s,n.shape,r,o);return this.executeOp("conv2dDerInput",(function(){var e=i.backendEngine.executeKernel("Conv2DDerInput",{inputs:{dy:u,filter:n},args:{convInfo:d}});return l?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.conv2dDerBias=function(e){var t=e;return 3===e.rank&&(t=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),this.backendEngine.executeKernel("Conv2DDerBias",{inputs:{dy:t}})},e.prototype.conv2dDerFilter=function(e,t,n,r,o){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var s=t;3===s.rank&&(s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),a.assert(4===i.rank,"Error in conv2dDerFilter: input must be rank 4, but got shape "+i.shape+"."),a.assert(4===s.rank,"Error in conv2dDerFilter: dy must be rank 4, but got shape "+s.shape+"."),a.assert(4===n.length,"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."),a.assert(i.shape[3]===n[2],"Error in conv2dDerFilter: depth of input "+i.shape[3]+") must match input depth in filter ("+n[2]+"."),a.assert(s.shape[3]===n[3],"Error in conv2dDerFilter: depth of dy ("+s.shape[3]+") must match output depth for filter ("+n[3]+").");var u=c.computeConv2DInfo(i.shape,n,r,o);return this.backendEngine.executeKernel("Conv2DDerFilter",{inputs:{x:i,dy:s},args:{convInfo:u}})},e.prototype.conv2dTranspose=function(e,t,n,r,a){return this.conv2dDerInput(n,e,t,r,a)},e.prototype.depthwiseConv2D=function(e,t,n,r,o){var i=this;void 0===o&&(o=[1,1]);var s=e,u=!1;3===e.rank&&(u=!0,s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),a.assert(4===s.rank,"Error in depthwiseConv2D: input must be rank 4, but got rank "+s.rank+"."),a.assert(4===t.rank,"Error in depthwiseConv2D: filter must be rank 4, but got rank "+t.rank+"."),a.assert(s.shape[3]===t.shape[2],"Error in depthwiseConv2D: number of input channels ("+s.shape[3]+") must match the inChannels dimension in filter "+t.shape[2]+".");var l,p="number"===typeof(l=o=o||[1,1])?[l,l]:l,f=p[0],d=p[1];a.assert(1===f&&1===d,"Error in depthwiseConv2D: rates greater than 1 are not yet supported. Got rates '"+o+"'");var h=c.computeConv2DInfo(s.shape,t.shape,n,r,!0);return this.executeOp("depthwiseConv2D",(function(){var e=i.backendEngine.executeKernel("DepthwiseConv2D",{inputs:{x:s,filter:t},args:{convInfo:h}});return u?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.maxPool=function(e,t,n,r){var o=this,i=e,s=!1;3===e.rank&&(s=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),a.assert(4===i.rank,"Error in maxPool: input must be rank 4 but got rank "+i.rank+".");var u=c.computePool2DInfo(i.shape,t,n,r);return this.executeOp("maxPool",(function(){var e=o.backendEngine.executeKernel("MaxPool",{inputs:{x:i},args:{convInfo:u}});return s?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.maxPoolBackprop=function(e,t,n,r,o){var i=this;a.assert(t.rank===e.rank,"Rank of input ("+t.rank+") does not match rank of dy ("+e.rank+")");var s=t,u=e,l=!1;3===t.rank&&(l=!0,s=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),a.assert(4===u.rank,"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."),a.assert(4===s.rank,"Error in maxPoolBackprop: input must be rank 4 but got rank "+s.rank+".");var p=c.computePool2DInfo(s.shape,n,r,o);return this.executeOp("maxPoolBackprop",(function(){var e=i.backendEngine.executeKernel("MaxPoolBackprop",{inputs:{dy:u,x:s},args:{convInfo:p}});return l?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.minPool=function(e,t,n,r){var o=this,i=e,s=!1;3===e.rank&&(s=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),a.assert(4===i.rank,"Error in minPool: x must be rank 4 but got rank "+i.rank+".");var u=c.computePool2DInfo(i.shape,t,n,r);return this.executeOp("minPool",(function(){var e=o.backendEngine.executeKernel("MinPool",{inputs:{x:i},args:{convInfo:u}});return s?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.avgPool=function(e,t,n,r){var o=this,i=e,s=!1;3===e.rank&&(s=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),a.assert(4===i.rank,"Error in avgPool: x must be rank 4 but got rank "+i.rank+".");var u=c.computePool2DInfo(i.shape,t,n,r);return this.executeOp("avgPool",(function(){var e=o.backendEngine.executeKernel("AvgPool",{inputs:{x:i},args:{convInfo:u}});return s?e.as3D(e.shape[1],e.shape[2],e.shape[3]):e}))},e.prototype.resizeBilinear3D=function(e,t,n){return void 0===n&&(n=!1),a.assert(3===e.rank,"Error in resizeBilinear3D: x must be rank 3 but got rank "+e.rank+"."),a.assert(2===t.length,"Error in resizeBilinear3D: new shape must 2D, but got shape "+t+"."),this.backendEngine.executeKernel("ResizeBilinear3D",{inputs:{x:e},args:{newShape2D:t,alignCorners:n}})},e.prototype.batchNormalization2D=function(e,t,n,r,o,i){return void 0===r&&(r=.001),a.assert(2===e.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+e.rank+"."),a.assert(2===t.rank||1===t.rank,"Error in batchNormalization2D: mean must be rank 2 or rank 1 but got rank "+t.rank+"."),a.assert(2===n.rank||1===n.rank,"Error in batchNormalization2D: variance must be rank 2 or rank 1 but got rank "+n.rank+"."),null!=o&&a.assert(2===o.rank||1===o.rank,"Error in batchNormalization2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."),null!=i&&a.assert(2===i.rank||1===i.rank,"Error in batchNormalization2D: offset must be rank 2 or rank 1 but got rank "+i.rank+"."),this.backendEngine.executeKernel("BatchNorm2D",{inputs:{x:e,mean:t,variance:n,scale:o,offset:i},args:{varianceEpsilon:r}})},e.prototype.batchNormalization3D=function(e,t,n,r,o,i){return void 0===r&&(r=.001),a.assert(3===e.rank,"Error in batchNormalization3D: x must be rank 3 but got rank "+e.rank+"."),a.assert(3===t.rank||1===t.rank,"Error in batchNormalization3D: mean must be rank 3 or rank 1 but got rank "+t.rank+"."),a.assert(3===n.rank||1===n.rank,"Error in batchNormalization3D: variance must be rank 3 or rank 1 but got rank "+n.rank+"."),null!=o&&a.assert(3===o.rank||1===o.rank,"Error in batchNormalization3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."),null!=i&&a.assert(3===i.rank||1===i.rank,"Error in batchNormalization3D: offset must be rank 3 or rank 1 but got rank "+i.rank+"."),this.backendEngine.executeKernel("BatchNorm3D",{inputs:{x:e,mean:t,variance:n,scale:o,offset:i},args:{varianceEpsilon:r}})},e.prototype.batchNormalization4D=function(e,t,n,r,o,i){return void 0===r&&(r=.001),a.assert(4===e.rank,"Error in batchNormalization4D: x must be rank 4 but got rank "+e.rank+"."),a.assert(4===t.rank||1===t.rank,"Error in batchNormalization4D: mean must be rank 4 or rank 1 but got rank "+t.rank+"."),a.assert(4===n.rank||1===n.rank,"Error in batchNormalization4D: variance must be rank 4 or rank 1 but got rank "+n.rank+"."),null!=o&&a.assert(4===o.rank||1===o.rank,"Error in batchNormalization4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."),null!=i&&a.assert(4===i.rank||1===i.rank,"Error in batchNormalization4D: offset must be rank 4 or rank 1 but got rank "+i.rank+"."),this.backendEngine.executeKernel("BatchNorm4D",{inputs:{x:e,mean:t,variance:n,scale:o,offset:i},args:{varianceEpsilon:r}})},e.prototype.multiRNNCell=function(e,t,n,r){for(var a=this.scope((function(){for(var a=t,o=[],i=0;i<e.length;i++){var s=e[i](a,n[i],r[i]);o.push(s[0]),o.push(s[1]),a=s[1]}return o})),o=[],i=[],s=0;s<a.length;s+=2)o.push(a[s]),i.push(a[s+1]);return[o,i]},e.prototype.basicLSTMCell=function(e,t,n,r,a,o){var i=this,s=this.scope((function(){var s=i.concat2D(r,o,1),u=i.matMul(s,t),l=i.add(u,n),c=l.shape[0],p=l.shape[1]/4,f=[c,p],d=i.slice2D(l,[0,0],f),h=i.slice2D(l,[0,p],f),v=i.slice2D(l,[0,2*p],f),m=i.slice2D(l,[0,3*p],f),y=i.addStrict(i.multiplyStrict(a,i.sigmoid(i.scalarPlusArray(e,v))),i.multiplyStrict(i.sigmoid(d),i.tanh(h)));return[y,i.multiplyStrict(i.tanh(y),i.sigmoid(m))]}));return[s[0],s[1]]},e.prototype.multinomial=function(e,t,n){var r=this,a=e.size;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(e.rank>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+e.rank);n=n||Math.random();var o=e.rank;return 1===e.rank&&(e=e.as2D(1,-1)),this.executeOp("multinomial",(function(){var a=r.backendEngine.executeKernel("Multinomial",{inputs:{probs:e},args:{numSamples:t,seed:n}});return 1===o?a.as1D():a}))},e.prototype.oneHot=function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);return this.backendEngine.executeKernel("OneHot",{inputs:{indices:e},args:{depth:t,onValue:n,offValue:r}})},e.prototype.moments=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=!1);var a=o.parseAxisParam(t,e.shape);return this.scope((function(){var t=r.mean(e,a,n),i=t.shape;n||(i=o.expandShapeToKeepDim(t.shape,a));var s=r.square(r.subtract(e,t.reshape(i)));return{mean:t,variance:r.mean(s,a,n)}}))},e.prototype.norm=function(e,t,n,r){var a=this;return void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1),this.scope((function(){var i=a.normInternal(e,t,n),s=i.shape;if(r){var u=o.parseAxisParam(n,e.shape);s=o.expandShapeToKeepDim(i.shape,u)}return i.reshape(s)}))},e.prototype.normInternal=function(e,t,n){if(void 0===n&&(n=null),0===e.rank)return this.abs(e);if(1!==e.rank&&null===n)return this.normInternal(e.reshape([-1]),t,n);if(1===e.rank||"number"===typeof n||n instanceof Array&&1===n.length){if(1===t)return this.sum(this.abs(e),n);if(t===1/0)return this.max(this.abs(e),n);if(t===-1/0)return this.min(this.abs(e),n);if("euclidean"===t||2===t)return this.sqrt(this.sum(this.pow(this.abs(e),p.Scalar.new(2,"int32")),n));throw new Error("Error in norm: invalid ord value: "+t)}if(n instanceof Array&&2===n.length){if(1===t)return this.max(this.sum(this.abs(e),n[0]),n[1]-1);if(t===1/0)return this.max(this.sum(this.abs(e),n[1]),n[0]);if(t===-1/0)return this.min(this.sum(this.abs(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return this.sqrt(this.sum(this.pow(e,p.Scalar.new(2,"int32")),n));throw new Error("Error in norm: invalid ord value: "+t)}throw new Error("Error in norm: invalid axis: "+n)},e.prototype.gradients=function(e,t){var n=t instanceof p.NDArray?null:Object.keys(t),r=a.flattenNameArrayMap(t,n),o=this.backendEngine.gradients(e,r,!1);return t instanceof p.NDArray?o[0]:a.unflattenToNameArrayMap(n,o)},e.prototype.valueAndGradients=function(e,t){var n,r=t instanceof p.NDArray?null:Object.keys(t),o=a.flattenNameArrayMap(t,r),i=this.backendEngine.gradients(e,o,!0);return n=t instanceof p.NDArray?i.gradients[0]:a.unflattenToNameArrayMap(r,i.gradients),{value:i.value,gradients:n}},e.prototype.disposeData=function(e){this.registeredArrays.has(e)&&(this.registeredArrays.delete(e),this.backend.disposeData(e))},e}();t.NDArrayMath=d},6190:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4873),s=n(6008),u=n(8499);!function(e){e.float32="float32",e.int32="int32",e.bool="bool"}(t.DType||(t.DType={}));var l=function(){function e(t,n,r,a,o){this.isDisposed=!1,this.math=o||i.ENV.math,this.size=s.sizeFromShape(t),null!=r&&s.assert(this.size===r.length,"Constructing ndarray of shape ("+this.size+") should match the length of values ("+r.length+")"),this.shape=t,this.dtype=n||"float32";var u=this.shape.length;if(u<2)this.strides=[];else{this.strides=new Array(u-1),this.strides[u-2]=this.shape[u-1];for(var l=u-3;l>=0;--l)this.strides[l]=this.strides[l+1]*this.shape[l+1]}this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher",null==this.id&&(this.id=e.nextId++,this.math.register(this)),null!=r&&this.math.write(this.id,r,this.dtype,this.shape)}return e.ones=function(t,n){var r=function(e,t){for(var n=g(e,t),r=0;r<n.length;r++)n[r]=1;return n}(s.sizeFromShape(t),n);return e.make(t,{values:r},n)},e.zeros=function(t,n){var r=g(s.sizeFromShape(t),n);return e.make(t,{values:r},n)},e.onesLike=function(t){return e.ones(t.shape,t.dtype)},e.zerosLike=function(t){return e.zeros(t.shape,t.dtype)},e.like=function(t){var n=v(t.getValues(),t.dtype);return e.make(t.shape,{values:n},t.dtype,t.math)},e.make=function(t,n,r,a){switch(t.length){case 0:return new c(t,r,n.values,n.id,a);case 1:return new p(t,r,n.values,n.id,a);case 2:return new f(t,r,n.values,n.id,a);case 3:return new d(t,r,n.values,n.id,a);case 4:return new h(t,r,n.values,n.id,a);default:return new e(t,r,n.values,n.id,a)}},e.fromPixels=function(t,n,r){if(void 0===n&&(n=3),n>4)throw new Error("Cannot construct NDArray with more than 4 channels from pixels.");var a=[t.height,t.width,n];r=r||i.ENV.math;var o=e.make(a,{},"int32",r);return r.writePixels(o.id,t,n),o},e.prototype.reshape=function(t){if(this.throwIfDisposed(),t=s.inferFromImplicitShape(t,this.size),s.arraysEqual(this.shape,t))return this;var n={id:this.id};return s.assert(this.size===s.sizeFromShape(t),"new shape and old shape must have the same number of elements."),e.make(t,n,this.dtype,this.math)},e.prototype.flatten=function(){return this.throwIfDisposed(),this instanceof p?this:this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),s.assert(1===this.size,"The array must have only 1 element."),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.asType=function(t){if(this.throwIfDisposed(),this.dtype===t)return this;var n=y(this.dataSync(),t);return e.make(this.shape,{values:n},t,this.math)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[e.length-1],r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.dataSync()[n]},e.prototype.add=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.set.apply(this,[this.get.apply(this,t)+e].concat(t))},e.prototype.set=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.throwIfDisposed(),s.assert(t.length===this.rank,"The number of provided coordinates ("+t.length+") must match the rank ("+this.rank+")");for(var r=t.length>0?t[t.length-1]:0,a=0;a<t.length-1;++a)r+=this.strides[a]*t[a];var o=this.dataSync();o[r]=e,this.math.write(this.id,o,this.dtype,this.shape)},e.prototype.val=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,this.data()];case 1:return t.sent(),[2,this.get.apply(this,e)]}}))}))},e.prototype.locToIndex=function(e){this.throwIfDisposed();for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){this.throwIfDisposed();for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},e.prototype.fill=function(e){this.throwIfDisposed();var t=this.dataSync();t.fill(e),this.math.write(this.id,t,this.dtype,this.shape)},e.prototype.getValues=function(){return this.dataSync()},e.prototype.getValuesAsync=function(){return this.data()},e.prototype.data=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){return this.throwIfDisposed(),[2,this.math.read(this.id)]}))}))},e.prototype.dataSync=function(){return this.throwIfDisposed(),this.math.readSync(this.id)},e.prototype.dispose=function(){this.isDisposed=!0,this.math.disposeData(this.id)},e.prototype.equals=function(e){return this.throwIfDisposed(),this.dtype===e.dtype&&s.arraysEqual(this.shape,e.shape)&&s.arraysEqual(this.dataSync(),e.dataSync())},e.rand=function(t,n,r){var a=s.sizeFromShape(t),o=null;if(null==r||"float32"===r)o=new Float32Array(a);else if("int32"===r)o=new Int32Array(a);else{if("bool"!==r)throw new Error("Unknown data type "+r);o=new Uint8Array(a)}for(var i=0;i<a;i++)o[i]=n();return e.make(t,{values:o},r)},e.randNormal=function(t,n,r,a,o){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=a&&"bool"===a)throw new Error("Unsupported data type "+a);var i=new u.MPRandGauss(n,r,a,!1,o);return e.rand(t,(function(){return i.nextValue()}),a)},e.randTruncatedNormal=function(t,n,r,a,o){if(void 0===n&&(n=0),void 0===r&&(r=1),null!=a&&"bool"===a)throw new Error("Unsupported data type "+a);var i=new u.MPRandGauss(n,r,a,!0,o);return e.rand(t,(function(){return i.nextValue()}),a)},e.randUniform=function(t,n,r,a){return e.rand(t,(function(){return s.randUniform(n,r)}),a)},e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("NDArray is disposed.")},e.nextId=0,e}();t.NDArray=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.new=function(e,n){return new t([],n,y([e],n))},t.prototype.get=function(){return this.dataSync()[0]},t.prototype.val=function(){return a(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.data()];case 1:return e.sent(),[2,this.get()]}}))}))},t.prototype.add=function(e){this.dataSync()[0]+=e},t.prototype.asType=function(t){return e.prototype.asType.call(this,t)},t.prototype.locToIndex=function(e){return 0},t.prototype.indexToLoc=function(e){return[]},t}(l);t.Scalar=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.new=function(e,n){if(!m(e)){var r=s.inferShape(e);s.assert(1===r.length,"Error constructing Array1D. Shape of values "+r+" is not 1 dimensional.")}return new t([e.length],n,y(e,n))},t.prototype.get=function(e){return this.dataSync()[e]},t.prototype.val=function(e){return a(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return t.sent(),[2,this.get(e)]}}))}))},t.prototype.add=function(e,t){this.dataSync()[t]+=e},t.prototype.locToIndex=function(e){return e[0]},t.prototype.indexToLoc=function(e){return[e]},t.prototype.asType=function(t){return e.prototype.asType.call(this,t)},t.ones=function(e,t){return l.ones(e,t)},t.zeros=function(e,t){return l.zeros(e,t)},t.randNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!1,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randTruncatedNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!0,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randUniform=function(e,t,n,r){return l.rand(e,(function(){return s.randUniform(t,n)}),r)},t}(l);t.Array1D=p;var f=function(e){function t(t,n,r,a,o){var i=this;return s.assert(2===t.length,"Shape should be of length 2"),(i=e.call(this,t,n,r,a,o)||this).stride0=i.strides[0],i}return r(t,e),t.new=function(e,n,r){if(!m(n)){var a=s.inferShape(n);a.length>1&&s.assertShapesMatch(e,a,"Error when constructing Array2D. Shape of values "+a+" does not match the provided shape "+e+". ")}return new t(e,r,y(n,r))},t.prototype.get=function(e,t){return this.dataSync()[this.stride0*e+t]},t.prototype.add=function(e,t,n){this.dataSync()[this.stride0*t+n]+=e},t.prototype.val=function(e,t){return a(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.data()];case 1:return n.sent(),[2,this.get(e,t)]}}))}))},t.prototype.locToIndex=function(e){return this.stride0*e[0]+e[1]},t.prototype.indexToLoc=function(e){return[Math.floor(e/this.stride0),e%this.stride0]},t.prototype.asType=function(t){return e.prototype.asType.call(this,t)},t.ones=function(e,t){return l.ones(e,t)},t.zeros=function(e,t){return l.zeros(e,t)},t.randNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!1,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randTruncatedNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!0,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randUniform=function(e,t,n,r){return l.rand(e,(function(){return s.randUniform(t,n)}),r)},t}(l);t.Array2D=f;var d=function(e){function t(t,n,r,a,o){var i=this;return s.assert(3===t.length,"Shape should be of length 3"),(i=e.call(this,t,n,r,a,o)||this).stride0=i.strides[0],i.stride1=i.strides[1],i}return r(t,e),t.new=function(e,n,r){if(!m(n)){var a=s.inferShape(n);a.length>1&&s.assertShapesMatch(e,a,"Error when constructing Array3D. Shape of values "+a+" does not match the provided shape "+e+". ")}return new t(e,r,y(n,r))},t.prototype.get=function(e,t,n){return this.dataSync()[this.stride0*e+this.stride1*t+n]},t.prototype.val=function(e,t,n){return a(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,this.data()];case 1:return r.sent(),[2,this.get(e,t,n)]}}))}))},t.prototype.add=function(e,t,n,r){this.dataSync()[this.stride0*t+this.stride1*n+r]+=e},t.prototype.locToIndex=function(e){return this.stride0*e[0]+this.stride1*e[1]+e[2]},t.prototype.indexToLoc=function(e){var t=Math.floor(e/this.stride0);return e-=t*this.stride0,[t,Math.floor(e/this.stride1),e%this.stride1]},t.ones=function(e,t){return l.ones(e,t)},t.prototype.asType=function(t){return e.prototype.asType.call(this,t)},t.zeros=function(e,t){return l.zeros(e,t)},t.randNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!1,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randTruncatedNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!0,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randUniform=function(e,t,n,r){return l.rand(e,(function(){return s.randUniform(t,n)}),r)},t}(l);t.Array3D=d;var h=function(e){function t(t,n,r,a,o){var i=this;return s.assert(4===t.length,"Shape should be of length 4"),(i=e.call(this,t,n,r,a,o)||this).stride0=i.strides[0],i.stride1=i.strides[1],i.stride2=i.strides[2],i}return r(t,e),t.new=function(e,n,r){if(!m(n)){var a=s.inferShape(n);a.length>1&&s.assertShapesMatch(e,a,"Error when constructing Array4D. Shape of values "+a+" does not match the provided shape "+e+". ")}return new t(e,r,y(n,r))},t.prototype.get=function(e,t,n,r){return this.dataSync()[this.stride0*e+this.stride1*t+this.stride2*n+r]},t.prototype.val=function(e,t,n,r){return a(this,void 0,void 0,(function(){return o(this,(function(a){switch(a.label){case 0:return[4,this.data()];case 1:return a.sent(),[2,this.get(e,t,n,r)]}}))}))},t.prototype.add=function(e,t,n,r,a){this.dataSync()[this.stride0*t+this.stride1*n+this.stride2*r+a]+=e},t.prototype.locToIndex=function(e){return this.stride0*e[0]+this.stride1*e[1]+this.stride2*e[2]+e[3]},t.prototype.indexToLoc=function(e){var t=Math.floor(e/this.stride0);e-=t*this.stride0;var n=Math.floor(e/this.stride1);return e-=n*this.stride1,[t,n,Math.floor(e/this.stride2),e%this.stride2]},t.prototype.asType=function(t){return e.prototype.asType.call(this,t)},t.ones=function(e,t){return l.ones(e,t)},t.zeros=function(e,t){return l.zeros(e,t)},t.randNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!1,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randTruncatedNormal=function(e,t,n,r,a){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);var o=new u.MPRandGauss(t,n,r,!0,a);return l.rand(e,(function(){return o.nextValue()}),r)},t.randUniform=function(e,t,n,r){return l.rand(e,(function(){return s.randUniform(t,n)}),r)},t}(l);function v(e,t){if(null==t||"float32"===t)return new Float32Array(e);if("int32"===t){for(var n=new Int32Array(e.length),r=0;r<n.length;++r){var a=e[r];s.isValNaN(a,"int32")?n[r]=s.getNaN("int32"):n[r]=a}return n}if("bool"===t){var o=new Uint8Array(e.length);for(r=0;r<o.length;++r){a=e[r];s.isValNaN(a,"bool")?o[r]=s.getNaN("bool"):0!==Math.round(a)&&(o[r]=1)}return o}throw new Error("Unknown data type "+t)}function m(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function y(e,t){return function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t)?e:(Array.isArray(e)&&(e=s.flatten(e)),v(e,t))}function g(e,t){if(null==t||"float32"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}t.Array4D=h},8499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6699),a=function(){function e(e,t,n,a,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=r.alea(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}();t.MPRandGauss=a},8234:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PARALLELIZE_THRESHOLD=30,t.computeOptimalWindowSize=function(e){return e<=t.PARALLELIZE_THRESHOLD?e:function(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}(e,Math.floor(Math.sqrt(e)))}},728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6008);t.assertParamsValid=function(e,t,n){r.assert(e.rank===t.length,"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."),r.assert(e.rank===n.length,"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+").");for(var a=0;a<e.rank;++a)r.assert(t[a]+n[a]<=e.shape[a],"Error in slice"+e.rank+"D: begin["+a+"] + size["+a+"] ("+(t[a]+n[a])+") would overflow input.shape["+a+"] ("+e.shape[a]+")")}},4013:function(e,t){"use strict";var n,r,a;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.float32="float32",e.int32="int32",e.bool="int32"}(t.SumTypesMap||(t.SumTypesMap={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32"}(n=t.UpcastInt32AndMap||(t.UpcastInt32AndMap={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool"}(r=t.UpcastBoolAndMap||(t.UpcastBoolAndMap={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32"}(a=t.UpcastFloat32AndMap||(t.UpcastFloat32AndMap={}));var o={float32:a,int32:n,bool:r};t.upcastType=function(e,t){return o[e][t]}},7716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4873),a=n(5726),o=n(1989),i=n(9104),s=n(6190),u=n(6008);function l(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t/e.length}function c(e,t){for(var n=0,r=0;r<e.length;r++){var a=e[r]-t;n+=a*a}return Math.sqrt(n/e.length)}function p(e){for(var t=l(e),n=e.length,r=0,a=0,o=0;o<n;o++){var i=e[o]-t;r+=Math.pow(i,2),a+=Math.pow(i,4)}return 1/n*a/Math.pow(1/n*r,2)}function f(e){for(var t=l(e),n=e.length,r=0,a=0,o=0;o<n;o++){var i=e[o]-t;r+=Math.pow(i,2),a+=Math.pow(i,3)}return 1/n*a/Math.pow(1/(n-1)*r,1.5)}function d(e,n,r){if(void 0===r&&(r=t.TEST_EPSILON),e instanceof s.NDArray||n instanceof s.NDArray){if(e instanceof s.NDArray&&n instanceof s.NDArray){if(e.dtype!==n.dtype)throw new Error("Arrays are of different type actual: "+e.dtype+" vs expected: "+n.dtype+".");if(!u.arraysEqual(e.shape,n.shape))throw new Error("Arrays are of different shape actual: "+e.shape+" vs expected: "+n.shape+".")}}else{var a=e.constructor.name,o=n.constructor.name;if(a!==o)throw new Error("Arrays are of different type actual: "+a+" vs expected: "+o)}var i,l;if(i=e instanceof s.NDArray?e.dataSync():e,l=n instanceof s.NDArray?n.dataSync():n,i.length!==l.length)throw new Error("Arrays have different lengths actual: "+i.length+" vs expected: "+l.length+".");for(var c=0;c<l.length;++c){var p=i[c],f=l[c];if(!v(p,Number(f),r))throw new Error("Arrays differ: "+("actual["+c+"] === "+p)+", "+("expected["+c+"] === "+f))}}function h(e,n,r){if(void 0===r&&(r=t.TEST_EPSILON),!v(e,n,r))throw new Error("Numbers differ: actual === "+e+", expected === "+n)}function v(e,t,n){return!(!isNaN(e)||!isNaN(t))||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function m(e,t,n,r){null!=r?r.forEach((function(r){var a=e+" "+JSON.stringify(r);n(a,t,r)})):n(e,t)}t.TEST_EPSILON=.01,t.mean=l,t.standardDeviation=c,t.kurtosis=p,t.skewness=f,t.jarqueBeraNormalityTest=function(e){var t,n=(t=e instanceof s.NDArray?e.dataSync():e).length,r=f(t),a=p(t),o=n/6*(Math.pow(r,2)+.25*Math.pow(a-3,2));if(o>5.991)throw new Error("Invalid p-value for JB: "+o)},t.expectArrayInMeanStdRange=function(e,n,r,a){var o;void 0===a&&(a=t.TEST_EPSILON);var i=l(o=e instanceof s.NDArray?e.dataSync():e);h(i,n,a),h(c(o,i),r,a)},t.expectArraysClose=d,t.expectArraysEqual=function(e,t){return d(e,t,0)},t.expectNumbersClose=h,t.expectValuesInRange=function(e,t,n){var r;r=e instanceof s.NDArray?e.dataSync():e;for(var a=0;a<r.length;a++)if(r[a]<t||r[a]>n)throw new Error("Value out of range:"+r[a]+" low: "+t+", high: "+n)},t.randomArrayInRange=function(e,t,n){for(var r=new Float32Array(e),a=n-t,o=0;o<e;++o)r[o]=Math.random()*a+t;return r},t.makeIdentity=function(e){for(var t=new Float32Array(e*e),n=0;n<e;++n)t[n*e+n]=1;return t},t.cpuMultiplyMatrix=function(e,t,n,r,a,o){for(var i=new Float32Array(t*o),s=0;s<t;++s)for(var u=s*n,l=s*o,c=0;c<o;++c){for(var p=0,f=0;f<n;++f)p+=e[u+f]*r[f*o+c];i[l+c]=p}return i},t.cpuDotProduct=function(e,t){if(e.length!==t.length)throw new Error("cpuDotProduct: incompatible vectors.");for(var n=0,r=0;r<e.length;++r)n+=e[r]*t[r];return n},t.describeMathCPU=function(e,t,n){m("CPU: math."+e,t,(function(e,t,n){return g(e,t,(function(){return new i.NDArrayMath(new a.MathBackendCPU,!0)}),n)}),n)},t.describeMathGPU=function(e,t,n){m("WebGL: math."+e,t,(function(e,t,n){return g(e,t,(function(){return new i.NDArrayMath(new o.MathBackendWebGL,!0)}),n)}),n)},t.describeCustom=function(e,t,n,r,a){m(e,[t],(function(e,t,n){return b(e,t,n,r,a)}),n)};var y=function(e,t){it(e,(function(e){var n=t();n instanceof Promise?n.then(e,(function(t){fail(t),e()})):e()}))};function g(e,t,n,a){var o;b(e,t,a,(function(){o=n(),r.ENV.setMath(o),o.startScope()}),(function(){o.endScope(null),o.dispose()}),(function(e,t){y(e,(function(){return t(o)}))}))}function b(e,t,n,i,s,u){void 0===u&&(u=y),describe(e,(function(){beforeEach((function(){null!=n&&(r.ENV.setFeatures(n),r.ENV.registerBackend("webgl",(function(){return new o.MathBackendWebGL})),r.ENV.registerBackend("cpu",(function(){return new a.MathBackendCPU}))),null!=i&&i()})),afterEach((function(){null!=s&&s(),null!=n&&r.ENV.reset()})),t.forEach((function(e){return e(u)}))}))}t.executeMathTests=g,t.executeTests=b,t.assertIsNan=function(e,t){if(!u.isValNaN(e,t))throw new Error("Value "+e+" does not represent NaN for dtype "+t)}},6008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6190);function a(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function o(e,t){if(!e)throw new Error(t)}function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function s(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function u(e,n){if(isNaN(e))return!0;if("float32"===n)return!1;if("int32"===n)return e===t.NAN_INT32;if("bool"===n)return e===t.NAN_BOOL;throw new Error("Unknown dtype "+n)}t.shuffle=a,t.clamp=function(e,t,n){return Math.max(e,Math.min(t,n))},t.randUniform=function(e,t){return Math.random()*(t-e)+e},t.distSquared=function(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n},t.assert=o,t.assertShapesMatch=function(e,t,n){void 0===n&&(n=""),o(i(e,t),n+"Shapes "+e+" and "+t+" must match")},t.assertTypesMatch=function(e,t){o(e.dtype===t.dtype,"The dtypes of the first ("+e.dtype+") and second ("+t.dtype+") input must match")},t.flatten=function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;++r)e(t[r],n);else n.push(t);return n},t.inferShape=function(e){for(var t=[];e instanceof Array;)t.push(e.length),e=e[0];return t},t.sizeFromShape=function(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t},t.isScalarShape=function(e){return 0===e.length},t.arraysEqual=i,t.isInt=function(e){return e%1===0},t.tanh=function(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)},t.sizeToSquarishShape=function(e){for(var t=Math.floor(Math.sqrt(e));t>1;--t)if(e%t===0)return[t,e/t];return[1,e]},t.createShuffledIndices=function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return a(t),t},t.rightPad=function(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)},t.repeatedTry=function(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,a){var o=0;setTimeout((function i(){if(e())r();else{o++;var s=t(o);null!=n&&o>=n?a():setTimeout(i,s)}}),0)}))},t.getQueryParams=function(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return s(t,n[0],n[1]),n.join("=")})),t},t.inferFromImplicitShape=function(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+a);r=a}else if(e[a]<=0)throw Error("Shapes can not be <= 0. Found "+e[a]+" at dim "+a);if(-1===r){if(t>0&&t!==n)throw Error("Size ("+t+") must match the product of shape "+e);return e}if(t%n!==0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var o=e.slice();return o[r]=t/n,o},t.NAN_INT32=1<<31,t.NAN_BOOL=255,t.NAN_FLOAT32=NaN,t.getNaN=function(e){if("float32"===e)return t.NAN_FLOAT32;if("int32"===e)return t.NAN_INT32;if("bool"===e)return t.NAN_BOOL;throw new Error("Unknown dtype "+e)},t.isValNaN=u,t.squeezeShape=function(e){for(var t=[],n=[],r=0;r<e.length;++r)e[r]>1&&(t.push(e[r]),n.push(r));return{newShape:t,keptDims:n}},t.getTypedArrayFromDType=function(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n},t.isNDArrayInList=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1},t.checkForNaN=function(e,t,n){for(var r=0;r<e.length;r++)if(u(e[r],t))throw Error("The result of the last math."+n+" has NaNs.")},t.flattenNameArrayMap=function(e,t){var n=[];if(e instanceof r.NDArray)n.push(e);else for(var a=e,o=0;o<t.length;o++)n.push(a[t[o]]);return n},t.unflattenToNameArrayMap=function(e,t){if(e.length!==t.length)throw new Error("Cannot unflatten NDArray[], keys and arrays are not of same length.");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}},3850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.version="0.3.17"},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},9066:function(e,t,n){var r=n(7197),a=n(1587),o=n(3581),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},821:function(e,t,n){var r=n(6050),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1587:function(e,t,n){var r=n(7197),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,n){var r=n(1032),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),a=n(72),o=n(2582),i=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,p,f,d,h=0,v=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=u,r=l;return u=l=void 0,h=t,p=e.apply(r,n)}function b(e){return h=e,f=setTimeout(w,t),v?g(e):p}function x(e){var n=e-d;return void 0===d||n>=t||n<0||m&&e-h>=c}function w(){var e=a();if(x(e))return E(e);f=setTimeout(w,function(e){var n=t-(e-d);return m?s(n,c-(e-h)):n}(e))}function E(e){return f=void 0,y&&u?g(e):(u=l=void 0,p)}function k(){var e=a(),n=x(e);if(u=arguments,l=this,d=e,n){if(void 0===f)return b(d);if(m)return clearTimeout(f),f=setTimeout(w,t),g(d)}return void 0===f&&(f=setTimeout(w,t)),p}return t=o(t)||0,r(n)&&(v=!!n.leading,c=(m="maxWait"in n)?i(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=d=l=f=void 0},k.flush=function(){return void 0===f?p:E(a())},k}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),a=n(3141);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},2582:function(e,t,n){var r=n(821),a=n(8092),o=n(152),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,o){for(var i,s,u=a(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(u[c]=i[c]);if(t){s=t(i);for(var p=0;p<s.length;p++)r.call(i,s[p])&&(u[s[p]]=i[s[p]])}}return u}},4463:function(e,t,n){"use strict";var r=n(2791),a=n(1725),o=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var p=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,h={},v={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(v,e)||!d.call(h,e)&&(f.test(e)?v[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,S=60107,C=60108,T=60114,A=60109,N=60110,_=60112,O=60113,P=60120,M=60115,D=60116,R=60121,I=60128,L=60129,F=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),S=U("react.fragment"),C=U("react.strict_mode"),T=U("react.profiler"),A=U("react.provider"),N=U("react.context"),_=U("react.forward_ref"),O=U("react.suspense"),P=U("react.suspense_list"),M=U("react.memo"),D=U("react.lazy"),R=U("react.block"),U("react.scope"),I=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),z=U("react.legacy_hidden")}var B,j="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function G(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function q(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function H(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return X(e.type);case R:return X(e._render);case D:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var pe="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ne=null,_e=null;function Oe(e){if(e=ra(e)){if("function"!==typeof Ae)throw Error(i(280));var t=e.stateNode;t&&(t=oa(t),Ae(e.stateNode,e.type,t))}}function Pe(e){Ne?_e?_e.push(e):_e=[e]:Ne=e}function Me(){if(Ne){var e=Ne,t=_e;if(_e=Ne=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function De(e,t){return e(t)}function Re(e,t,n,r,a){return e(t,n,r,a)}function Ie(){}var Le=De,Fe=!1,ze=!1;function Ue(){null===Ne&&null===_e||(Ie(),Me())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=oa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(p)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(me){je=!1}function Ge(e,t,n,r,a,o,i,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var We=!1,qe=null,He=!1,Xe=null,Ke={onError:function(e){We=!0,qe=e}};function $e(e,t,n,r,a,o,i,s,u){We=!1,qe=null,Ge.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(i(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Je(a),e;if(o===r)return Je(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,at,ot=!1,it=[],st=null,ut=null,lt=null,ct=new Map,pt=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function mt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,a,o),null!==t&&(null!==(t=ra(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function yt(e){var t=na(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ra(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function xt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ra(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(bt),pt.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function Et(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),pt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Ct={},Tt={};function At(e){if(Ct[e])return Ct[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Ct[e]=n[t];return e}p&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Nt=At("animationend"),_t=At("animationiteration"),Ot=At("animationstart"),Pt=At("transitionend"),Mt=new Map,Dt=new Map,Rt=["abort","abort",Nt,"animationEnd",_t,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Dt.set(r,t),Mt.set(r,a),l(a,[r])}}(0,o.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,a=Lt=15;else if(0!==(o=134217727&n)){var u=o&~i;0!==u?(r=Ft(u),a=Lt):0!==(s&=o)&&(r=Ft(s),a=Lt)}else 0!==(o=n&~i)?(r=Ft(o),a=Lt):0!==s&&(r=Ft(s),a=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&i)){if(Ft(t),a<=Lt)return t;Lt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-Wt(t)),r|=e[n],t&=~a;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Bt(10,t):e;case 10:return 0===(e=jt(192&~t))?Bt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function jt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Ht|0)|0},qt=Math.log,Ht=Math.LN2;var Xt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Ie();var a=Jt,o=Fe;Fe=!0;try{Re(a,e,t,n,r)}finally{(Fe=o)||Ue()}}function Qt(e,t,n,r){Kt(Xt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var a;if($t)if((a=0===(4&t))&&0<it.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),it.push(e);else{var o=Zt(e,t,n,r);if(null===o)a&&vt(e,r);else{if(a){if(-1<dt.indexOf(e))return e=ht(o,e,t,n,r),void it.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return st=mt(st,e,t,n,r,a),!0;case"dragenter":return ut=mt(ut,e,t,n,r,a),!0;case"mouseover":return lt=mt(lt,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,pt.set(o,mt(pt.get(o)||null,e,t,n,r,a)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Ir(e,t,r,null,n)}}}function Zt(e,t,n,r){var a=Te(r);if(null!==(a=na(a))){var o=Ye(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=Qe(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Ir(e,t,r,a,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,a="value"in en?en.value:en.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return nn=a.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?on:sn,this.isPropagationStopped=sn,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,pn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),hn=a({},fn,{view:0,detail:0}),vn=un(hn),mn=a({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&"mousemove"===e.type?(ln=e.screenX-pn.screenX,cn=e.screenY-pn.screenY):cn=ln=0,pn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=un(mn),gn=un(a({},mn,{dataTransfer:0})),bn=un(a({},hn,{relatedTarget:0})),xn=un(a({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=a({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),kn=un(a({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Nn(){return An}var _n=a({},hn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=un(_n),Pn=un(a({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=un(a({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Dn=un(a({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=a({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=un(Rn),Ln=[9,13,27,32],Fn=p&&"CompositionEvent"in window,zn=null;p&&"documentMode"in document&&(zn=document.documentMode);var Un=p&&"TextEvent"in window&&!zn,Bn=p&&(!Fn||zn&&8<zn&&11>=zn),jn=String.fromCharCode(32),Vn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Qn(e){_r(e,0)}function Jn(e){if(Q(aa(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(p){var tr;if(p){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ar(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Kn(t,Yn,e,Te(e)),e=Qn,Fe)e(t);else{Fe=!0;try{De(e,t)}finally{Fe=!1,Ue()}}}}function ir(e,t,n){"focusin"===e?(ar(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ar()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},pr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!pr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=p&&"documentMode"in document&&11>=document.documentMode,br=null,xr=null,wr=null,Er=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Fr(xr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Rt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Sr.length;Cr++)Dt.set(Sr[Cr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,u,l){if($e.apply(this,arguments),We){if(!We)throw Error(i(198));var c=qe;We=!1,qe=null,He||(He=!0,Xe=c)}}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&a.isPropagationStopped())break e;Nr(a,s,l),o=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,l=s.currentTarget,s=s.listener,u!==o&&a.isPropagationStopped())break e;Nr(a,s,l),o=u}}}if(He)throw e=Xe,He=!1,Xe=null,e}function Or(e,t){var n=ia(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Ar.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;a|=2,o=r}var i=ia(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(a|=4),Rr(o,e,a,t),i.add(s))}function Rr(e,t,n,r){var a=Dt.get(t);switch(void 0===a?2:a){case 0:a=Yt;break;case 1:a=Qt;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ir(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=na(s)))return;if(5===(u=i.tag)||6===u){r=o=i;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{Le(e,t,n)}finally{ze=!1,Ue()}}((function(){var r=o,a=Te(n),i=[];e:{var s=Mt.get(e);if(void 0!==s){var u=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":l="focus",u=bn;break;case"focusout":l="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Nt:case _t:case Ot:u=xn;break;case Pt:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var c=0!==(4&t),p=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,h=r;null!==h;){var v=(d=h).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Be(h,f))&&c.push(Lr(h,v,d)))),p)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,a),i.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!na(l)&&!l[ea])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?na(l):null)&&(l!==(p=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=yn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,v="onPointerLeave",f="onPointerEnter",h="pointer"),p=null==u?s:aa(u),d=null==l?s:aa(l),(s=new c(v,h+"leave",u,n,a)).target=p,s.relatedTarget=d,v=null,na(a)===r&&((c=new c(f,h+"enter",l,n,a)).target=d,c.relatedTarget=p,v=c),p=v,u&&l)e:{for(f=l,h=0,d=c=u;d;d=zr(d))h++;for(d=0,v=f;v;v=zr(v))d++;for(;0<h-d;)c=zr(c),h--;for(;0<d-h;)f=zr(f),d--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=zr(c),f=zr(f)}c=null}else c=null;null!==u&&Ur(i,s,u,c,!1),null!==l&&null!==p&&Ur(i,p,l,c,!0)}if("select"===(u=(s=r?aa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Xn(s))if(er)m=lr;else{m=sr;var y=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Kn(i,m,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ae(s,"number",s.value)),y=r?aa(r):window,e){case"focusin":(Xn(y)||"true"===y.contentEditable)&&(br=y,xr=r,wr=null);break;case"focusout":wr=xr=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,kr(i,n,a);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":kr(i,n,a)}var g;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Gn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=rn()):(tn="value"in(en=a)?en.value:en.textContent,qn=!0)),0<(y=Fr(r,b)).length&&(b=new kn(b,e,null,n,a),i.push({event:b,listeners:y}),g?b.data=g:null!==(g=Wn(n))&&(b.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Fn&&Gn(e,t)?(e=rn(),nn=tn=en=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(a=new kn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=g))}_r(i,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Be(e,n))&&r.unshift(Lr(e,o,a)),null!=(o=Be(e,t))&&r.push(Lr(e,o,a))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,a?null!=(u=Be(n,o))&&i.unshift(Lr(n,u,s)):a||null!=(u=Be(n,o))&&i.push(Lr(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Br(){}var jr=null,Vr=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Qr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Qr,Zr="__reactProps$"+Qr,ea="__reactContainer$"+Qr,ta="__reactEvents$"+Qr;function na(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ea]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ra(e){return!(e=e[Jr]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function oa(e){return e[Zr]||null}function ia(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var sa=[],ua=-1;function la(e){return{current:e}}function ca(e){0>ua||(e.current=sa[ua],sa[ua]=null,ua--)}function pa(e,t){ua++,sa[ua]=e.current,e.current=t}var fa={},da=la(fa),ha=la(!1),va=fa;function ma(e,t){var n=e.type.contextTypes;if(!n)return fa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ya(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ga(){ca(ha),ca(da)}function ba(e,t,n){if(da.current!==fa)throw Error(i(168));pa(da,t),pa(ha,n)}function xa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(i(108,X(t)||"Unknown",o));return a({},n,r)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,va=da.current,pa(da,e),pa(ha,ha.current),!0}function Ea(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=xa(e,t,va),r.__reactInternalMemoizedMergedChildContext=e,ca(ha),ca(da),pa(da,e)):ca(ha),pa(ha,n)}var ka=null,Sa=null,Ca=o.unstable_runWithPriority,Ta=o.unstable_scheduleCallback,Aa=o.unstable_cancelCallback,Na=o.unstable_shouldYield,_a=o.unstable_requestPaint,Oa=o.unstable_now,Pa=o.unstable_getCurrentPriorityLevel,Ma=o.unstable_ImmediatePriority,Da=o.unstable_UserBlockingPriority,Ra=o.unstable_NormalPriority,Ia=o.unstable_LowPriority,La=o.unstable_IdlePriority,Fa={},za=void 0!==_a?_a:function(){},Ua=null,Ba=null,ja=!1,Va=Oa(),Ga=1e4>Va?Oa:function(){return Oa()-Va};function Wa(){switch(Pa()){case Ma:return 99;case Da:return 98;case Ra:return 97;case Ia:return 96;case La:return 95;default:throw Error(i(332))}}function qa(e){switch(e){case 99:return Ma;case 98:return Da;case 97:return Ra;case 96:return Ia;case 95:return La;default:throw Error(i(332))}}function Ha(e,t){return e=qa(e),Ca(e,t)}function Xa(e,t,n){return e=qa(e),Ta(e,t,n)}function Ka(){if(null!==Ba){var e=Ba;Ba=null,Aa(e)}$a()}function $a(){if(!ja&&null!==Ua){ja=!0;var e=0;try{var t=Ua;Ha(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ua=null}catch(n){throw null!==Ua&&(Ua=Ua.slice(e+1)),Ta(Ma,Ka),n}finally{ja=!1}}}var Ya=w.ReactCurrentBatchConfig;function Qa(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ja=la(null),Za=null,eo=null,to=null;function no(){to=eo=Za=null}function ro(e){var t=Ja.current;ca(Ja),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Za=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fi=!0),e.firstContext=null)}function io(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Za)throw Error(i(308));eo=t,Za.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var p=e.alternate;if(null!==p){var f=(p=p.updateQueue).lastBaseUpdate;f!==s&&(null===f?p.firstBaseUpdate=c:f.next=c,p.lastBaseUpdate=l)}}if(null!==i){for(f=o.baseState,s=0,p=c=l=null;;){u=i.lane;var d=i.eventTime;if((r&u)===u){null!==p&&(p=p.next={eventTime:d,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,v=i;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(d,f,u);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=v.payload)?h.call(d,f,u):h)||void 0===u)break e;f=a({},f,u);break e;case 2:so=!0}}null!==i.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[i]:u.push(i))}else d={eventTime:d,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===p?(c=p=d,l=f):p=p.next=d,s|=u;if(null===(i=i.next)){if(null===(u=o.shared.pending))break;i=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===p&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=p,js|=s,e.lanes=s,e.memoizedState=f}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var mo=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),a=du(e),o=co(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hu(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),a=du(e),o=co(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hu(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),a=co(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),po(e,a),hu(e,r,n)}};function bo(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(a,o))}function xo(e,t,n){var r=!1,a=fa,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(a=ya(t)?va:da.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ma(e,a):fa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=mo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=io(o):(o=ya(t)?va:da.current,a.context=ma(e,o)),ho(e,n,a,r),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&go.enqueueReplaceState(a,a.state,null),ho(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Xu(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Ku(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Xu(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case k:return(t=Qu(t,e.mode,n)).return=e,t}if(ko(t)||V(t))return(t=Ku(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===a?n.type===S?p(e,t,n.props.children,r,a):l(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null}if(ko(n)||V(n))return null!==a?null:p(e,t,n,r,null);Co(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?p(t,e,r.props.children,a,r.key):l(t,e,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(ko(r)||V(r))return p(t,e=e.get(n)||null,r,a,null);Co(t,r)}return null}function v(a,i,s,u){for(var l=null,c=null,p=i,v=i=0,m=null;null!==p&&v<s.length;v++){p.index>v?(m=p,p=null):m=p.sibling;var y=d(a,p,s[v],u);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(a,p),i=o(y,i,v),null===c?l=y:c.sibling=y,c=y,p=m}if(v===s.length)return n(a,p),l;if(null===p){for(;v<s.length;v++)null!==(p=f(a,s[v],u))&&(i=o(p,i,v),null===c?l=p:c.sibling=p,c=p);return l}for(p=r(a,p);v<s.length;v++)null!==(m=h(p,a,v,s[v],u))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),i=o(m,i,v),null===c?l=m:c.sibling=m,c=m);return e&&p.forEach((function(e){return t(a,e)})),l}function m(a,s,u,l){var c=V(u);if("function"!==typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var p=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(a,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(a,v),s=o(b,s,m),null===p?c=b:p.sibling=b,p=b,v=y}if(g.done)return n(a,v),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(a,g.value,l))&&(s=o(g,s,m),null===p?c=g:p.sibling=g,p=g);return c}for(v=r(a,v);!g.done;m++,g=u.next())null!==(g=h(v,a,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===p?c=g:p.sibling=g,p=g);return e&&v.forEach((function(e){return t(a,e)})),c}return function(e,r,o,u){var l="object"===typeof o&&null!==o&&o.type===S&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case E:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===S){n(e,l.sibling),(r=a(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=a(l,o.props)).ref=So(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===S?((r=Ku(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Xu(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,r,o),u.return=e,e=u)}return s(e);case k:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(ko(o))return v(e,r,o,u);if(V(o))return m(e,r,o,u);if(c&&Co(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,X(e.type)||"Component"))}return n(e,r)}}var Ao=To(!0),No=To(!1),_o={},Oo=la(_o),Po=la(_o),Mo=la(_o);function Do(e){if(e===_o)throw Error(i(174));return e}function Ro(e,t){switch(pa(Mo,t),pa(Po,e),pa(Oo,_o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ca(Oo),pa(Oo,t)}function Io(){ca(Oo),ca(Po),ca(Mo)}function Lo(e){Do(Mo.current);var t=Do(Oo.current),n=he(t,e.type);t!==n&&(pa(Po,e),pa(Oo,n))}function Fo(e){Po.current===e&&(ca(Oo),ca(Po))}var zo=la(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,jo=null,Vo=!1;function Go(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qo(e){if(Vo){var t=jo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Kr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Bo=e);Go(Bo,n)}Bo=e,jo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Bo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Xo(e){if(e!==Bo)return!1;if(!Vo)return Ho(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=jo;t;)Go(e,t),t=Kr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Bo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){jo=Bo=null,Vo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Qo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Zo=0,ei=null,ti=null,ni=null,ri=!1,ai=!1;function oi(){throw Error(i(321))}function ii(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function si(e,t,n,r,a,o){if(Zo=o,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Di:Ri,e=n(r,a),ai){o=0;do{if(ai=!1,!(25>o))throw Error(i(301));o+=1,ni=ti=null,t.updateQueue=null,Qo.current=Ii,e=n(r,a)}while(ai)}if(Qo.current=Mi,t=null!==ti&&null!==ti.next,Zo=0,ni=ti=ei=null,ri=!1,t)throw Error(i(300));return e}function ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function li(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function ci(e,t){return"function"===typeof t?t(e):t}function pi(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ti,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=s=o=null,l=a;do{var c=l.lane;if((Zo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var p={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=p,o=r):u=u.next=p,ei.lanes|=c,js|=c}l=l.next}while(null!==l&&l!==a);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Fi=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fi(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);cr(o,t.memoizedState)||(Fi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function di(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(i(350))}function hi(e,t,n,r){var a=Ds;if(null===a)throw Error(i(349));var o=t._getVersion,s=o(t._source),u=Qo.current,l=u.useState((function(){return di(a,t,n)})),c=l[1],p=l[0];l=ni;var f=e.memoizedState,d=f.refs,h=d.getSnapshot,v=f.source;f=f.subscribe;var m=ei;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(p,e)||(c(e),e=du(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,i=e;0<i;){var u=31-Wt(i),l=1<<u;r[u]|=e,i&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);a.mutableReadLanes|=r&a.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(h,n)&&cr(v,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:p}).dispatch=c=Pi.bind(null,ei,e),l.queue=e,l.baseQueue=null,p=di(a,t,n),l.memoizedState=l.baseState=p),p}function vi(e,t,n){return hi(li(),e,t,n)}function mi(e){var t=ui();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e}).dispatch=Pi.bind(null,ei,e),[t.memoizedState,e]}function yi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ei.updateQueue)?(t={lastEffect:null},ei.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gi(e){return e={current:e},ui().memoizedState=e}function bi(){return li().memoizedState}function xi(e,t,n,r){var a=ui();ei.flags|=e,a.memoizedState=yi(1|t,n,void 0,void 0===r?null:r)}function wi(e,t,n,r){var a=li();r=void 0===r?null:r;var o=void 0;if(null!==ti){var i=ti.memoizedState;if(o=i.destroy,null!==r&&ii(r,i.deps))return void yi(t,n,o,r)}ei.flags|=e,a.memoizedState=yi(1|t,n,o,r)}function Ei(e,t){return xi(516,4,e,t)}function ki(e,t){return wi(516,4,e,t)}function Si(e,t){return wi(4,2,e,t)}function Ci(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wi(4,2,Ci.bind(null,t,e),n)}function Ai(){}function Ni(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _i(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ii(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oi(e,t){var n=Wa();Ha(98>n?98:n,(function(){e(!0)})),Ha(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Pi(e,t,n){var r=fu(),a=du(e),o={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===ei||null!==i&&i===ei)ai=ri=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=i(s,n);if(o.eagerReducer=i,o.eagerState=u,cr(u,s))return}catch(l){}hu(e,a,r)}}var Mi={readContext:io,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useOpaqueIdentifier:oi,unstable_isNewReconciler:!1},Di={readContext:io,useCallback:function(e,t){return ui().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:Ei,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xi(4,2,Ci.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xi(4,2,e,t)},useMemo:function(e,t){var n=ui();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ui();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pi.bind(null,ei,e),[r.memoizedState,e]},useRef:gi,useState:mi,useDebugValue:Ai,useDeferredValue:function(e){var t=mi(e),n=t[0],r=t[1];return Ei((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=mi(!1),t=e[0];return gi(e=Oi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ui();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},hi(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(i(355))})),n=mi(t)[1];return 0===(2&ei.mode)&&(ei.flags|=516,yi(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mi(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ri={readContext:io,useCallback:Ni,useContext:io,useEffect:ki,useImperativeHandle:Ti,useLayoutEffect:Si,useMemo:_i,useReducer:pi,useRef:bi,useState:function(){return pi(ci)},useDebugValue:Ai,useDeferredValue:function(e){var t=pi(ci),n=t[0],r=t[1];return ki((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=pi(ci)[0];return[bi().current,e]},useMutableSource:vi,useOpaqueIdentifier:function(){return pi(ci)[0]},unstable_isNewReconciler:!1},Ii={readContext:io,useCallback:Ni,useContext:io,useEffect:ki,useImperativeHandle:Ti,useLayoutEffect:Si,useMemo:_i,useReducer:fi,useRef:bi,useState:function(){return fi(ci)},useDebugValue:Ai,useDeferredValue:function(e){var t=fi(ci),n=t[0],r=t[1];return ki((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fi(ci)[0];return[bi().current,e]},useMutableSource:vi,useOpaqueIdentifier:function(){return fi(ci)[0]},unstable_isNewReconciler:!1},Li=w.ReactCurrentOwner,Fi=!1;function zi(e,t,n,r){t.child=null===e?No(t,null,n,r):Ao(t,e.child,n,r)}function Ui(e,t,n,r,a){n=n.render;var o=t.ref;return oo(t,a),r=si(e,t,n,r,o,a),null===e||Fi?(t.flags|=1,zi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,os(e,t,a))}function Bi(e,t,n,r,a,o){if(null===e){var i=n.type;return"function"!==typeof i||qu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ji(e,t,i,r,a,o))}return i=e.child,0===(a&o)&&(a=i.memoizedProps,(n=null!==(n=n.compare)?n:fr)(a,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(i,r)).ref=t.ref,e.return=t,t.child=e)}function ji(e,t,n,r,a,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Fi=!1,0===(o&a))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Fi=!0)}return Wi(e,t,n,r,o)}function Vi(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return zi(e,t,a,n),t.child}function Gi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wi(e,t,n,r,a){var o=ya(n)?va:da.current;return o=ma(t,o),oo(t,a),n=si(e,t,n,r,o,a),null===e||Fi?(t.flags|=1,zi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,os(e,t,a))}function qi(e,t,n,r,a){if(ya(n)){var o=!0;wa(t)}else o=!1;if(oo(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,r),Eo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=io(l):l=ma(t,l=ya(n)?va:da.current);var c=n.getDerivedStateFromProps,p="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;p||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||u!==l)&&wo(t,i,r,l),so=!1;var f=t.memoizedState;i.state=f,ho(t,r,i,a),u=t.memoizedState,s!==r||f!==u||ha.current||so?("function"===typeof c&&(yo(t,n,c,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,l))?(p||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4)):("function"===typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Qa(t.type,s),i.props=l,p=t.pendingProps,f=i.context,"object"===typeof(u=n.contextType)&&null!==u?u=io(u):u=ma(t,u=ya(n)?va:da.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==p||f!==u)&&wo(t,i,r,u),so=!1,f=t.memoizedState,i.state=f,ho(t,r,i,a);var h=t.memoizedState;s!==p||f!==h||ha.current||so?("function"===typeof d&&(yo(t,n,d,r),h=t.memoizedState),(l=so||bo(t,n,l,r,f,h,u))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=u,r=l):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Hi(e,t,n,r,o,a)}function Hi(e,t,n,r,a,o){Gi(e,t);var i=0!==(64&t.flags);if(!r&&!i)return a&&Ea(t,n,!1),os(e,t,o);r=t.stateNode,Li.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):zi(e,t,s,o),t.memoizedState=r.state,a&&Ea(t,n,!0),t.child}function Xi(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Ro(e,t.containerInfo)}var Ki,$i,Yi,Qi={dehydrated:null,retryLane:0};function Ji(e,t,n){var r,a=t.pendingProps,o=zo.current,i=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),pa(zo,1&o),null===e?(void 0!==a.fallback&&qo(t),e=a.children,o=a.fallback,i?(e=Zi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qi,e):"number"===typeof a.unstable_expectedLoadTime?(e=Zi(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qi,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(a=ts(e,t,a.children,a.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Qi,a):(n=es(e,t,a.children,n),t.memoizedState=null,n))}function Zi(e,t,n,r){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,a,0,null),n=Ku(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var a=e.child;return e=a.sibling,n=Hu(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,a){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=s,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(i,s),null!==e?r=Hu(e,r):(r=Ku(r,o,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ao(e.return,t)}function rs(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.lastEffect=o)}function as(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(zi(e,t,r.children,n),0!==(2&(r=zo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pa(zo,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rs(t,!1,a,n,o,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ya(t.type)&&ga(),null;case 3:return Io(),ca(ha),ca(da),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Xo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fo(t);var o=Do(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)$i(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Do(Oo.current),Xo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Or(Tr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var l in Se(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Or("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===pe&&(e=de(n)),e===pe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Ki(e,t),t.stateNode=e,l=Ce(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Or(Tr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=a({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Se(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var p=c[s];"style"===s?Ee(e,p):"dangerouslySetInnerHTML"===s?null!=(p=p?p.__html:void 0)&&ye(e,p):"children"===s?"string"===typeof p?("textarea"!==n||""!==p)&&ge(e,p):"number"===typeof p&&ge(e,""+p):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=p&&"onScroll"===s&&Or("scroll",e):null!=p&&x(e,s,p,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ie(e,!!r.multiple,s,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Br)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yi(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));n=Do(Mo.current),Do(Oo.current),Xo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ca(zo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zo.current)?0===zs&&(zs=3):(0!==zs&&3!==zs||(zs=4),null===Ds||0===(134217727&js)&&0===(134217727&Vs)||gu(Ds,Is))),(r||n)&&(t.flags|=4),null);case 4:return Io(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ca(zo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=r.rendering))if(s)is(r,!1);else{if(0!==zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Uo(e))){for(t.flags|=64,is(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pa(zo,1&zo.current|2),t.child}e=e.sibling}null!==r.tail&&Ga()>Hs&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ga()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ga(),n.sibling=null,t=zo.current,pa(zo,s?1&t|2:1&t),n):null;case 23:case 24:return ku(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function us(e){switch(e.tag){case 1:ya(e.type)&&ga();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Io(),ca(ha),ca(da),Yo(),0!==(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return ca(zo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ca(zo),null;case 4:return Io(),null;case 10:return ro(e),null;case 23:case 24:return ku(),null;default:return null}}function ls(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a}}function cs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ki=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$i=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(Oo.current);var i,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(p in Se(n,r),n=null,o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&null!=o[p])if("style"===p){var l=o[p];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==p&&"children"!==p&&"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&"autoFocus"!==p&&(u.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var c=r[p];if(l=null!=o?o[p]:void 0,r.hasOwnProperty(p)&&c!==l&&(null!=c||null!=l))if("style"===p)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(p,n)),n=c;else"dangerouslySetInnerHTML"===p?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(p,c)):"children"===p?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(p,""+c):"suppressContentEditableWarning"!==p&&"suppressHydrationWarning"!==p&&(u.hasOwnProperty(p)?(null!=c&&"onScroll"===p&&Or("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===I?c.toString():(s=s||[]).push(p,c))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}},Yi=function(e,t,n,r){n!==r&&(t.flags|=4)};var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Qs=r),cs(0,t)},n}function ds(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return cs(0,t),r(a)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xr(t.stateNode.containerInfo))}throw Error(i(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Fu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qa(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(i(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=we("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Sa&&"function"===typeof Sa.onCommitFiberUnmount)try{Sa.onCommitFiberUnmount(ka,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Fu(t,n);else{r=t;try{a()}catch(o){Bu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:vs(t);break;case 4:Cs(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):Ss(e,n,t)}function ks(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,a=5===r||6===r;if(a)e=a?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,u=a,l=u;;)if(bs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=a.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(bs(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,a),t=Ce(e,r),a=0;a<o.length;a+=2){var s=o[a],u=o[a+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ie(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(qs=Ga(),gs(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(i(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var _s=Math.ceil,Os=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Ms=0,Ds=null,Rs=null,Is=0,Ls=0,Fs=la(0),zs=0,Us=null,Bs=0,js=0,Vs=0,Gs=0,Ws=null,qs=0,Hs=1/0;function Xs(){Hs=Ga()+500}var Ks,$s=null,Ys=!1,Qs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],au=null,ou=0,iu=null,su=-1,uu=0,lu=0,cu=null,pu=!1;function fu(){return 0!==(48&Ms)?Ga():-1!==su?su:su=Ga()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wa()?1:2;if(0===uu&&(uu=Bs),0!==Ya.transition){0!==lu&&(lu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~lu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wa(),0!==(4&Ms)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,n){if(50<ou)throw ou=0,iu=null,Error(i(185));if(null===(e=vu(e,t)))return null;Gt(e,t,n),e===Ds&&(Vs|=t,4===zs&&gu(e,Is));var r=Wa();1===t?0!==(8&Ms)&&0===(48&Ms)?bu(e):(mu(e,n),0===Ms&&(Xs(),Ka())):(0===(4&Ms)||98!==r&&99!==r||(null===au?au=new Set([e]):au.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&a)){c=t,Ft(l);var p=Lt;o[u]=10<=p?c+250:6<=p?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=zt(e,e===Ds?Is:0),t=Lt,0===r)null!==n&&(n!==Fa&&Aa(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fa&&Aa(n)}15===t?(n=bu.bind(null,e),null===Ua?(Ua=[n],Ba=Ta(Ma,$a)):Ua.push(n),n=Fa):14===t?n=Xa(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=Xa(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,lu=uu=0,0!==(48&Ms))throw Error(i(327));var t=e.callbackNode;if(Iu()&&e.callbackNode!==t)return null;var n=zt(e,e===Ds?Is:0);if(0===n)return null;var r=n,a=Ms;Ms|=16;var o=Tu();for(Ds===e&&Is===r||(Xs(),Su(e,r));;)try{_u();break}catch(u){Cu(e,u)}if(no(),Os.current=o,Ms=a,null!==Rs?r=0:(Ds=null,Is=0,r=zs),0!==(Bs&Vs))Su(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(n=Ut(e))&&(r=Au(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,Ga()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:Mu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=qs+500-Ga())){if(0!==zt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qr(Mu.bind(null,e),r);break}Mu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Ga()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_s(n/1960))-n)){e.timeoutHandle=qr(Mu.bind(null,e),n);break}Mu(e);break;default:throw Error(i(329))}}return mu(e,Ga()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~Gs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Ms))throw Error(i(327));if(Iu(),e===Ds&&0!==(e.expiredLanes&Is)){var t=Is,n=Au(e,t);0!==(Bs&Vs)&&(n=Au(e,t=zt(e,t)))}else n=Au(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(t=Ut(e))&&(n=Au(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,Ga()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mu(e),mu(e,Ga()),null}function xu(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(Xs(),Ka())}}function wu(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(Xs(),Ka())}}function Eu(e,t){pa(Fs,Ls),Ls|=t,Bs|=t}function ku(){Ls=Fs.current,ca(Fs)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ga();break;case 3:Io(),ca(ha),ca(da),Yo();break;case 5:Fo(r);break;case 4:Io();break;case 13:case 19:ca(zo);break;case 10:ro(r);break;case 23:case 24:ku()}n=n.return}Ds=e,Rs=Hu(e.current,null),Is=Ls=Bs=t,zs=0,Us=null,Gs=Vs=js=0}function Cu(e,t){for(;;){var n=Rs;try{if(no(),Qo.current=Mi,ri){for(var r=ei.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ri=!1}if(Zo=0,ni=ti=ei=null,ai=!1,Ps.current=null,null===n||null===n.return){zs=1,Us=t,Rs=null;break}e:{var o=e,i=n.return,s=n,u=t;if(t=Is,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=0!==(1&zo.current),f=i;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!p)}}if(d){var m=f.updateQueue;if(null===m){var y=new Set;y.add(l),f.updateQueue=y}else m.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=co(-1,1);g.tag=2,po(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ps,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=ju.bind(null,o,l,s);l.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==zs&&(zs=2),u=ls(u,s),f=i;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var w=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ds(f,o,t));break e}}f=f.return}while(null!==f)}Pu(n)}catch(k){t=k,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Tu(){var e=Os.current;return Os.current=Mi,null===e?Mi:e}function Au(e,t){var n=Ms;Ms|=16;var r=Tu();for(Ds===e&&Is===t||Su(e,t);;)try{Nu();break}catch(a){Cu(e,a)}if(no(),Ms=n,Os.current=r,null!==Rs)throw Error(i(261));return Ds=null,Is=0,zs}function Nu(){for(;null!==Rs;)Ou(Rs)}function _u(){for(;null!==Rs&&!Na();)Ou(Rs)}function Ou(e){var t=Ks(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===zs&&(zs=5)}function Mu(e){var t=Wa();return Ha(99,Du.bind(null,e,t)),null}function Du(e,t){do{Iu()}while(null!==eu);if(0!==(48&Ms))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Wt(o),c=1<<l;a[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==au&&0===(24&r)&&au.has(e)&&au.delete(e),e===Ds&&(Rs=Ds=null,Is=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=Ms,Ms|=32,Ps.current=null,jr=$t,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(T){u=null;break e}var p=0,f=-1,d=-1,h=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==o&&3!==m.nodeType||(f=p+o),m!==l||0!==c&&3!==m.nodeType||(d=p+c),3===m.nodeType&&(p+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++h===o&&(f=p),y===l&&++v===c&&(d=p),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},$t=!1,cu=null,pu=!1,$s=r;do{try{Ru()}catch(T){if(null===$s)throw Error(i(330));Bu($s,T),$s=$s.nextEffect}}while(null!==$s);cu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ge($s.stateNode,""),128&b){var x=$s.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es($s),$s.flags&=-3;break;case 6:Es($s),$s.flags&=-3,Ts($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ts($s.alternate,$s);break;case 4:Ts($s.alternate,$s);break;case 8:Cs(s,u=$s);var E=u.alternate;xs(u),null!==E&&xs(E)}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(i(330));Bu($s,T),$s=$s.nextEffect}}while(null!==$s);if(w=Vr,x=mr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=hr(b,E),o=hr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(x),w.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!jr,Vr=jr=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var k=$s.flags;if(36&k&&ys(b,$s.alternate,$s),128&k){x=void 0;var S=$s.ref;if(null!==S){var C=$s.stateNode;$s.tag,x=C,"function"===typeof S?S(x):S.current=x}}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(i(330));Bu($s,T),$s=$s.nextEffect}}while(null!==$s);$s=null,za(),Ms=a}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((k=$s).sibling=null,k.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===iu?ou++:(ou=0,iu=e):ou=0,n=n.stateNode,Sa&&"function"===typeof Sa.onCommitFiberRoot)try{Sa.onCommitFiberRoot(ka,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,Ga()),Ys)throw Ys=!1,e=Qs,Qs=null,e;return 0!==(8&Ms)||Ka(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;pu||null===cu||(0!==(8&$s.flags)?et($s,cu)&&(pu=!0):13===$s.tag&&Ns(e,$s)&&et($s,cu)&&(pu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Xa(97,(function(){return Iu(),null}))),$s=$s.nextEffect}}function Iu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ha(e,zu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Xa(97,(function(){return Iu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Xa(97,(function(){return Iu(),null})))}function zu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ms))throw Error(i(331));var t=Ms;Ms|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var a=n[r],o=n[r+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(i(330));Bu(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){a=n[r],o=n[r+1];try{var u=a.create;a.destroy=u()}catch(l){if(null===o)throw Error(i(330));Bu(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ms=t,Ka(),!0}function Uu(e,t,n){po(e,t=fs(0,t=ls(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(Gt(e,1,t),mu(e,t))}function Bu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var a=ds(n,e=ls(t,e),1);if(po(n,a),a=fu(),null!==(n=vu(n,1)))Gt(n,1,a),mu(n,a);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Is&n)===n&&(4===zs||3===zs&&(62914560&Is)===Is&&500>Ga()-qs?Su(e,0):Gs|=n),mu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wa()?1:2:(0===uu&&(uu=Bs),0===(t=jt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(Gt(e,t,n),mu(e,n))}function Gu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Gu(e,t,n,r)}function qu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xu(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)qu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ku(n.children,a,o,t);case L:s=8,a|=16;break;case C:s=8,a|=1;break;case T:return(e=Wu(12,n,t,8|a)).elementType=T,e.type=T,e.lanes=o,e;case O:return(e=Wu(13,n,t,a)).type=O,e.elementType=O,e.lanes=o,e;case P:return(e=Wu(19,n,t,a)).elementType=P,e.lanes=o,e;case F:return $u(n,a,o,t);case z:return(e=Wu(24,n,t,a)).elementType=z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case N:s=9;break e;case _:s=11;break e;case M:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Ku(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=F,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Qu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var a=t.current,o=fu(),s=du(a);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ya(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(i(171))}if(1===n.tag){var l=n.type;if(ya(l)){n=xa(n,l,u);break e}}n=u}else n=fa;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(a,t),hu(a,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function al(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ea]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function il(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o._internalRoot;if("function"===typeof a){var s=a;a=function(){var e=tl(i);s.call(e)}}el(t,i,e,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new al(e,0,t?{hydrate:!0}:void 0)}(n,r),i=o._internalRoot,"function"===typeof a){var u=a;a=function(){var e=tl(i);u.call(e)}}wu((function(){el(t,i,e,a)}))}return tl(i)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(i(200));return Zu(e,t,null,n)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ha.current)Fi=!0;else{if(0===(n&r)){switch(Fi=!1,t.tag){case 3:Xi(t),Ko();break;case 5:Lo(t);break;case 1:ya(t.type)&&wa(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;pa(Ja,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ji(e,t,n):(pa(zo,1&zo.current),null!==(t=os(e,t,n))?t.sibling:null);pa(zo,1&zo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return as(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),pa(zo,zo.current),r)break;return null;case 23:case 24:return t.lanes=0,Vi(e,t,n)}return os(e,t,n)}Fi=0!==(16384&e.flags)}else Fi=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ma(t,da.current),oo(t,n),a=si(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ya(r)){var o=!0;wa(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),a.updater=go,t.stateNode=a,a._reactInternals=t,Eo(t,r,e,n),t=Hi(null,t,r,!0,o,n)}else t.tag=0,zi(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"===typeof e)return qu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===M)return 14}return 2}(a),e=Qa(a,e),o){case 0:t=Wi(null,t,a,e,n);break e;case 1:t=qi(null,t,a,e,n);break e;case 11:t=Ui(null,t,a,e,n);break e;case 14:t=Bi(null,t,a,Qa(a.type,e),r,n);break e}throw Error(i(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Wi(e,t,r,a=t.elementType===r?a:Qa(r,a),n);case 1:return r=t.type,a=t.pendingProps,qi(e,t,r,a=t.elementType===r?a:Qa(r,a),n);case 3:if(Xi(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,lo(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===a)Ko(),t=os(e,t,n);else{if((o=(a=t.stateNode).hydrate)&&(jo=Kr(t.stateNode.containerInfo.firstChild),Bo=t,o=Vo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],$o.push(o);for(n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else zi(e,t,r,n),Ko();t=t.child}return t;case 5:return Lo(t),null===e&&qo(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Wr(r,a)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),Gi(e,t),zi(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Ji(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):zi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ui(e,t,r,a=t.elementType===r?a:Qa(r,a),n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var u=t.type._context;if(pa(Ja,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===a.children&&!ha.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,po(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ao(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}zi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(a=io(a,o.unstable_observedBits)),t.flags|=1,zi(e,t,r,n),t.child;case 14:return o=Qa(a=t.type,t.pendingProps),Bi(e,t,a,o=Qa(a.type,o),r,n);case 15:return ji(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qa(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ya(r)?(e=!0,wa(t)):e=!1,oo(t,n),xo(t,r,a),Eo(t,r,a,n),Hi(null,t,r,!0,e,n);case 19:return as(e,t,n);case 23:case 24:return Vi(e,t,n)}throw Error(i(156,t.tag))},al.prototype.render=function(e){el(e,this._internalRoot,null,null)},al.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(hu(e,4,fu()),rl(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,fu()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);hu(e,n,t),rl(e,n)}},at=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=oa(r);if(!a)throw Error(i(90));Q(r),ne(r,a)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},De=xu,Re=function(e,t,n,r,a){var o=Ms;Ms|=4;try{return Ha(98,e.bind(null,t,n,r,a))}finally{0===(Ms=o)&&(Xs(),Ka())}},Ie=function(){0===(49&Ms)&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Ga())}))}Ka()}(),Iu())},Le=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(Xs(),Ka())}};var ul={Events:[ra,aa,oa,Pe,Me,Iu,{current:!1}]},ll={findFiberByHostInstance:na,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{ka=pl.inject(cl),Sa=pl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!==(48&n))return e(t);Ms|=1;try{if(e)return Ha(99,e.bind(null,t))}finally{Ms=n,Ka()}},t.hydrate=function(e,t,n){if(!ol(t))throw Error(i(200));return il(null,e,t,!0,n)},t.render=function(e,t,n){if(!ol(t))throw Error(i(200));return il(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(i(40));return!!e._reactRootContainer&&(wu((function(){il(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return il(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case p:case o:case s:case i:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case m:case v:case u:return e;default:return t}}case a:return t}}}function E(e){return w(e)===p}t.isFragment=function(e){return w(e)===o}},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),a=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),o("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:c,props:o,_owner:i.current}}t.jsx=l,t.jsxs=l},9117:function(e,t,n){"use strict";var r=n(1725),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var p=Symbol.for;a=p("react.element"),o=p("react.portal"),t.Fragment=p("react.fragment"),t.StrictMode=p("react.strict_mode"),t.Profiler=p("react.profiler"),i=p("react.provider"),s=p("react.context"),u=p("react.forward_ref"),t.Suspense=p("react.suspense"),l=p("react.memo"),c=p("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=g.prototype=new y;b.constructor=g,r(b,m.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return i=i(u=e),e=""===r?"."+T(u,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),A(i,t,n,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+T(s=e[l],l);u+=A(s,t,n,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,n,c=r+T(s,l++),i);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function P(){var e=O.current;if(null===e)throw Error(d(321));return e}var M={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),i=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var p=0;p<c;p++)l[p]=arguments[p+2];o.children=l}return{$$typeof:a,type:e.type,key:i,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new N(r||[]);return o._invoke=function(e,t,n){var r=p;return function(a,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var p="suspendedStart",f="suspendedYield",d="executing",h="completed",v={};function m(){}function y(){}function g(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(_([])));w&&w!==n&&r.call(w,o)&&(b=w);var E=g.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,s){var u=c(e[a],e,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"===typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function _(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=g,u(E,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},k(S.prototype),u(S.prototype,i,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new S(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(E),u(E,s,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,p=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(p,0))},r=function(e,t){c=setTimeout(e,t)},a=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},a=function(){d(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<C(a,t)))break e;e[r]=t,e[n]=a,n=r}}function k(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],s=o+1,u=e[s];if(void 0!==i&&0>C(i,n))void 0!==u&&0>C(u,i)?(e[r]=u,e[s]=n,r=s):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],A=[],N=1,_=null,O=3,P=!1,M=!1,D=!1;function R(e){for(var t=k(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,E(T,t)}t=k(A)}}function I(e){if(D=!1,R(e),!M)if(null!==k(T))M=!0,n(L);else{var t=k(A);null!==t&&r(I,t.startTime-e)}}function L(e,n){M=!1,D&&(D=!1,a()),P=!0;var o=O;try{for(R(n),_=k(T);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=_.callback;if("function"===typeof i){_.callback=null,O=_.priorityLevel;var s=i(_.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?_.callback=s:_===k(T)&&S(T),R(n)}else S(T);_=k(T)}if(null!==_)var u=!0;else{var l=k(A);null!==l&&r(I,l.startTime-n),u=!1}return u}finally{_=null,O=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||P||(M=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return k(T)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:i,expirationTime:u=i+u,sortIndex:-1},i>s?(e.sortIndex=i,E(A,e),null===k(T)&&e===k(A)&&(D?a():D=!0,r(I,i-s))):(e.sortIndex=u,E(T,e),M||P||(M=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6699:function(e,t,n){var r=n(2501),a=n(9112),o=n(2132),i=n(890),s=n(4113),u=n(1350),l=n(3411);l.alea=r,l.xor128=a,l.xorwow=o,l.xorshift7=i,l.xor4096=s,l.tychei=u,e.exports=l},2501:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},1350:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},9112:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},4113:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},2132:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},3411:function(e,t,n){var r;!function(a,o){var i,s=(0,eval)("this"),u=256,l=o.pow(u,6),c=o.pow(2,52),p=2*c,f=255;function d(e,t,n){var r=[],f=y(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,g(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),g(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,g(a)]}}():e,3),r),d=new h(r),b=function(){for(var e=d.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=p;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,y(g(d.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,d),e.state=function(){return v(d,{})}),n?(o.random=e,t):e})(b,f,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<u;)i[a]=a++;for(a=0;a<u;a++)i[a]=i[o=f&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=f&a+1],n=n*u+i[f&(i[a]=i[o=f&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=d,y(o.random(),a),e.exports){e.exports=d;try{i=n(5042)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}([],Math)},3105:function(e,t,n){"use strict";e.exports=n.p+"static/media/ChinaLogo.7e4aa892441885a6c299.png"},2221:function(e,t,n){"use strict";e.exports=n.p+"static/media/loading.c40b6c55ea9dd2c9411f.gif"},5042:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){"use strict";var e,t=n(2791),r=n(4164);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var l="beforeunload",c="popstate";function p(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,a=r.history;function o(){var e=m(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,o=e.search,i=void 0===o?"":o,s=e.hash,l=void 0===s?"":s,c=a.state||{};return[c.idx,u({pathname:n,search:i,hash:l,state:c.usr||null,key:c.key||"default"})]}var i=null;function p(){if(i)E.call(i),i=null;else{var t=e.Pop,n=o(),r=n[0],a=n[1];if(E.length){if(null!=r){var s=b-r;s&&(i={action:t,location:a,retry:function(){N(-1*s)}},N(s))}}else A(t)}}r.addEventListener(c,p),r.addEventListener("hashchange",(function(){v(o()[1])!==v(x)&&p()}));var y=e.Pop,g=o(),b=g[0],x=g[1],w=d(),E=d();function k(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,a=n.indexOf("#");t=-1===a?n:n.slice(0,a)}return t}()+"#"+("string"===typeof e?e:v(e))}function S(e,t){return void 0===t&&(t=null),u(s({pathname:x.pathname,hash:"",search:""},"string"===typeof e?m(e):e,{state:t,key:h()}))}function C(e,t){return[{usr:e.state,key:e.key,idx:t},k(e)]}function T(e,t,n){return!E.length||(E.call({action:e,location:t,retry:n}),!1)}function A(e){y=e;var t=o();b=t[0],x=t[1],w.call({action:y,location:x})}function N(e){a.go(e)}null==b&&(b=0,a.replaceState(s({},a.state,{idx:b}),""));var _={get action(){return y},get location(){return x},createHref:k,push:function t(n,o){var i=e.Push,s=S(n,o);if(T(i,s,(function(){t(n,o)}))){var u=C(s,b+1),l=u[0],c=u[1];try{a.pushState(l,"",c)}catch(p){r.location.assign(c)}A(i)}},replace:function t(n,r){var o=e.Replace,i=S(n,r);if(T(o,i,(function(){t(n,r)}))){var s=C(i,b),u=s[0],l=s[1];a.replaceState(u,"",l),A(o)}},go:N,back:function(){N(-1)},forward:function(){N(1)},listen:function(e){return w.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&r.addEventListener(l,f),function(){t(),E.length||r.removeEventListener(l,f)}}};return _}function f(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function v(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,i=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function m(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t){if(!e)throw new Error(t)}var g=(0,t.createContext)(null);var b=(0,t.createContext)(null);var x=(0,t.createContext)({outlet:null,matches:[]});function w(e){return function(e){var n=(0,t.useContext)(x).outlet;if(n)return(0,t.createElement)(N.Provider,{value:e},n);return n}(e.context)}function E(e){y(!1)}function k(n){var r=n.basename,a=void 0===r?"/":r,o=n.children,i=void 0===o?null:o,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,p=n.static,f=void 0!==p&&p;C()&&y(!1);var d=B(a),h=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=m(s));var v=s,x=v.pathname,w=void 0===x?"/":x,E=v.search,k=void 0===E?"":E,S=v.hash,T=void 0===S?"":S,A=v.state,N=void 0===A?null:A,_=v.key,O=void 0===_?"default":_,P=(0,t.useMemo)((function(){var e=z(w,d);return null==e?null:{pathname:e,search:k,hash:T,state:N,key:O}}),[d,w,k,T,N,O]);return null==P?null:(0,t.createElement)(g.Provider,{value:h},(0,t.createElement)(b.Provider,{children:i,value:{location:P,navigationType:l}}))}function S(e){var n=e.children,r=e.location;return function(e,n){C()||y(!1);var r=(0,t.useContext)(x).matches,a=r[r.length-1],o=a?a.params:{},i=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;0;var s,u=T();if(n){var l,c="string"===typeof n?m(n):n;"/"===i||(null==(l=c.pathname)?void 0:l.startsWith(i))||y(!1),s=c}else s=u;var p=s.pathname||"/",f="/"===i?p:p.slice(i.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=z(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;var a=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var o=null,i=0;null==o&&i<a.length;++i)o=R(a[i],r);return o}(e,{pathname:f});0;return I(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:U([i,e.pathname]),pathnameBase:"/"===e.pathnameBase?i:U([i,e.pathnameBase])})})),r)}(_(n),r)}function C(){return null!=(0,t.useContext)(b)}function T(){return C()||y(!1),(0,t.useContext)(b).location}function A(){C()||y(!1);var e=(0,t.useContext)(g),n=e.basename,r=e.navigator,a=(0,t.useContext)(x).matches,o=T().pathname,i=JSON.stringify(a.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var a=F(e,JSON.parse(i),o);"/"!==n&&(a.pathname=U([n,a.pathname])),(t.replace?r.replace:r.push)(a,t.state)}else r.go(e)}),[n,r,i,o])}var N=(0,t.createContext)(null);function _(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==E&&y(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=_(e.props.children)),n.push(r)}else n.push.apply(n,_(e.props.children))})),n}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,a){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||y(!1),o.relativePath=o.relativePath.slice(r.length));var i=U([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&y(!1),O(e.children,t,s,i)),(null!=e.path||e.index)&&t.push({path:i,score:D(i,e.index),routesMeta:s})})),t}var P=/^:\w+$/,M=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(M)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!M(e)})).reduce((function(e,t){return e+(P.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},a="/",o=[],i=0;i<n.length;++i){var s=n[i],u=i===n.length-1,l="/"===a?t:t.slice(a.length)||"/",c=L({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var p=s.route;o.push({params:r,pathname:U([a,c.pathname]),pathnameBase:B(U([a,c.pathnameBase])),route:p}),"/"!==c.pathnameBase&&(a=U([a,c.pathnameBase]))}return o}function I(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,a,o){return(0,t.createElement)(x.Provider,{children:void 0!==a.route.element?a.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=i(n,2),a=r[0],o=r[1],s=t.match(a);if(!s)return null;var u=s[0],l=u.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function F(e,t,n){var r,a="string"===typeof e?m(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{var i=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),i-=1;a.pathname=s.join("/")}r=i>=0?t[i]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?m(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,i=n.hash,s=void 0===i?"":i,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:j(o),hash:V(s)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var U=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},j=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},V=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function G(e){var n=e.basename,r=e.children,a=e.window,o=(0,t.useRef)();null==o.current&&(o.current=p({window:a}));var s=o.current,u=i((0,t.useState)({action:s.action,location:s.location}),2),l=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,t.createElement)(k,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var W=n(184);function q(){return(0,W.jsx)("div",{children:"page not find"})}function H(e){return(0,W.jsx)("div",{className:"IconMore "+e.className,children:e.children})}function X(e){return(0,W.jsx)("div",{className:"IconChina "+e.className,children:(0,W.jsx)("img",{src:n(3105),alt:"ChinaLogo"})})}function K(e){return(0,W.jsx)("div",{className:"IconButton",onClick:e.onClick,children:(0,W.jsx)("div",{className:"mainButton",children:e.children})})}function $(){var e=A();return(0,W.jsxs)("div",{className:"Home",children:[(0,W.jsxs)("div",{className:"Header",children:[(0,W.jsx)("div",{children:(0,W.jsx)("span",{className:"bold",children:"INTRODUCTION"})}),(0,W.jsxs)("div",{className:"right",children:[(0,W.jsx)("span",{className:"bold work",children:"WORK"}),(0,W.jsx)(H,{children:(0,W.jsx)("span",{className:"bold",children:"MORE"})})]})]}),(0,W.jsxs)("div",{className:"Con",children:[(0,W.jsxs)("div",{className:"first",children:[(0,W.jsx)("span",{children:"Experience"}),(0,W.jsx)(X,{className:"icon"})]}),(0,W.jsx)("div",{className:"second",children:(0,W.jsx)("span",{children:"design + draw"})}),(0,W.jsx)("div",{className:"third second",children:(0,W.jsx)("span",{children:"with AI"})}),(0,W.jsxs)("div",{className:"fourth",children:[(0,W.jsx)("div",{children:"An interactive and generative approach for Chinese landscape painting"}),(0,W.jsx)("div",{children:"Form sketch to Chinese landscape painting"})]}),(0,W.jsx)("div",{className:"fifth",children:(0,W.jsx)(K,{onClick:function(){e("/content/draw")},children:"TRY IT!"})})]})]})}function Y(e){return(0,W.jsxs)("div",{className:"Content",children:[(0,W.jsxs)("div",{className:"Header",children:[(0,W.jsxs)("div",{className:"center",children:[(0,W.jsx)(X,{className:"icon"}),(0,W.jsx)("span",{children:"Design and Draw with AI"})]}),(0,W.jsx)(H,{className:"more",children:"MORE"})]}),(0,W.jsx)("div",{className:"Con",children:(0,W.jsx)(w,{})})]})}function Q(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,a)}var J=n(7757),Z=n.n(J);function ee(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e){var n,r,a,o=t.createRef(),s=i((0,t.useState)([]),2),u=s[0],l=s[1],c=function(){var e=o.current;(n=o.current.getContext("2d")).lineWidth=4,n.strokeStyle="black",e.className="pen"},p=function(){var e=o.current;(n=o.current.getContext("2d")).lineWidth=15,n.strokeStyle="white",e.className="eraser"},f=function(){console.log("addTag");var e=v();100===u.length&&u.shift(),u.push(e),l(ee(u))},d=function(){if(console.log(u),u.length<=2)return!1;u.pop(),l(ee(u)),o.current.getContext("2d").putImageData(u[u.length-1],0,0)},h=function(){var e=o.current.getContext("2d");f(),e.fillStyle="white",e.fillRect(0,0,r,a)},v=function(){return n.getImageData(0,0,r,a)},m=function(){return o.current.toDataURL("image/png")},y=function(){return u[u.length-1].data};function g(){var e=m(),t=document.createElement("a");t.href=e,t.download="untitled.jpeg",document.body.appendChild(t),t.click()}return(0,t.useImperativeHandle)(e.onRef,(function(){return{Pen:c,Eraser:p,clear:h,toData:v,toImage:m,downloadImage:g,undo:d,getData:y}})),(0,t.useEffect)((function(){var e=o.current;n=o.current.getContext("2d"),r=e.width,a=e.height,n.lineJoin="round",c();var t=!1,i=0,s=0,u=!1;h(),f();var l=function(t){var r=.64*function(t){return"undefined"!==typeof t.targetTouches?t.targetTouches[0].pageX-e.offsetLeft:t.pageX-e.offsetLeft}(t),a=.64*function(t){return"undefined"!==typeof t.targetTouches?t.targetTouches[0].pageY-e.offsetTop:t.pageY-e.offsetTop}(t);n.beginPath(),u?n.moveTo(i,s):n.moveTo(r,a),n.lineTo(r,a),n.closePath(),n.stroke(),i=r,s=a,u=!0};e.addEventListener("mousedown",(function(e){e.preventDefault(),t=!0,l(e)})),e.addEventListener("mousemove",(function(e){t&&(e.preventDefault(),l(e))})),e.addEventListener("mouseleave",(function(e){u=!1})),document.addEventListener("mouseup",(function(e){t&&f(),t=!1,u=!1})),e.addEventListener("touchstart",(function(e){e.preventDefault(),t=!0,l(e)})),e.addEventListener("touchmove",(function(e){t&&(e.preventDefault(),l(e))})),document.addEventListener("touchend",(function(e){t=!1,u=!1})),document.addEventListener("touchcancel",(function(e){t=!1,u=!1}))}),[]),(0,W.jsx)("div",{className:"Canvas "+e.className,children:(0,W.jsx)("canvas",{width:e.width,height:e.height,ref:o,className:"canvas"})})}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}function ue(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function pe(e,t){if(t&&("object"===ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var a=le(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}var de=n(1694),he=n.n(de);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t){var n=me({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xe=(0,t.createContext)({});function we(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Ee(e){return e<=1?100*Number(e)+"%":e}function ke(e){return 1===e.length?"0"+e:String(e)}function Se(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ce(e){return Te(e)/255}function Te(e){return parseInt(e,16)}var Ae={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ne(e){var t,n,r,a={r:0,g:0,b:0},o=1,i=null,s=null,u=null,l=!1,c=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Ae[e])e=Ae[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Me.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Me.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Me.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Me.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Me.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Me.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Me.hex8.exec(e))return{r:Te(n[1]),g:Te(n[2]),b:Te(n[3]),a:Ce(n[4]),format:t?"name":"hex8"};if(n=Me.hex6.exec(e))return{r:Te(n[1]),g:Te(n[2]),b:Te(n[3]),format:t?"name":"hex"};if(n=Me.hex4.exec(e))return{r:Te(n[1]+n[1]),g:Te(n[2]+n[2]),b:Te(n[3]+n[3]),a:Ce(n[4]+n[4]),format:t?"name":"hex8"};if(n=Me.hex3.exec(e))return{r:Te(n[1]+n[1]),g:Te(n[2]+n[2]),b:Te(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(De(e.r)&&De(e.g)&&De(e.b)?(t=e.r,n=e.g,r=e.b,a={r:255*we(t,255),g:255*we(n,255),b:255*we(r,255)},l=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):De(e.h)&&De(e.s)&&De(e.v)?(i=Ee(e.s),s=Ee(e.v),a=function(e,t,n){e=6*we(e,360),t=we(t,100),n=we(n,100);var r=Math.floor(e),a=e-r,o=n*(1-t),i=n*(1-a*t),s=n*(1-(1-a)*t),u=r%6;return{r:255*[n,i,o,o,s,n][u],g:255*[s,n,n,i,o,o][u],b:255*[o,o,s,n,n,i][u]}}(e.h,i,s),l=!0,c="hsv"):De(e.h)&&De(e.s)&&De(e.l)&&(i=Ee(e.s),u=Ee(e.l),a=function(e,t,n){var r,a,o;if(e=we(e,360),t=we(t,100),n=we(n,100),0===t)a=n,o=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,s=2*n-i;r=Se(s,i,e+1/3),a=Se(s,i,e),o=Se(s,i,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,i,u),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(o),{ok:l,format:e.format||c,r:Math.min(255,Math.max(a.r,0)),g:Math.min(255,Math.max(a.g,0)),b:Math.min(255,Math.max(a.b,0)),a:o}}var _e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Oe="[\\s|\\(]+("+_e+")[,|\\s]+("+_e+")[,|\\s]+("+_e+")\\s*\\)?",Pe="[\\s|\\(]+("+_e+")[,|\\s]+("+_e+")[,|\\s]+("+_e+")[,|\\s]+("+_e+")\\s*\\)?",Me={CSS_UNIT:new RegExp(_e),rgb:new RegExp("rgb"+Oe),rgba:new RegExp("rgba"+Pe),hsl:new RegExp("hsl"+Oe),hsla:new RegExp("hsla"+Pe),hsv:new RegExp("hsv"+Oe),hsva:new RegExp("hsva"+Pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function De(e){return Boolean(Me.CSS_UNIT.exec(String(e)))}var Re=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ie(e){var t=function(e,t,n){e=we(e,255),t=we(t,255),n=we(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,i=r,s=r-a,u=0===r?0:s/r;if(r===a)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:i}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Le(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var a=[ke(Math.round(e).toString(16)),ke(Math.round(t).toString(16)),ke(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}(t,n,r,!1))}function Fe(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function ze(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Ue(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Be(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function je(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Ne(e),a=5;a>0;a-=1){var o=Ie(r),i=Le(Ne({h:ze(o,a,!0),s:Ue(o,a,!0),v:Be(o,a,!0)}));n.push(i)}n.push(Le(r));for(var s=1;s<=4;s+=1){var u=Ie(r),l=Le(Ne({h:ze(u,s),s:Ue(u,s),v:Be(u,s)}));n.push(l)}return"dark"===t.theme?Re.map((function(e){var r=e.index,a=e.opacity;return Le(Fe(Ne(t.backgroundColor||"#141414"),Ne(n[r]),100*a))})):n}var Ve={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ge={},We={};Object.keys(Ve).forEach((function(e){Ge[e]=je(Ve[e]),Ge[e].primary=Ge[e][5],We[e]=je(Ve[e],{theme:"dark",backgroundColor:"#141414"}),We[e].primary=We[e][5]}));Ge.red,Ge.volcano,Ge.gold,Ge.orange,Ge.yellow,Ge.lime,Ge.green,Ge.cyan,Ge.blue,Ge.geekblue,Ge.purple,Ge.magenta,Ge.grey;var qe={};function He(e,t){0}function Xe(e,t,n){t||qe[n]||(e(!1,n),qe[n]=!0)}var Ke=function(e,t){Xe(He,e,t)};function $e(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Ye="rc-util-key";function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Ye}function Je(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Ze(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!$e())return null;var r,a=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);a.innerHTML=e;var o=Je(n),i=o.firstChild;return n.prepend&&o.prepend?o.prepend(a):n.prepend&&i?o.insertBefore(a,i):o.appendChild(a),a}var et=new Map;function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Je(t);return Array.from(et.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Qe(t))===e}))}function nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Je(n);if(!et.has(r)){var a=Ze("",n),o=a.parentNode;et.set(r,o),o.removeChild(a)}var i=tt(t,n);if(i){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&i.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))i.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var c=Ze(e,n);return c.setAttribute(Qe(n),t),c}function rt(e){return"object"===ce(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===ce(e.icon)||"function"===typeof e.icon)}function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ot(e,n,r){return r?t.createElement(e.tag,me(me({key:n},at(e.attrs)),r),(e.children||[]).map((function(t,r){return ot(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,me({key:n},at(e.attrs)),(e.children||[]).map((function(t,r){return ot(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function it(e){return je(e)[0]}function st(e){return e?Array.isArray(e)?e:[e]:[]}var ut="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",lt=["icon","className","onClick","style","primaryColor","secondaryColor"],ct={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var pt=function(e){var n,r,a=e.icon,o=e.className,i=e.onClick,s=e.style,u=e.primaryColor,l=e.secondaryColor,c=be(e,lt),p=ct;if(u&&(p={primaryColor:u,secondaryColor:l||it(u)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,n=(0,t.useContext)(xe).csp;(0,t.useEffect)((function(){nt(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=rt(a),r="icon should be icon definiton, but got ".concat(a),Ke(n,"[@ant-design/icons] ".concat(r)),!rt(a))return null;var f=a;return f&&"function"===typeof f.icon&&(f=me(me({},f),{},{icon:f.icon(p.primaryColor,p.secondaryColor)})),ot(f.icon,"svg-".concat(f.name),me({className:o,onClick:i,style:s,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},c))};pt.displayName="IconReact",pt.getTwoToneColors=function(){return me({},ct)},pt.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ct.primaryColor=t,ct.secondaryColor=n||it(t),ct.calculated=!!n};var ft=pt;function dt(e){var t=i(st(e),2),n=t[0],r=t[1];return ft.setTwoToneColors({primaryColor:n,secondaryColor:r})}var ht=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];dt("#1890ff");var vt=t.forwardRef((function(e,n){var r,a=e.className,o=e.icon,s=e.spin,u=e.rotate,l=e.tabIndex,c=e.onClick,p=e.twoToneColor,f=be(e,ht),d=t.useContext(xe).prefixCls,h=void 0===d?"anticon":d,v=he()(h,(ne(r={},"".concat(h,"-").concat(o.name),!!o.name),ne(r,"".concat(h,"-spin"),!!s||"loading"===o.name),r),a),m=l;void 0===m&&c&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=i(st(p),2),b=g[0],x=g[1];return t.createElement("span",me(me({role:"img","aria-label":o.name},f),{},{ref:n,tabIndex:m,onClick:c,className:v}),t.createElement(ft,{icon:o,primaryColor:b,secondaryColor:x,style:y}))}));vt.displayName="AntdIcon",vt.getTwoToneColor=function(){var e=ft.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},vt.setTwoToneColor=dt;var mt=vt,yt=function(e,n){return t.createElement(mt,me(me({},e),{},{ref:n,icon:ge}))};yt.displayName="CloseOutlined";var gt=t.forwardRef(yt),bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},xt=function(e,n){return t.createElement(mt,me(me({},e),{},{ref:n,icon:bt}))};xt.displayName="CheckOutlined";var wt=t.forwardRef(xt),Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},kt=function(e,n){return t.createElement(mt,me(me({},e),{},{ref:n,icon:Et}))};kt.displayName="CheckCircleFilled";var St=t.forwardRef(kt),Ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Tt=function(e,n){return t.createElement(mt,me(me({},e),{},{ref:n,icon:Ct}))};Tt.displayName="CloseCircleFilled";var At=t.forwardRef(Tt),Nt={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},_t={lang:s({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:s({},Nt)},Ot="${label} is not a valid ${type}",Pt={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:_t,TimePicker:Nt,Calendar:_t,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ot,method:Ot,array:Ot,object:Ot,number:Ot,date:Ot,boolean:Ot,integer:Ot,float:Ot,regexp:Ot,email:Ot,url:Ot,hex:Ot},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Mt=(0,t.createContext)(void 0),Dt=function(e){ue(n,e);var t=fe(n);function n(){return re(this,n),t.apply(this,arguments)}return oe(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||Pt[null!==t&&void 0!==t?t:"global"],r=this.context,a=t&&r?r[t]:{};return s(s({},n instanceof Function?n():n),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?Pt.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(t.Component);Dt.defaultProps={componentName:"global"},Dt.contextType=Mt;var Rt=function(){var e=(0,t.useContext(Vt).getPrefixCls)("empty-img-default");return t.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),t.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),t.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),t.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),t.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),t.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},It=function(){var e=(0,t.useContext(Vt).getPrefixCls)("empty-img-simple");return t.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},Lt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ft=t.createElement(Rt,null),zt=t.createElement(It,null),Ut=function(e){var n=e.className,r=e.prefixCls,a=e.image,o=void 0===a?Ft:a,i=e.description,u=e.children,l=e.imageStyle,c=Lt(e,["className","prefixCls","image","description","children","imageStyle"]),p=t.useContext(Vt),f=p.getPrefixCls,d=p.direction;return t.createElement(Dt,{componentName:"Empty"},(function(e){var a,p=f("empty",r),h="undefined"!==typeof i?i:e.description,v="string"===typeof h?h:"empty",m=null;return m="string"===typeof o?t.createElement("img",{alt:v,src:o}):o,t.createElement("div",s({className:he()(p,(a={},ne(a,"".concat(p,"-normal"),o===zt),ne(a,"".concat(p,"-rtl"),"rtl"===d),a),n)},c),t.createElement("div",{className:"".concat(p,"-image"),style:l},m),h&&t.createElement("div",{className:"".concat(p,"-description")},h),u&&t.createElement("div",{className:"".concat(p,"-footer")},u))}))};Ut.PRESENTED_IMAGE_DEFAULT=Ft,Ut.PRESENTED_IMAGE_SIMPLE=zt;var Bt=Ut,jt=function(e){return t.createElement(Gt,null,(function(n){var r=(0,n.getPrefixCls)("empty");switch(e){case"Table":case"List":return t.createElement(Bt,{image:Bt.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(Bt,{image:Bt.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return t.createElement(Bt,null)}}))},Vt=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:jt}),Gt=Vt.Consumer;var Wt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},qt=function(e,t,n){Ke(e,"[antd: ".concat(t,"] ").concat(n))};function Ht(e){return!e||e<0?0:e>100?100:e}function Xt(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(qt(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),n=t.progress),t&&"percent"in t&&(n=t.percent),n}var Kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},$t=function(e,t){var n=e.from,r=void 0===n?Ve.blue:n,a=e.to,o=void 0===a?Ve.blue:a,i=e.direction,s=void 0===i?"rtl"===t?"to left":"to right":i,u=Kt(e,["from","to","direction"]);if(0!==Object.keys(u).length){var l=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(u);return{backgroundImage:"linear-gradient(".concat(s,", ").concat(l,")")}}return{backgroundImage:"linear-gradient(".concat(s,", ").concat(r,", ").concat(o,")")}},Yt=function(e){var n=e.prefixCls,r=e.direction,a=e.percent,o=e.strokeWidth,i=e.size,u=e.strokeColor,l=e.strokeLinecap,c=e.children,p=e.trailColor,f=e.success,d=u&&"string"!==typeof u?$t(u,r):{background:u},h=p?{backgroundColor:p}:void 0,v=s({width:"".concat(Ht(a),"%"),height:o||("small"===i?6:8),borderRadius:"square"===l?0:""},d),m=Xt(e),y={width:"".concat(Ht(m),"%"),height:o||("small"===i?6:8),borderRadius:"square"===l?0:"",backgroundColor:null===f||void 0===f?void 0:f.strokeColor},g=void 0!==m?t.createElement("div",{className:"".concat(n,"-success-bg"),style:y}):null;return t.createElement(t.Fragment,null,t.createElement("div",{className:"".concat(n,"-outer")},t.createElement("div",{className:"".concat(n,"-inner"),style:h},t.createElement("div",{className:"".concat(n,"-bg"),style:v}),g)),c)},Qt={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},Jt=function(e){var n=e.map((function(){return(0,t.useRef)()})),r=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=Date.now(),t=!1;Object.keys(n).forEach((function(a){var o=n[a].current;if(o){t=!0;var i=o.style;i.transitionDuration=".3s, .3s, .3s, .06s",r.current&&e-r.current<100&&(i.transitionDuration="0s, 0s")}})),t&&(r.current=Date.now())})),[n]},Zt=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],en=function(e){var n=e.className,r=e.percent,a=e.prefixCls,o=e.strokeColor,u=e.strokeLinecap,l=e.strokeWidth,c=e.style,p=e.trailColor,f=e.trailWidth,d=e.transition,h=be(e,Zt);delete h.gapPosition;var v=Array.isArray(r)?r:[r],m=Array.isArray(o)?o:[o],y=i(Jt(v),1)[0],g=l/2,b=100-l/2,x="M ".concat("round"===u?g:0,",").concat(g,"\n         L ").concat("round"===u?b:100,",").concat(g),w="0 0 100 ".concat(l),E=0;return t.createElement("svg",s({className:he()("".concat(a,"-line"),n),viewBox:w,preserveAspectRatio:"none",style:c},h),t.createElement("path",{className:"".concat(a,"-line-trail"),d:x,strokeLinecap:u,stroke:p,strokeWidth:f||l,fillOpacity:"0"}),v.map((function(e,n){var r=1;switch(u){case"round":r=1-l/100;break;case"square":r=1-l/2/100;break;default:r=1}var o={strokeDasharray:"".concat(e*r,"px, 100px"),strokeDashoffset:"-".concat(E,"px"),transition:d||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},i=m[n]||m[m.length-1];return E+=e,t.createElement("path",{key:n,className:"".concat(a,"-line-path"),d:x,strokeLinecap:u,stroke:i,strokeWidth:l,fillOpacity:"0",ref:y[n],style:o})})))};en.defaultProps=Qt,en.displayName="Line";var tn=0,nn=$e();var rn=function(e){var n=i(t.useState(),2),r=n[0],a=n[1];return t.useEffect((function(){a("rc_progress_".concat(function(){var e;return nn?(e=tn,tn+=1):e="TEST_OR_SSR",e}()))}),[]),e||r},an=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function on(e){return+e.replace("%","")}function sn(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}function un(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,i=50-r/2,s=0,u=-i,l=0,c=-2*i;switch(o){case"left":s=-i,u=0,l=2*i,c=0;break;case"right":s=i,u=0,l=-2*i,c=0;break;case"bottom":u=i,c=2*i}var p="M 50,50 m ".concat(s,",").concat(u,"\n   a ").concat(i,",").concat(i," 0 1 1 ").concat(l,",").concat(-c,"\n   a ").concat(i,",").concat(i," 0 1 1 ").concat(-l,",").concat(c),f=2*Math.PI*i,d={stroke:"string"===typeof n?n:void 0,strokeDasharray:"".concat(t/100*(f-a),"px ").concat(f,"px"),strokeDashoffset:"-".concat(a/2+e/100*(f-a),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:p,pathStyle:d}}var ln=function(e){var n=e.id,r=e.prefixCls,a=e.strokeWidth,o=e.trailWidth,u=e.gapDegree,l=e.gapPosition,c=e.trailColor,p=e.strokeLinecap,f=e.style,d=e.className,h=e.strokeColor,v=e.percent,m=be(e,an),y=rn(n),g="".concat(y,"-gradient"),b=un(0,100,c,a,u,l),x=b.pathString,w=b.pathStyle,E=sn(v),k=sn(h),S=k.find((function(e){return e&&"object"===ce(e)})),C=i(Jt(E),1)[0];return t.createElement("svg",s({className:he()("".concat(r,"-circle"),d),viewBox:"0 0 100 100",style:f,id:n},m),S&&t.createElement("defs",null,t.createElement("linearGradient",{id:g,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(S).sort((function(e,t){return on(e)-on(t)})).map((function(e,n){return t.createElement("stop",{key:n,offset:e,stopColor:S[e]})})))),t.createElement("path",{className:"".concat(r,"-circle-trail"),d:x,stroke:c,strokeLinecap:p,strokeWidth:o||a,fillOpacity:"0",style:w}),function(){var e=0;return E.map((function(n,o){var i=k[o]||k[k.length-1],s=i&&"object"===ce(i)?"url(#".concat(g,")"):"",c=un(e,n,i,a,u,l);return e+=n,t.createElement("path",{key:o,className:"".concat(r,"-circle-path"),d:c.pathString,stroke:s,strokeLinecap:p,strokeWidth:a,opacity:0===n?0:1,fillOpacity:"0",style:c.pathStyle,ref:C[o]})}))}().reverse())};ln.defaultProps=Qt,ln.displayName="Circle";var cn=ln;function pn(e){var t=e.percent,n=Ht(Xt({success:e.success,successPercent:e.successPercent}));return[n,Ht(Ht(t)-n)]}var fn=function(e){var n=e.prefixCls,r=e.width,a=e.strokeWidth,o=e.trailColor,i=e.strokeLinecap,s=e.gapPosition,u=e.gapDegree,l=e.type,c=e.children,p=e.success,f=r||120,d={width:f,height:f,fontSize:.15*f+6},h=a||6,v=s||"dashboard"===l&&"bottom"||"top",m="[object Object]"===Object.prototype.toString.call(e.strokeColor),y=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||Ve.green,r||null]}({success:p,strokeColor:e.strokeColor}),g=he()("".concat(n,"-inner"),ne({},"".concat(n,"-circle-gradient"),m));return t.createElement("div",{className:g,style:d},t.createElement(cn,{percent:pn(e),strokeWidth:h,trailWidth:h,strokeColor:y,strokeLinecap:i,trailColor:o,prefixCls:n,gapDegree:u||0===u?u:"dashboard"===l?75:void 0,gapPosition:v}),c)},dn=function(e){for(var n=e.size,r=e.steps,a=e.percent,o=void 0===a?0:a,i=e.strokeWidth,s=void 0===i?8:i,u=e.strokeColor,l=e.trailColor,c=e.prefixCls,p=e.children,f=Math.round(r*(o/100)),d="small"===n?2:14,h=[],v=0;v<r;v+=1)h.push(t.createElement("div",{key:v,className:he()("".concat(c,"-steps-item"),ne({},"".concat(c,"-steps-item-active"),v<=f-1)),style:{backgroundColor:v<=f-1?u:l,width:d,height:s}}));return t.createElement("div",{className:"".concat(c,"-steps-outer")},h,p)},hn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},vn=(Wt("line","circle","dashboard"),Wt("normal","exception","active","success")),mn=function(e){ue(r,e);var n=fe(r);function r(){var e;return re(this,r),(e=n.apply(this,arguments)).renderProgress=function(n){var r,a,o=n.getPrefixCls,i=n.direction,u=ie(e).props,l=u.prefixCls,c=u.className,p=u.size,f=u.type,d=u.steps,h=u.showInfo,v=u.strokeColor,m=hn(u,["prefixCls","className","size","type","steps","showInfo","strokeColor"]),y=o("progress",l),g=e.getProgressStatus(),b=e.renderProcessInfo(y,g);qt(!("successPercent"in u),"Progress","`successPercent` is deprecated. Please use `success.percent` instead."),"line"===f?a=d?t.createElement(dn,s({},e.props,{strokeColor:"string"===typeof v?v:void 0,prefixCls:y,steps:d}),b):t.createElement(Yt,s({},e.props,{prefixCls:y,direction:i}),b):"circle"!==f&&"dashboard"!==f||(a=t.createElement(fn,s({},e.props,{prefixCls:y,progressStatus:g}),b));var x=he()(y,(ne(r={},"".concat(y,"-").concat(("dashboard"===f?"circle":d&&"steps")||f),!0),ne(r,"".concat(y,"-status-").concat(g),!0),ne(r,"".concat(y,"-show-info"),h),ne(r,"".concat(y,"-").concat(p),p),ne(r,"".concat(y,"-rtl"),"rtl"===i),r),c);return t.createElement("div",s({},ye(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","percent","success","successPercent"]),{className:x}),a)},e}return oe(r,[{key:"getPercentNumber",value:function(){var e=this.props.percent,t=void 0===e?0:e,n=Xt(this.props);return parseInt(void 0!==n?n.toString():t.toString(),10)}},{key:"getProgressStatus",value:function(){var e=this.props.status;return vn.indexOf(e)<0&&this.getPercentNumber()>=100?"success":e||"normal"}},{key:"renderProcessInfo",value:function(e,n){var r,a=this.props,o=a.showInfo,i=a.format,s=a.type,u=a.percent,l=Xt(this.props);if(!o)return null;var c="line"===s;return i||"exception"!==n&&"success"!==n?r=(i||function(e){return"".concat(e,"%")})(Ht(u),Ht(l)):"exception"===n?r=c?t.createElement(At,null):t.createElement(gt,null):"success"===n&&(r=c?t.createElement(St,null):t.createElement(wt,null)),t.createElement("span",{className:"".concat(e,"-text"),title:"string"===typeof r?r:void 0},r)}},{key:"render",value:function(){return t.createElement(Gt,null,this.renderProgress)}}]),r}(t.Component);mn.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:void 0,strokeLinecap:"round"};var yn=mn,gn=function(e){ue(r,e);var n=fe(r);function r(e){var t;re(this,r),(t=n.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,a=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),a&&a({target:me(me({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var a="checked"in e?e.checked:e.defaultChecked;return t.state={checked:a},t}return oe(r,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,a=n.className,o=n.style,i=n.name,u=n.id,l=n.type,c=n.disabled,p=n.readOnly,f=n.tabIndex,d=n.onClick,h=n.onFocus,v=n.onBlur,m=n.onKeyDown,y=n.onKeyPress,g=n.onKeyUp,b=n.autoFocus,x=n.value,w=n.required,E=be(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),k=Object.keys(E).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=E[t]),e}),{}),S=this.state.checked,C=he()(r,a,(ne(e={},"".concat(r,"-checked"),S),ne(e,"".concat(r,"-disabled"),c),e));return t.createElement("span",{className:C,style:o},t.createElement("input",s({name:i,id:u,type:l,required:w,readOnly:p,disabled:c,tabIndex:f,className:"".concat(r,"-input"),checked:!!S,onClick:d,onFocus:h,onBlur:v,onKeyUp:g,onKeyDown:m,onKeyPress:y,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:x},k)),t.createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?me(me({},t),{},{checked:e.checked}):null}}]),r}(t.Component);gn.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var bn=gn,xn=n(7441);function wn(e,t){"function"===typeof e?e(t):"object"===ce(e)&&e&&"current"in e&&(e.current=t)}function En(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){wn(t,e)}))}}var kn=t.createContext(null),Sn=kn.Provider,Cn=kn,Tn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},An=function(e,n){var r,a=t.useContext(Cn),o=t.useContext(Vt),i=o.getPrefixCls,u=o.direction,l=En(n,t.useRef());t.useEffect((function(){qt(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var c=e.prefixCls,p=e.className,f=e.children,d=e.style,h=Tn(e,["prefixCls","className","children","style"]),v=i("radio",c),m=s({},h);a&&(m.name=a.name,m.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===a||void 0===a?void 0:a.onChange)||void 0===r||r.call(a,t)},m.checked=e.value===a.value,m.disabled=e.disabled||a.disabled);var y=he()("".concat(v,"-wrapper"),(ne(r={},"".concat(v,"-wrapper-checked"),m.checked),ne(r,"".concat(v,"-wrapper-disabled"),m.disabled),ne(r,"".concat(v,"-wrapper-rtl"),"rtl"===u),r),p);return t.createElement("label",{className:y,style:d,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},t.createElement(bn,s({},m,{type:"radio",prefixCls:v,ref:l})),void 0!==f?t.createElement("span",null,f):null)},Nn=t.forwardRef(An);Nn.displayName="Radio";var _n=Nn;function On(e,n){var r=n||{},a=r.defaultValue,o=r.value,s=r.onChange,u=r.postState,l=function(e){var n=t.useRef(!1),r=i(t.useState(e),2),a=r[0],o=r[1];return t.useEffect((function(){return function(){n.current=!0}}),[]),[a,function(e,t){t&&n.current||o(e)}]}((function(){return void 0!==o?o:void 0!==a?"function"===typeof a?a():a:"function"===typeof e?e():e})),c=i(l,2),p=c[0],f=c[1],d=void 0!==o?o:p;u&&(d=u(d));var h=t.useRef(s);h.current=s;var v=t.useCallback((function(e,t){f(e,t),d!==e&&h.current&&h.current(e,d)}),[d,h]),m=t.useRef(!0);return t.useEffect((function(){m.current?m.current=!1:void 0===o&&f(o)}),[o]),[d,v]}var Pn=t.createContext(void 0),Mn=Pn;var Dn=t.forwardRef((function(e,n){var r=t.useContext(Vt),a=r.getPrefixCls,o=r.direction,u=t.useContext(Mn),l=i(On(e.defaultValue,{value:e.value}),2),c=l[0],p=l[1];return t.createElement(Sn,{value:{onChange:function(t){var n=c,r=t.target.value;"value"in e||p(r);var a=e.onChange;a&&r!==n&&a(t)},value:c,disabled:e.disabled,name:e.name}},function(){var r,i=e.prefixCls,l=e.className,p=void 0===l?"":l,f=e.options,d=e.optionType,h=e.buttonStyle,v=void 0===h?"outline":h,m=e.disabled,y=e.children,g=e.size,b=e.style,x=e.id,w=e.onMouseEnter,E=e.onMouseLeave,k=a("radio",i),S="".concat(k,"-group"),C=y;if(f&&f.length>0){var T="button"===d?"".concat(k,"-button"):k;C=f.map((function(e){return"string"===typeof e||"number"===typeof e?t.createElement(_n,{key:e.toString(),prefixCls:T,disabled:m,value:e,checked:c===e},e):t.createElement(_n,{key:"radio-group-value-options-".concat(e.value),prefixCls:T,disabled:e.disabled||m,value:e.value,checked:c===e.value,style:e.style},e.label)}))}var A=g||u,N=he()(S,"".concat(S,"-").concat(v),(ne(r={},"".concat(S,"-").concat(A),A),ne(r,"".concat(S,"-rtl"),"rtl"===o),r),p);return t.createElement("div",s({},function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}(e),{className:N,style:b,onMouseEnter:w,onMouseLeave:E,id:x,ref:n}),C)}())})),Rn=t.memo(Dn),In=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ln=function(e,n){var r=t.useContext(Cn),a=t.useContext(Vt).getPrefixCls,o=e.prefixCls,i=In(e,["prefixCls"]),u=a("radio-button",o);return r&&(i.checked=e.value===r.value,i.disabled=e.disabled||r.disabled),t.createElement(_n,s({prefixCls:u},i,{type:"radio",ref:n}))},Fn=t.forwardRef(Ln),zn=_n;zn.Button=Fn,zn.Group=Rn;var Un=zn;function Bn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Bn(e)):(0,xn.isFragment)(e)&&e.props?r=r.concat(Bn(e.props.children,n)):r.push(e))})),r}function jn(e){var n=e.className,r=e.direction,a=e.index,o=e.marginDirection,i=e.children,u=e.split,l=e.wrap,c=t.useContext(qn),p=c.horizontalSize,f=c.verticalSize,d=c.latestIndex,h={};return c.supportFlexGap||("vertical"===r?a<d&&(h={marginBottom:p/(u?2:1)}):h=s(s({},a<d&&ne({},o,p/(u?2:1))),l&&{paddingBottom:f})),null===i||void 0===i?null:t.createElement(t.Fragment,null,t.createElement("div",{className:n,style:h},i),a<d&&u&&t.createElement("span",{className:"".concat(n,"-split"),style:h},u))}var Vn,Gn=function(){if(!$e()||!window.document.documentElement)return!1;if(void 0!==Vn)return Vn;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Vn=1===e.scrollHeight,document.body.removeChild(e),Vn},Wn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},qn=t.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),Hn={small:8,middle:16,large:24};var Xn=function(e){var n,r=t.useContext(Vt),a=r.getPrefixCls,o=r.space,u=r.direction,l=e.size,c=void 0===l?(null===o||void 0===o?void 0:o.size)||"small":l,p=e.align,f=e.className,d=e.children,h=e.direction,v=void 0===h?"horizontal":h,m=e.prefixCls,y=e.split,g=e.style,b=e.wrap,x=void 0!==b&&b,w=Wn(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),E=function(){var e=i(t.useState(!1),2),n=e[0],r=e[1];return t.useEffect((function(){r(Gn())}),[]),n}(),k=i(t.useMemo((function(){return(Array.isArray(c)?c:[c,c]).map((function(e){return function(e){return"string"===typeof e?Hn[e]:e||0}(e)}))}),[c]),2),S=k[0],C=k[1],T=Bn(d,{keepEmpty:!0}),A=void 0===p&&"horizontal"===v?"center":p,N=a("space",m),_=he()(N,"".concat(N,"-").concat(v),(ne(n={},"".concat(N,"-rtl"),"rtl"===u),ne(n,"".concat(N,"-align-").concat(A),A),n),f),O="".concat(N,"-item"),P="rtl"===u?"marginLeft":"marginRight",M=0,D=T.map((function(e,n){null!==e&&void 0!==e&&(M=n);var r=e&&e.key;return t.createElement(jn,{className:O,key:"".concat(O,"-").concat(r||n),direction:v,index:n,marginDirection:P,split:y,wrap:x},e)})),R=t.useMemo((function(){return{horizontalSize:S,verticalSize:C,latestIndex:M,supportFlexGap:E}}),[S,C,M,E]);if(0===T.length)return null;var I={};return x&&(I.flexWrap="wrap",E||(I.marginBottom=-C)),E&&(I.columnGap=S,I.rowGap=C),t.createElement("div",s({className:_,style:s(s({},I),g)},w),t.createElement(qn.Provider,{value:R},D))};function Kn(e){var n=t.createRef(),r=i((0,t.useState)(1),2),a=r[0],o=r[1],s=A(),u=e.fetch_weights,l=i((0,t.useState)(0),2),c=l[0],p=l[1],f=i((0,t.useState)("none"),2),d=f[0],h=f[1],v=function(){var e,t=(e=Z().mark((function e(){var t;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.current.getData(),h("block"),e.next=4,u("/modules/qj_model.pict");case 4:return p(30),e.next=7,u("/modules/ql_model.pict");case 7:return p(60),e.next=10,u("/modules/sm_model.pict");case 10:p(90),s("/content/show",{state:t});case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,s,"next",e)}function s(e){Q(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,W.jsxs)("div",{className:"Draw",children:[(0,W.jsx)(te,{className:"canvas",width:"256px",height:"256px",onRef:n}),(0,W.jsx)(yn,{percent:c,status:"active",className:"progress",style:{display:d}}),(0,W.jsxs)("div",{className:"buttons",children:[(0,W.jsx)(K,{onClick:function(){n.current.undo()},children:"Undo"}),(0,W.jsx)(K,{onClick:v,children:"Process"}),(0,W.jsx)(K,{onClick:function(){},children:"Random"})]}),(0,W.jsxs)("div",{className:"tool",children:[(0,W.jsx)("span",{children:"Choose a Tool"}),(0,W.jsx)("div",{className:"input",children:(0,W.jsx)(Un.Group,{onChange:function(e){var t=e.target.value;console.log(t),o(t),1===t?n.current.Pen():2===t&&n.current.Eraser()},value:a,children:(0,W.jsxs)(Xn,{direction:"vertical",children:[(0,W.jsx)(Un,{value:2,children:"Eraser"}),(0,W.jsx)(Un,{value:1,children:"Line"})]})})})]})]})}var $n=n(8573),Yn=n.n($n),Qn=t.isValidElement;function Jn(e,n){return function(e,n,r){return Qn(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}var Zn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},er=(Wt("small","default","large"),null);var tr=function(e){ue(r,e);var n=fe(r);function r(e){var a;re(this,r),(a=n.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||a.props).delay;t&&(a.cancelExistingSpin(),a.updateSpinning=Yn()(a.originalUpdateSpinning,t))},a.updateSpinning=function(){var e=a.props.spinning;a.state.spinning!==e&&a.setState({spinning:e})},a.renderSpin=function(e){var n,r=e.getPrefixCls,o=e.direction,i=a.props,u=i.prefixCls,l=i.className,c=i.size,p=i.tip,f=i.wrapperClassName,d=i.style,h=Zn(i,["prefixCls","className","size","tip","wrapperClassName","style"]),v=a.state.spinning,m=r("spin",u),y=he()(m,(ne(n={},"".concat(m,"-sm"),"small"===c),ne(n,"".concat(m,"-lg"),"large"===c),ne(n,"".concat(m,"-spinning"),v),ne(n,"".concat(m,"-show-text"),!!p),ne(n,"".concat(m,"-rtl"),"rtl"===o),n),l),g=ye(h,["spinning","delay","indicator"]),b=t.createElement("div",s({},g,{style:d,className:y}),function(e,n){var r=n.indicator,a="".concat(e,"-dot");return null===r?null:Qn(r)?Jn(r,{className:he()(r.props.className,a)}):Qn(er)?Jn(er,{className:he()(er.props.className,a)}):t.createElement("span",{className:he()(a,"".concat(e,"-dot-spin"))},t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}))}(m,a.props),p?t.createElement("div",{className:"".concat(m,"-text")},p):null);if(a.isNestedPattern()){var x=he()("".concat(m,"-container"),ne({},"".concat(m,"-blur"),v));return t.createElement("div",s({},g,{className:he()("".concat(m,"-nested-loading"),f)}),v&&t.createElement("div",{key:"loading"},b),t.createElement("div",{className:x,key:"container"},a.props.children))}return b};var o=e.spinning,i=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(o,e.delay);return a.state={spinning:o&&!i},a.originalUpdateSpinning=a.updateSpinning,a.debouncifyUpdateSpinning(e),a}return oe(r,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return t.createElement(Gt,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){er=e}}]),r}(t.Component);tr.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var nr=tr,rr=n(5699),ar=n(2221);function or(e){var n=this,r=A(),a=T().state,o=i((0,t.useState)(!1),2),s=o[0],u=o[1],l=e.weights_cache,c=e.setWeights_cache,p=i((0,t.useState)(),2),f=p[0],d=p[1],h=i((0,t.useState)(),2),v=h[0],m=h[1],y=i((0,t.useState)(),2),g=y[0],b=y[1];(0,t.useEffect)((function(){setTimeout((function(){x(a,"/modules/qj_model.pict")}),0),setTimeout((function(){x(a,"/modules/ql_model.pict")}),0),setTimeout((function(){x(a,"/modules/sm_model.pict")}),0)}),[]);var x=function(e,t){var r;(r=t,new Promise((function(e,t){if(r in l)e(l[r]);else{var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(a){if(200==n.status){var o=n.response;if(o){for(var i=[],s=0;s<o.byteLength;){var u=new Uint8Array(o.slice(s,s+4));s+=4;var p=(u[0]<<24)+(u[1]<<16)+(u[2]<<8)+u[3];i.push(o.slice(s,s+p)),s+=p}for(var f=JSON.parse(new TextDecoder("utf8").decode(i[0])),d=new Float32Array(i[1]),h=new Uint8Array(i[2]),v=new Float32Array(h.length),m=0;m<v.length;m++)v[m]=d[h[m]];var y={};for(s=0,m=0;m<f.length;m++){var g=f[m].shape,b=g.reduce((function(e,t){return e*t})),x=v.slice(s,s+b),w=rr.vF.new(x,"float32");y[f[m].name]=w.reshape(g),s+=b}l[r]=y,e(y),c(l)}else t("invalid arraybuffer")}else t("missing model")},n.send(null)}}))).then((function(e){var n;n=function(){var n=256,r=a,o=Float32Array.from(r,(function(e){return e/255})),i=rr.Vi.math;i.startScope();var s=rr._6.new([n,n,4],o,"float32"),u=function(e,t){var n=rr.Vi.math;function r(e,t,r){var a=n.moments(e,[0,1]);return n.batchNormalization3D(e,a.mean,a.variance,1e-5,t,r)}function a(e,t,r){return n.conv2d(e,t,r,[2,2],"same")}function o(e,t,r){var a=n.conv2dTranspose(e,t,[2*e.shape[0],2*e.shape[1],t.shape[2]],[2,2],"same");return n.add(a,r)}var i=function(e){return n.subtract(n.multiply(e,rr.Ru.new(2)),rr.Ru.new(1))}(e),s=[],u=a(i,c=t["generator/encoder_1/conv2d/kernel"],p=t["generator/encoder_1/conv2d/bias"]);s.push(u);for(var l=2;l<=8;l++){var c=t[(v="generator/encoder_"+l.toString())+"/conv2d/kernel"],p=t[v+"/conv2d/bias"],f=s[s.length-1],d=r(u=a(m=n.leakyRelu(f,.2),c,p),t[v+"/batch_normalization/gamma"],t[v+"/batch_normalization/beta"]);s.push(d)}for(l=8;l>=2;l--){if(8==l)f=s[s.length-1];else{var h=l-1;f=n.concat3D(s[s.length-1],s[h],2)}var v;d=r(u=o(m=n.relu(f),c=t[(v="generator/decoder_"+l.toString())+"/conv2d_transpose/kernel"],p=t[v+"/conv2d_transpose/bias"]),t[v+"/batch_normalization/gamma"],t[v+"/batch_normalization/beta"]),s.push(d)}f=n.concat3D(s[s.length-1],s[0],2),u=o(m=n.relu(f),c=t["generator/decoder_1/conv2d_transpose/kernel"],p=t["generator/decoder_1/conv2d_transpose/bias"]);var m=n.tanh(u);s.push(m);var y=function(e){return n.divide(n.add(e,rr.Ru.new(1)),rr.Ru.new(2))}(s[s.length-1]);return y}(i.slice3D(s,[0,0,0],[n,n,3]),e),l=rr._6.ones([n,n,1]);i.concat3D(u,l,2).getValuesAsync().then((function(e){var r=Uint8ClampedArray.from(e,(function(e){return 255*e}));!function(e){var n=document.createElement("canvas"),r=n.getContext("2d");n.width=e.width,n.height=e.height,r.putImageData(e,0,0);var a=n.toDataURL();"/modules/qj_model.pict"===t?d(a):"/modules/ql_model.pict"===t?m(a):"/modules/sm_model.pict"===t&&b(a)}(new ImageData(r,n,n))}))},setTimeout(n,0)}),(function(e){n.last_failure=e,n.progress=null}))};return(0,W.jsx)("div",{className:"Show",children:(0,W.jsxs)(Xn,{direction:"vertical",children:[(0,W.jsxs)(Xn,{size:60,className:"box",style:{width:"100%"},children:[(0,W.jsxs)("div",{className:"item",children:[(0,W.jsx)("div",{className:"image",children:(0,W.jsx)(nr,{spinning:!f,style:{width:250,height:250},indicator:(0,W.jsx)("img",{style:{width:"100%",height:"100%",position:"relative",top:0,left:0,margin:0},src:ar}),children:(0,W.jsx)("img",{src:f,alt:""})})}),(0,W.jsx)("span",{children:"Water-ink"})]}),(0,W.jsxs)("div",{className:"item",children:[(0,W.jsx)("div",{className:"image",children:(0,W.jsx)("div",{className:"image",children:(0,W.jsx)(nr,{spinning:!v,style:{width:250,height:250},indicator:(0,W.jsx)("img",{style:{width:"100%",height:"100%",position:"relative",top:0,left:0,margin:0},src:ar}),children:(0,W.jsx)("img",{src:v,alt:""})})})}),(0,W.jsx)("span",{children:"Blue-green"})]}),(0,W.jsxs)("div",{className:"item",children:[(0,W.jsx)("div",{className:"image",children:(0,W.jsx)("div",{className:"image",children:(0,W.jsx)(nr,{spinning:!g,style:{width:250,height:250},indicator:(0,W.jsx)("img",{style:{width:"100%",height:"100%",position:"relative",top:0,left:0,margin:0},src:ar}),children:(0,W.jsx)("img",{src:g,alt:""})})})}),(0,W.jsx)("span",{children:"light crimson"})]})]}),(0,W.jsx)("div",{className:"Buttons",children:(0,W.jsxs)(Xn,{size:60,children:[(0,W.jsx)(K,{onClick:function(){r("/content/draw")},children:"Try again!"}),(0,W.jsx)(K,{onClick:function(){u(!s)},children:"Type in ur email"})]})})]})})}var ir=function(){var e=i((0,t.useState)({}),2),n=e[0],r=e[1];return(0,W.jsx)("div",{className:"App",children:(0,W.jsxs)(S,{children:[(0,W.jsx)(E,{path:"/",element:(0,W.jsx)($,{})}),(0,W.jsxs)(E,{path:"content",element:(0,W.jsx)(Y,{}),children:[(0,W.jsx)(E,{index:!0,path:"draw",element:(0,W.jsx)(Kn,{fetch_weights:function(e){return new Promise((function(t,a){if(e in n)t(n[e]);else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(i){if(200==o.status){var s=o.response;if(s){for(var u=[],l=0;l<s.byteLength;){var c=new Uint8Array(s.slice(l,l+4));l+=4;var p=(c[0]<<24)+(c[1]<<16)+(c[2]<<8)+c[3];u.push(s.slice(l,l+p)),l+=p}for(var f=JSON.parse(new TextDecoder("utf8").decode(u[0])),d=new Float32Array(u[1]),h=new Uint8Array(u[2]),v=new Float32Array(h.length),m=0;m<v.length;m++)v[m]=d[h[m]];var y={};for(l=0,m=0;m<f.length;m++){var g=f[m].shape,b=g.reduce((function(e,t){return e*t})),x=v.slice(l,l+b),w=rr.vF.new(x,"float32");y[f[m].name]=w.reshape(g),l+=b}n[e]=y,t(y),r(n)}else a("invalid arraybuffer")}else a("missing model")},o.send(null)}}))}})}),(0,W.jsx)(E,{path:"show",element:(0,W.jsx)(or,{weights_cache:n,setWeights_cache:r})})]}),(0,W.jsx)(E,{path:"*",element:(0,W.jsx)(q,{})})]})})};r.render((0,W.jsx)(t.StrictMode,{children:(0,W.jsx)(G,{children:(0,W.jsx)(ir,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.ba0e4710.js.map